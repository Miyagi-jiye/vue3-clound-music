import{r as b,a as r,o as c,c as m,b as t,u as a,d as U,e as X,f as s,g as oe,w as y,n as Y,i as L,h as j,j as he,E as J,p as A,k as q,l as ne,F as T,m as M,t as k,q as G,s as E,v as fe,x as ye,y as ge,z as ke,A as ae,B as $e,C as Z,S as we,D as be,G as I,H as D,I as Se,J as Q,K as Ce,L as ze,M as te,T as Ie,N as xe}from"./index.93b6dbdf.js";import{_ as W}from"./_plugin-vue_export-helper.cdc0426e.js";import{p as De}from"./playCountFilter.21fdfcbf.js";const Pe={__name:"FullScreenButton",props:{iconSize:{type:String,default:()=>"20"}},setup(e){let o=b(!1);const l=()=>{document.fullscreenElement?(document.exitFullscreen(),o.value=!1):(document.documentElement.requestFullscreen(),o.value=!0)};return(u,p)=>{const h=r("icon-off-screen"),_=r("icon-full-screen");return c(),m("div",null,[t("div",{onClick:l,class:"icon-hover"},[a(o)?(c(),U(h,{key:0,theme:"outline",size:e.iconSize,title:"\u9000\u51FA\u5168\u5C4F"},null,8,["size"])):(c(),U(_,{key:1,theme:"outline",size:e.iconSize,title:"\u70B9\u51FB\u5168\u5C4F"},null,8,["size"]))])])}}},Ve=W(Pe,[["__scopeId","data-v-640c80d9"]]);const Te={class:"goBack"},Me={__name:"DirectionIcon",setup(e){const o=X();return(l,u)=>{const p=r("icon-left"),h=r("icon-right");return c(),m("div",Te,[s(p,{theme:"outline",size:"26",strokeWidth:2,onClick:u[0]||(u[0]=_=>a(o).back())}),s(h,{theme:"outline",size:"26",strokeWidth:2,onClick:u[1]||(u[1]=_=>a(o).forward())})])}}},Le=W(Me,[["__scopeId","data-v-c491a6dc"]]);const We=e=>(A("data-v-2d95a48f"),e=e(),q(),e),Ne=We(()=>t("a",null,"\u70B9\u51FB\u767B\u5F55",-1)),Ue=["id"],He={class:"login-form"},Fe=j("\u767B\u5F55"),Be={__name:"LoginDialog",setup(e){X();let o=b(!1),l=oe({username:"",password:""}),u=b(!1);const p=b(null);let h=oe({username:[{required:!0,message:"\u8BF7\u8F93\u5165\u8D26\u53F7",trigger:"blur"},{min:11,max:11,message:"\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u624B\u673A\u53F7\u7801",trigger:"blur"}],password:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801",trigger:"blur"},{min:6,max:16,message:"\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u5BC6\u7801",trigger:"blur"}]});const _=()=>{o.value=!0},n=()=>{p.value.validate(i=>{if(i)u.value=!0,he(l.username,l.password).then(d=>{console.log("\u83B7\u53D6\u767B\u5F55\u4FE1\u606F",d.data),d.data.code==502?J({showClose:!0,grouping:!0,message:d.data.msg||"\u767B\u5F55\u5931\u8D25",type:"error"}):(J({showClose:!0,grouping:!0,message:d.data.msg||"\u767B\u5F55\u6210\u529F",type:"success"}),d.data.token&&localStorage.setItem("token",JSON.stringify(d.data.token)),d.data.cookie&&localStorage.setItem("cookie",JSON.stringify(d.data.cookie)))}).catch(d=>{console.log(d)}).finally(()=>{u.value=!1});else return console.log("\u8868\u5355\u9A8C\u8BC1\u4E0D\u901A\u8FC7"),!1})};return(i,d)=>{const w=r("el-avatar"),$=r("el-input"),S=r("el-form-item"),f=r("el-form"),x=r("el-button"),H=r("el-dialog");return c(),m("div",null,[t("div",{class:"avatar hidden-less-600",onClick:_},[s(w,{size:32,src:"https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png"}),Ne]),s(H,{modelValue:a(o),"onUpdate:modelValue":d[2]||(d[2]=P=>L(o)?o.value=P:o=P),title:"Tips",width:"300px"},{header:y(({close:P,titleId:N,titleClass:g})=>[t("h4",{id:N,class:Y(g)},"\u767B\u5F55",10,Ue)]),footer:y(()=>[s(x,{class:"loginBtn",type:"primary",onClick:n,loading:a(u)},{default:y(()=>[Fe]),_:1},8,["loading"])]),default:y(()=>[t("div",He,[s(f,{model:a(l),rules:a(h),ref_key:"loginFormRef",ref:p},{default:y(()=>[s(S,{prop:"username"},{default:y(()=>[s($,{modelValue:a(l).username,"onUpdate:modelValue":d[0]||(d[0]=P=>a(l).username=P),"prefix-icon":"Cellphone",placeholder:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7\u7801"},null,8,["modelValue"])]),_:1}),s(S,{prop:"password"},{default:y(()=>[s($,{modelValue:a(l).password,"onUpdate:modelValue":d[1]||(d[1]=P=>a(l).password=P),type:"password","prefix-icon":"Lock",placeholder:"\u8BF7\u8F93\u5165\u767B\u5F55\u5BC6\u7801"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])])]),_:1},8,["modelValue"])])}}},Ee=W(Be,[["__scopeId","data-v-2d95a48f"]]);const Ae={class:"group-titlle"},qe=["onClick"],Ke={__name:"menu",setup(e){const o=X(),l=ne();let u=b(l.path);const p=oe([{id:1,groupName:"\u5728\u7EBF\u97F3\u4E50",children:[{name:"\u63A8\u8350",icon:"icon-planet",path:"/discover"},{name:"\u97F3\u4E50\u9986",icon:"icon-music",path:"/music"},{name:"\u89C6\u9891",icon:"icon-video-one",path:"/video"},{name:"\u7535\u53F0",icon:"icon-fm",path:"/dj"}]},{id:2,groupName:"\u6211\u7684\u97F3\u4E50",children:[{name:"\u6211\u559C\u6B22",icon:"icon-like"},{name:"\u672C\u5730\u6B4C\u66F2",icon:"icon-computer"},{name:"\u4E0B\u8F7D\u6B4C\u66F2",icon:"icon-download-three"},{name:"\u6700\u8FD1\u64AD\u653E",icon:"icon-play-two"}]}]),h=_=>{u.value=_.path,console.log(_.path),_.path?o.push(_.path):J.error("\u6682\u65E0\u8BE5\u8DEF\u5F84")};return(_,n)=>(c(),m("div",null,[(c(!0),m(T,null,M(p,i=>(c(),m("div",{class:"group",key:i.id},[t("p",Ae,k(i.groupName),1),(c(!0),m(T,null,M(i.children,d=>(c(),m("div",{class:Y(["group-item",a(u)==d.path?"active":""]),key:d.path,onClick:w=>h(d)},[(c(),U(G(d.icon),{theme:"outline",size:"22",strokeWidth:2})),t("span",null,k(d.name),1)],10,qe))),128))]))),128))]))}},ie=W(Ke,[["__scopeId","data-v-ad62ffaa"]]);const Oe=e=>(A("data-v-295b632a"),e=e(),q(),e),Re={class:"header"},je=Oe(()=>t("div",{class:"title"},"\u5BFC\u822A\u83DC\u5355",-1)),Je={class:"content"},Ge={__name:"HamburgerIcon",props:{myData:{type:Array,default:()=>[]},size:{type:String,default:()=>"50%"},iconSize:{type:String,default:()=>"28"}},setup(e){let o=b(!1);return(l,u)=>{const p=r("icon-hamburger-button"),h=r("icon-close"),_=r("el-scrollbar"),n=r("el-drawer");return c(),m("div",null,[s(p,{class:"hamburgerIcon",theme:"outline",size:e.iconSize,strokeWidth:2,onClick:u[0]||(u[0]=i=>L(o)?o.value=!0:o=!0)},null,8,["size"]),s(n,{modelValue:a(o),"onUpdate:modelValue":u[2]||(u[2]=i=>L(o)?o.value=i:o=i),direction:"rtl",size:e.size,"with-header":!1},{default:y(()=>[s(_,null,{default:y(()=>[E(l.$slots,"header",{},()=>[t("div",Re,[je,s(h,{theme:"outline",size:"20",title:"\u5173\u95ED",class:"close",onClick:u[1]||(u[1]=i=>L(o)?o.value=!1:o=!1)})])],!0),E(l.$slots,"default",{},()=>[t("div",Je,[s(ie)])],!0)]),_:3})]),_:3},8,["modelValue","size"])])}}},Qe=W(Ge,[["__scopeId","data-v-295b632a"]]),se=fe("search",{state:()=>({showSearchView:!1,searchKeyword:"",suggestData:{},searchHot:[],searchData:null}),getters:{showHot:e=>e.searchKeyword=="",showSuggest:e=>{if(JSON.stringify(e.suggestData)==="{}")return!0}},actions:{async get_searchSuggest(){const e=await ye(this.searchKeyword);this.suggestData=e.data.result,console.log("\u83B7\u53D6\u641C\u7D22\u8BE6\u60C5",e.data)},async get_searchHotDetail(){const e=await ge();this.searchHot=e.data.data,console.log("\u83B7\u53D6\u641C\u7D22\u5EFA\u8BAE",e.data)},async get_songDetail(e){const o=await ke(e);return console.log("\u83B7\u53D6\u6B4C\u66F2\u8BE6\u60C5",o.data),o.data.songs[0]}}});function Xe(e,o,l){let u=null;return function(){u&&clearTimeout(u),l==!0&&(e.apply(this,arguments),l=!1),u=setTimeout(()=>{e.apply(this,arguments)},o)}}const Ye=e=>(A("data-v-4f69c6e2"),e=e(),q(),e),Ze={style:{height:"400px"}},et=Ye(()=>t("div",{class:"searchTitle"},"\u70ED\u95E8\u641C\u7D22",-1)),tt=["onClick"],ot={class:"hover"},st={style:{"margin-right":"4px"}},lt={style:{color:"#fdb6b6"}},nt={key:0},at={class:"searchTitle"},it=["onClick"],ct={style:{color:"#34d399"},class:"truncate"},rt={style:{"margin-left":"8px"},class:"truncate"},ut=["onClick"],dt={style:{color:"#34d399"},class:"truncate"},_t={style:{"margin-left":"8px"},class:"truncate"},mt=["onClick"],pt={style:{color:"#34d399","margin-left":"8px"},class:"truncate"},vt=["onClick"],ht={style:{color:"#34d399","margin-left":"8px"},class:"truncate"},ft={__name:"SearchPopover",setup(e){const{Playlist:o}=ae(),l=X(),{showSearchView:u,searchKeyword:p,showHot:h,showSuggest:_,searchHot:n,suggestData:i}=$e(se()),{get_searchSuggest:d,get_searchHotDetail:w,get_songDetail:$}=se(),S=(g,z)=>{u.value=!1,l.push({name:g,params:{id:z}})},f=async g=>{await o.get_songlistDetail(g),await o.get_songlistComment(g),l.push({name:"playlist"}),u.value=!1},x=async g=>{const z=await $(g);o.change_playMusic(z),o.push_toPlayList(z)},H=async g=>{p.value=g,await d(),u.value=!0},P=g=>{switch(g){case"songs":return"\u5355\u66F2";case"albums":return"\u4E13\u8F91";case"artists":return"\u6B4C\u624B";case"playlists":return"\u6B4C\u5355";default:return g}},N=Xe(()=>{d()},1e3);return Z(async()=>{await w()}),(g,z)=>{const K=r("el-input"),O=r("el-avatar"),ee=r("el-scrollbar"),R=r("el-popover");return c(),m("div",null,[s(R,{visible:a(u),"onUpdate:visible":z[4]||(z[4]=C=>L(u)?u.value=C:null),placement:"bottom","popper-style":"max-width:auto;padding:0;",width:"300px"},{reference:y(()=>[s(K,{modelValue:a(p),"onUpdate:modelValue":z[0]||(z[0]=C=>L(p)?p.value=C:null),placeholder:"\u641C\u7D22\u97F3\u4E50\u3001MV\u3001\u6B4C\u5355","prefix-icon":a(we),clearable:!0,onFocus:z[1]||(z[1]=C=>u.value=!0),onFocusout:z[2]||(z[2]=C=>u.value=!1),onInput:a(N),onKeyup:z[3]||(z[3]=be(C=>S("searchDetail",a(p)),["enter","native"]))},null,8,["modelValue","prefix-icon","onInput"])]),default:y(()=>[t("div",Ze,[s(ee,null,{default:y(()=>[I(t("div",null,[et,t("div",null,[(c(!0),m(T,null,M(a(n),(C,v)=>(c(),m("div",{key:C.searchWord,class:"hotItem",onClick:V=>H(C.searchWord)},[t("div",ot,[t("span",st,k(v+1)+".",1),t("span",null,k(C.searchWord),1)]),t("div",lt,k(a(De)(C.score)),1)],8,tt))),128))])],512),[[D,a(h)==!0]]),I(t("div",null,[a(i)?(c(),m("div",nt,[(c(!0),m(T,null,M(a(i).order,C=>(c(),m("div",null,[t("div",at,k(P(C)),1),(c(!0),m(T,null,M(a(i).songs,v=>{var V;return I((c(),m("div",{key:v.id,class:"searchItem",onClick:F=>x(v.id)},[t("span",ct,k(v.name),1),t("span",rt," - "+k((V=v.artists.at(0))==null?void 0:V.name),1)],8,it)),[[D,C==="songs"]])}),128)),(c(!0),m(T,null,M(a(i).albums,v=>I((c(),m("div",{key:v.id,class:"searchItem",onClick:V=>S("albumDetail",v.id)},[t("span",dt,k(v.name),1),t("span",_t," - "+k(v.artist.name),1)],8,ut)),[[D,C==="albums"]])),128)),(c(!0),m(T,null,M(a(i).artists,v=>I((c(),m("div",{key:v.id,class:"searchItem",onClick:V=>S("artistDetail",v.id)},[s(O,{size:"small",src:v.img1v1Url,class:"truncate"},null,8,["src"]),t("span",pt,k(v.name),1)],8,mt)),[[D,C==="artists"]])),128)),(c(!0),m(T,null,M(a(i).playlists,v=>I((c(),m("div",{key:v.id,class:"searchItem",onClick:V=>f(v.id)},[s(O,{size:"small",src:v.coverImgUrl,class:"truncate"},null,8,["src"]),t("div",ht,k(v.name),1)],8,vt)),[[D,C==="playlists"]])),128))]))),256))])):Se("",!0)],512),[[D,a(h)==!1]])]),_:1})])]),_:1},8,["visible"])])}}},yt=W(ft,[["__scopeId","data-v-4f69c6e2"]]);const gt={style:{width:"100%"}},kt={class:"header"},$t={class:"left"},wt={class:"right"},bt={__name:"header",setup(e){return(o,l)=>(c(),m("div",gt,[t("div",kt,[t("div",$t,[s(Le),s(yt)]),t("div",wt,[s(Ee),s(Ve,{iconSize:"20"}),s(Qe,{iconSize:"28",class:"hidden-more-800"})])])]))}},St=W(bt,[["__scopeId","data-v-9d1877c0"]]);const Ct={class:"volumeIcon hidden-less-600"},zt={class:"hidden"},It={class:"volume"},xt={__name:"VolumeIcon",emits:["volumeEmit"],setup(e,{emit:o}){let l=b(50);function u(){o("volumeEmit",l.value)}function p(){l.value=0,o("volumeEmit",0)}return Z(()=>{const h=document.querySelector(".volumeIcon"),_=document.querySelector(".hidden");b(!1);let n=b(null);_.onmouseenter=()=>{clearTimeout(n)},_.onmouseleave=()=>{_.style.display="none"},h.onmouseenter=()=>{clearTimeout(n),_.style.display="block"},h.onmouseleave=()=>{n=setTimeout(()=>{_.style.display="none"},500)}}),(h,_)=>{const n=r("el-slider");return c(),m("div",null,[t("div",Ct,[(c(),U(G(a(l)===0?"icon-volume-mute":a(l)==100?"icon-volume-notice":"icon-volume-small"),{theme:"outline",size:"22",strokeWidth:2,title:"\u97F3\u91CF",onDblclick:p},null,32))]),t("div",zt,[t("div",It,[s(n,{modelValue:a(l),"onUpdate:modelValue":_[0]||(_[0]=i=>L(l)?l.value=i:l=i),vertical:"",height:"100px","show-tooltip":!1,onInput:u},null,8,["modelValue"]),t("p",null,k(a(l)),1)])])])}}},Dt=W(xt,[["__scopeId","data-v-c0f42af7"]]);const Pt={class:"lyricPlayer"},Vt={class:"cover"},Tt={class:"cover-container"},Mt=["src","alt"],Lt={class:"controls"},Wt={class:"top-part"},Nt={class:"track-info"},Ut={class:"title"},Ht={class:"subtitle"},Ft=j(" - "),Bt={class:"like-icon"},Et={class:"progress-bar"},At={class:"time"},qt={class:"time"},Kt={class:"media-controls"},Ot={__name:"LyricPlayer",props:{songs:{type:Object,default:()=>({id:1234,name:"\u6B4C\u66F2\u540D",al:{id:1234,name:"\u4E13\u8F91",picUrl:"\u56FE\u7247\u94FE\u63A5",pic:"\u56FE\u7247id"},ar:[{id:1234,name:"\u6B4C\u624B"}]})},currentTime:{type:Number,default:()=>0},duration:{type:Number,default:()=>0}},emits:["emitPlayer"],setup(e,{emit:o}){const l=e;let u=b(!1);const p=n=>{n=="pause"&&(u.value=!1),n=="play"&&(u.value=!0),n=="pre"&&o("emitPlayer"),n=="next"&&o("emitPlayer"),n=="order"&&o("emitPlayer"),n=="cycle"&&o("emitPlayer")},h=b(0);Q(()=>l.currentTime,()=>{isNaN(l.duration)!==!0&&(h.value=parseInt(l.currentTime/l.duration*100))});function _(n){if(n==0||window.isNaN(n))return"00:00";let i=Math.floor(n%60),d=Math.floor(n/60);return`${d<10?"0"+d:d}:${i<10?"0"+i:i}`}return(n,i)=>{const d=r("router-link"),w=r("icon-like"),$=r("el-progress"),S=r("icon-play-once"),f=r("icon-go-start"),x=r("icon-play-one"),H=r("icon-pause"),P=r("icon-go-end"),N=r("icon-play-cycle");return c(),m("div",Pt,[t("div",Vt,[t("div",Tt,[t("img",{src:e.songs.al.picUrl,alt:"\u6B4C\u66F2ID="+e.songs.al.id},null,8,Mt),t("div",{class:"shadow",style:Ce({backgroundImage:"url("+e.songs.al.picUrl+")"})},null,4)])]),t("div",Lt,[t("div",Wt,[t("div",Nt,[t("div",Ut,k(e.songs.name),1),t("div",Ht,[(c(!0),m(T,null,M(e.songs.ar,g=>(c(),U(d,{key:g.id,to:{name:"artistDetail",params:{id:g.id}}},{default:y(()=>[j(k(g.name),1)]),_:2},1032,["to"]))),128)),Ft,s(d,{to:{name:"albumDetail",params:{id:e.songs.al.id}}},{default:y(()=>[j(k(e.songs.al.name),1)]),_:1},8,["to"])])]),t("div",Bt,[s(w,{theme:"outline",size:"20"})])]),t("div",Et,[t("span",At,k(_(e.currentTime)),1),s($,{percentage:h.value,"text-inside":!0,"show-text":!1,"stroke-width":6,class:"slider"},null,8,["percentage"]),t("span",qt,k(_(e.duration)),1)]),t("div",Kt,[s(S,{theme:"outline",size:"18",strokeWidth:4,title:"\u987A\u5E8F\u64AD\u653E",onClick:i[0]||(i[0]=g=>p("order")),class:"icon-hover"}),s(f,{theme:"outline",size:"34",strokeWidth:4,title:"\u4E0A\u4E00\u9996",onClick:i[1]||(i[1]=g=>p("pre")),class:"icon-hover"}),I(s(x,{theme:"filled",size:"44",onClick:i[2]||(i[2]=g=>p("play")),strokeWidth:4,title:"\u70B9\u51FB\u64AD\u653E",class:"icon-hover"},null,512),[[D,a(u)===!1]]),I(s(H,{theme:"filled",size:"44",strokeWidth:4,onClick:i[3]||(i[3]=g=>p("pause")),title:"\u70B9\u51FB\u6682\u505C",class:"icon-hover"},null,512),[[D,a(u)===!0]]),s(P,{theme:"outline",size:"34",strokeWidth:4,title:"\u4E0B\u4E00\u9996",onClick:i[4]||(i[4]=g=>p("next")),class:"icon-hover"}),s(N,{theme:"outline",size:"18",strokeWidth:4,title:"\u5FAA\u73AF\u64AD\u653E",onClick:i[5]||(i[5]=g=>p("cycle")),class:"icon-hover"})])])])}}},Rt=W(Ot,[["__scopeId","data-v-8fe777b8"]]);const jt=e=>(A("data-v-da408d66"),e=e(),q(),e),Jt=["src"],Gt={class:"lyricDialog"},Qt={class:"left-side"},Xt={class:"right-side"},Yt={key:0,class:"lyric-container"},Zt={key:1,class:"lyric-container"},eo=jt(()=>t("p",{class:"lyric-item lyricActive"},"\u6682\u65E0\u6B4C\u8BCD",-1)),to=[eo],oo={__name:"LyricDialog",props:{currentPlayMusic:{type:Object,default:()=>({id:1,name:"\u6B4C\u66F2\u540D\u52A0\u5907\u6CE8()",ar:[{id:123456,name:"\u6B4C\u624B"}],al:{id:123456,name:"\u6B4C\u66F2",picUrl:"\u56FE\u7247\u94FE\u63A5"},dt:0})},size:{type:String,default:()=>"100%"},lyric:{type:Array,default:()=>[{time:0,lyric:"\u4F5C\u8BCD : ",next:9999}]},currentTime:{type:Number,default:()=>0},duration:{type:Number,default:()=>0}},setup(e){const o=e;let l=b(!1),u=b(0),p=b(!0),h=b(!0),_=1;const n=()=>{_++,_==1&&(p.value=!0,h.value=!0),_==2&&(p.value=!1,h.value=!0),_==3&&(p.value=!0,h.value=!1,_=0),console.log(_)};return Z(()=>{Q(()=>o.currentTime,(i,d)=>{for(let w=0;w<o.lyric.length;w++)o.currentTime>=o.lyric[w].time&&o.currentTime<=o.lyric[w].next&&(u.value=w)}),Q(()=>u.value,(i,d)=>{const w=document.querySelector(".lyricActive"),$=document.querySelector(".right-side");w&&$&&($.scrollTop=w.offsetHeight*u.value-$.clientHeight/2)})}),(i,d)=>{const w=r("icon-down"),$=r("icon-app-switch"),S=r("el-drawer");return c(),m("div",null,[t("img",{src:e.currentPlayMusic.al.picUrl+"?param=50y50",fit:"cover",onClick:d[0]||(d[0]=f=>L(l)?l.value=!0:l=!0),class:"img"},null,8,Jt),s(S,{modelValue:a(l),"onUpdate:modelValue":d[2]||(d[2]=f=>L(l)?l.value=f:l=f),direction:"btt",size:e.size,"with-header":!1},{default:y(()=>[E(i.$slots,"default",{},()=>[t("div",Gt,[I(t("div",Qt,[s(Rt,{songs:e.currentPlayMusic,currentTime:e.currentTime,duration:e.duration},null,8,["songs","currentTime","duration"])],512),[[D,a(p)==!0]]),I(t("div",Xt,[e.lyric.length!==0?(c(),m("div",Yt,[(c(!0),m(T,null,M(e.lyric,f=>(c(),m("p",{class:Y(["lyric-item",{lyricActive:e.currentTime>=f.time&&e.currentTime<=f.next}])},k(f.lyric),3))),256))])):(c(),m("div",Zt,to))],512),[[D,a(h)==!0]]),t("div",{class:"close",onClick:d[1]||(d[1]=f=>L(l)?l.value=!1:l=!1)},[s(w,{theme:"filled",size:"40",class:"downIcon"})]),t("div",{class:"switch",onClick:n},[s($,{theme:"filled",size:"25",class:"switchIcon"})])])],!0)]),_:3},8,["modelValue","size"])])}}},so=W(oo,[["__scopeId","data-v-da408d66"]]);const ce=e=>(A("data-v-d4906b08"),e=e(),q(),e),lo={class:"title"},no=ce(()=>t("div",{class:"large-title"},"\u64AD\u653E\u5217\u8868",-1)),ao={class:"small-title"},io=ce(()=>t("span",null,"\u6E05\u7A7A",-1)),co=["onDblclick"],ro={class:"img"},uo={alt:"\u52A0\u8F7D\u4E2D..."},_o={class:"detail"},mo={class:"author"},po={class:"duration"},vo={__name:"MusicListIcon",props:{myData:{type:Array,default:()=>[]},size:{type:Number,default:()=>300},iconSize:{type:String,default:()=>"38"},currentPlayMusic:{type:Object,default:()=>{}}},emits:["dblclickChild","clearChild"],setup(e,{emit:o}){let l=b(!1);function u(_){let n=Math.floor(_/1e3%60),i=Math.floor(_/1e3/60);return`${i<10?"0"+i:i}:${n<10?"0"+n:n}`}function p(_){o("dblclickChild",_)}function h(){o("clearChild")}return(_,n)=>{const i=r("icon-music-list"),d=r("el-badge"),w=r("icon-delete"),$=r("el-drawer"),S=ze("img-lazy");return c(),m("div",null,[s(d,{value:e.myData.length,hidden:e.myData.length==0},{default:y(()=>[s(i,{class:"musicList",theme:"outline",size:e.iconSize,strokeWidth:3,title:"\u6B4C\u66F2\u5217\u8868",onClick:n[0]||(n[0]=f=>L(l)?l.value=!0:l=!0)},null,8,["size"])]),_:1},8,["value","hidden"]),s($,{modelValue:a(l),"onUpdate:modelValue":n[1]||(n[1]=f=>L(l)?l.value=f:l=f),direction:"rtl",size:e.size,"with-header":!1},{default:y(()=>[E(_.$slots,"header",{},()=>[t("div",lo,[no,t("div",ao,[t("span",null,"\u5171"+k(e.myData.length)+"\u9996\u6B4C\u66F2",1),t("div",{class:"icon",onClick:h},[s(w,{theme:"outline",size:"14",strokeWidth:4,title:"\u6E05\u7A7A"}),io])])])],!0),E(_.$slots,"default",{},()=>[(c(!0),m(T,null,M(e.myData,f=>(c(),m("div",{onDblclick:x=>p(f),class:Y(["card",e.currentPlayMusic.id==f.id?"active":""]),key:f.id},[t("div",ro,[I(t("img",uo,null,512),[[S,f.al.picUrl+"?param=40y40"]])]),t("div",_o,[t("span",null,k(f.name),1),t("div",mo,[(c(!0),m(T,null,M(f.ar,x=>(c(),m("span",{key:x.id},k(x.name),1))),128))])]),t("div",po,k(u(f.dt)),1)],42,co))),128))],!0)]),_:3},8,["modelValue","size"])])}}},le=W(vo,[["__scopeId","data-v-d4906b08"]]);const ho={class:"palyer"},fo=["src"],yo={class:"group"},go={class:"detail"},ko={class:"info"},$o={class:"top"},wo={class:"bottom"},bo={class:"button"},So={class:"list hidden-less-1000"},Co={__name:"footer",setup(e){const{Playlist:o}=ae();function l(v){o.change_playMusic(v)}function u(){g(),o.clear_toPlayList()}const p=te(()=>o.currentPlayMusic.id),h=te(()=>o.toPlayList),_=te(()=>o.currentPlayMusic);Q(p,()=>{console.log("\u6B4C\u66F2id\u53D1\u751F\u53D8\u5316",p.value),N()});const n=b(""),i=b("");let d=b(0),w=b(0),$=b(!1),S=b(0),f=b(!1),x=b(!0);function H(){x.value=!1,f.value=!0}function P(){x.value=!0,f.value=!1}function N(){$.value=!0,setTimeout(()=>{n.value.play().then(()=>{console.log("\u64AD\u653E\u6210\u529F"),$.value=!0}).catch(v=>{console.log("\u64AD\u653E\u51FA\u9519",v),$.value=!1,n.value.currentTime=0,J({showClose:!0,message:"\u6CA1\u6709\u64AD\u653E\u6743\u9650",type:"error"})})},500)}function g(){$.value=!1,n.value.pause()}function z(){o.pre_music()}function K(){o.next_music()}function O(v){n.value.volume=v/100}function ee(){n.value.currentTime=Number(S.value*n.value.duration/100)}function R(v){if(v==0||window.isNaN(v))return"00:00";let V=Math.floor(v%60),F=Math.floor(v/60);return`${F<10?"0"+F:F}:${V<10?"0"+V:V}`}function C(){n.value.autoplay=!1,n.value.controls=!1,n.value.volume=.5}return Z(()=>{C(),n.value.ontimeupdate=function(){S.value=Number(n.value.currentTime/n.value.duration*100),d.value=parseInt(n.value.currentTime),w.value=n.value.duration},n.value.onended=function(){$.value=!1,console.log("\u64AD\u653E\u7ED3\u675F"),o.toPlayList.length!==0&&f.value==!0&&N(),o.toPlayList.length-1!==0&&x.value==!0&&K()}}),(v,V)=>{const F=r("el-slider"),re=r("icon-play-once"),ue=r("icon-play-cycle"),de=r("icon-go-start"),_e=r("icon-play"),me=r("icon-pause-one"),pe=r("icon-go-end"),ve=r("icon-text-message");return c(),m("div",ho,[t("audio",{type:"file",ref_key:"audio",ref:n,src:`https://music.163.com/song/media/outer/url?id=${a(p)}.mp3`,preload:"metadata"},"\u60A8\u7684\u6D4F\u89C8\u5668\u4E0D\u652F\u6301audio\u6807\u7B7E,\u60A8\u8FD8\u662F\u6362\u4E2A\u6D4F\u89C8\u5668\u5427",8,fo),s(F,{ref_key:"progressBar",ref:i,modelValue:a(S),"onUpdate:modelValue":V[0]||(V[0]=B=>L(S)?S.value=B:S=B),onInput:ee,"show-tooltip":!1},null,8,["modelValue"]),t("div",yo,[t("div",go,[s(so,{lyric:a(o).lyric,currentTime:n.value.currentTime,duration:n.value.duration,currentPlayMusic:a(o).currentPlayMusic},null,8,["lyric","currentTime","duration","currentPlayMusic"]),t("div",ko,[t("p",$o,k(a(o).currentPlayMusic.name),1),t("div",wo,[(c(!0),m(T,null,M(a(o).currentPlayMusic.ar,B=>(c(),m("a",{key:B.name},k(B.name),1))),128))])])]),t("div",bo,[I(s(re,{class:"hidden-less-600",theme:"outline",size:"22",strokeWidth:2,title:"\u987A\u5E8F\u64AD\u653E",onClick:H},null,512),[[D,a(x)===!0]]),I(s(ue,{class:"hidden-less-600",theme:"outline",size:"22",strokeWidth:2,title:"\u5FAA\u73AF\u64AD\u653E",onClick:P},null,512),[[D,a(f)===!0]]),s(de,{class:"hidden-less-600",theme:"outline",size:"28",strokeWidth:4,title:"\u4E0A\u4E00\u9996",onClick:z}),I(s(_e,{style:{color:"#34d399"},theme:"filled",size:"38",strokeWidth:2,title:"\u70B9\u51FB\u64AD\u653E",onClick:N},null,512),[[D,a($)===!1]]),I(s(me,{style:{color:"#34d399"},theme:"filled",size:"38",strokeWidth:2,title:"\u70B9\u51FB\u6682\u505C",onClick:g},null,512),[[D,a($)===!0]]),s(pe,{class:"hidden-less-600",theme:"outline",size:"28",strokeWidth:4,title:"\u4E0B\u4E00\u9996",onClick:K}),s(Dt,{onVolumeEmit:O}),s(le,{myData:a(h),currentPlayMusic:a(_),onDblclickChild:l,onClearChild:u,class:"hidden-more-600"},null,8,["myData","currentPlayMusic"])]),t("div",So,[t("p",null,k(R(a(d)))+" / "+k(R(a(w))),1),s(ve,{theme:"outline",size:"22",strokeWidth:3,title:"\u6B4C\u66F2\u8BC4\u8BBA"}),s(le,{myData:a(h),currentPlayMusic:a(_),onDblclickChild:l,onClearChild:u,iconSize:"24"},null,8,["myData","currentPlayMusic"])])])])}}},zo=W(Co,[["__scopeId","data-v-66fa66d2"]]);const Io={class:"common-layout"},xo={__name:"index",setup(e){const o=ne();return(l,u)=>{const p=r("el-scrollbar"),h=r("el-aside"),_=r("el-header"),n=r("router-view"),i=r("el-main"),d=r("el-footer"),w=r("el-container");return c(),m("div",Io,[s(w,null,{default:y(()=>[s(h,{width:"240px"},{default:y(()=>[s(p,null,{default:y(()=>[s(ie)]),_:1})]),_:1}),s(w,null,{default:y(()=>[s(_,null,{default:y(()=>[s(St)]),_:1}),s(i,null,{default:y(()=>[s(Ie,{name:"slide-fade"},{default:y(()=>[a(o).meta.keepAlive?(c(),U(xe,{key:0},[s(p,null,{default:y(()=>[s(n,null,{default:y(({Component:$})=>[(c(),U(G($)))]),_:1})]),_:1})],1024)):(c(),U(p,{key:1},{default:y(()=>[s(n,null,{default:y(({Component:$})=>[(c(),U(G($)))]),_:1})]),_:1}))]),_:1})]),_:1}),s(d,null,{default:y(()=>[s(zo)]),_:1})]),_:1})]),_:1})])}}},To=W(xo,[["__scopeId","data-v-653978fd"]]);export{To as default};
