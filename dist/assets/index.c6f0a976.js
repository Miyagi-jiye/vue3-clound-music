import{u as G,r as d,a as q,b as n,o as i,c as p,d as l,e as o,f as s,i as P,S as ie,w as c,n as J,g as ce,h as ue,E as U,p as Q,j as X,k as Y,F as W,l as N,t as $,m as S,q as F,s as re,v as K,x as O,y as de,z as j,A as _e,B as me,C as H,T as pe,K as fe}from"./index.0f2d96f3.js";import{_ as T}from"./_plugin-vue_export-helper.cdc0426e.js";const he=r=>(Q("data-v-0f91d470"),r=r(),X(),r),ve={style:{width:"100%"}},ge={class:"header"},ye={class:"left"},ke={class:"goBack"},be={class:"right"},$e=he(()=>l("a",null,"\u70B9\u51FB\u767B\u5F55",-1)),we=["id"],xe={class:"login-form"},Ce=ce("\u767B\u5F55"),Ve={__name:"header",setup(r){const w=G();let a=d(""),_=d(!1),m=q({username:"",password:""}),u=d(!1);const t=d(null);let h=q({username:[{required:!0,message:"\u8BF7\u8F93\u5165\u8D26\u53F7",trigger:"blur"},{min:11,max:11,message:"\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u624B\u673A\u53F7\u7801",trigger:"blur"}],password:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801",trigger:"blur"},{min:6,max:16,message:"\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u5BC6\u7801",trigger:"blur"}]});const y=()=>{_.value=!0},v=()=>{t.value.validate(x=>{if(x)u.value=!0,ue(m.username,m.password).then(e=>{console.log("\u83B7\u53D6\u767B\u5F55\u4FE1\u606F",e.data),e.data.code==502?U({showClose:!0,grouping:!0,message:e.data.msg||"\u767B\u5F55\u5931\u8D25",type:"error"}):(U({showClose:!0,grouping:!0,message:e.data.msg||"\u767B\u5F55\u6210\u529F",type:"success"}),e.data.token&&localStorage.setItem("token",JSON.stringify(e.data.token)),e.data.cookie&&localStorage.setItem("cookie",JSON.stringify(e.data.cookie)))}).catch(e=>{console.log(e)}).finally(()=>{u.value=!1});else return console.log("\u8868\u5355\u9A8C\u8BC1\u4E0D\u901A\u8FC7"),!1})};return(x,e)=>{const C=n("icon-left"),B=n("icon-right"),k=n("el-input"),V=n("el-avatar"),b=n("icon-hamburger-button"),D=n("el-form-item"),R=n("el-form"),A=n("el-button"),E=n("el-dialog");return i(),p("div",ve,[l("div",ge,[l("div",ye,[l("div",ke,[o(C,{theme:"outline",size:"26",strokeWidth:2,onClick:e[0]||(e[0]=f=>s(w).back())}),o(B,{theme:"outline",size:"26",strokeWidth:2,onClick:e[1]||(e[1]=f=>s(w).forward())})]),o(k,{modelValue:s(a),"onUpdate:modelValue":e[2]||(e[2]=f=>P(a)?a.value=f:a=f),placeholder:"\u641C\u7D22\u97F3\u4E50\u3001MV\u3001\u6B4C\u5355","prefix-icon":s(ie)},null,8,["modelValue","prefix-icon"])]),l("div",be,[l("div",{class:"avatar",onClick:y},[o(V,{size:32,src:"https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png"}),$e]),o(b,{theme:"outline",size:"28",strokeWidth:2})])]),o(E,{modelValue:s(_),"onUpdate:modelValue":e[5]||(e[5]=f=>P(_)?_.value=f:_=f),title:"Tips",width:"300px"},{header:c(({close:f,titleId:L,titleClass:g})=>[l("h4",{id:L,class:J(g)},"\u767B\u5F55",10,we)]),footer:c(()=>[o(A,{class:"loginBtn",type:"primary",onClick:v,loading:s(u)},{default:c(()=>[Ce]),_:1},8,["loading"])]),default:c(()=>[l("div",xe,[o(R,{model:s(m),rules:s(h),ref_key:"loginFormRef",ref:t},{default:c(()=>[o(D,{prop:"username"},{default:c(()=>[o(k,{modelValue:s(m).username,"onUpdate:modelValue":e[3]||(e[3]=f=>s(m).username=f),"prefix-icon":"Cellphone",placeholder:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7\u7801"},null,8,["modelValue"])]),_:1}),o(D,{prop:"password"},{default:c(()=>[o(k,{modelValue:s(m).password,"onUpdate:modelValue":e[4]||(e[4]=f=>s(m).password=f),type:"password","prefix-icon":"Lock",placeholder:"\u8BF7\u8F93\u5165\u767B\u5F55\u5BC6\u7801"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])])]),_:1},8,["modelValue"])])}}},ze=T(Ve,[["__scopeId","data-v-0f91d470"]]);const Ie={style:{"padding-top":"20px"}},Me={class:"group-titlle"},Se=["onClick"],Pe={__name:"menu",setup(r){const w=G(),a=Y();let _=d(a.path);const m=q([{id:1,groupName:"\u5728\u7EBF\u97F3\u4E50",children:[{name:"\u63A8\u8350",icon:"planet",path:"/discover"},{name:"\u97F3\u4E50\u9986",icon:"music",path:"/music"},{name:"\u89C6\u9891",icon:"video-one",path:"/video"},{name:"\u7535\u53F0",icon:"fm",path:"/dj"}]},{id:2,groupName:"\u6211\u7684\u97F3\u4E50",children:[{name:"\u6211\u559C\u6B22",icon:"like"},{name:"\u672C\u5730\u6B4C\u66F2",icon:"computer"},{name:"\u4E0B\u8F7D\u6B4C\u66F2",icon:"download-three"},{name:"\u6700\u8FD1\u64AD\u653E",icon:"play-two"}]}]),u=t=>{_.value=t.path,console.log(t.path),t.path?w.push(t.path):U.error("\u6682\u65E0\u8BE5\u8DEF\u5F84")};return(t,h)=>(i(),p("div",Ie,[(i(!0),p(W,null,N(m,y=>(i(),p("div",{class:"group",key:y.id},[l("p",Me,$(y.groupName),1),(i(!0),p(W,null,N(y.children,v=>(i(),p("div",{class:J(["group-item",s(_)==v.path?"active":""]),key:v.path,onClick:x=>u(v)},[(i(),S(F("icon-"+v.icon),{theme:"outline",size:"22",strokeWidth:2})),l("span",null,$(v.name),1)],10,Se))),128))]))),128))]))}},De=T(Pe,[["__scopeId","data-v-e5b48af0"]]);const Z=r=>(Q("data-v-0d0ad593"),r=r(),X(),r),We={class:"title"},Ne=Z(()=>l("div",{class:"large-title"},"\u64AD\u653E\u5217\u8868",-1)),Te={class:"small-title"},Be={class:"icon"},Le=Z(()=>l("span",null,"\u6E05\u7A7A",-1)),Ue=["onDblclick"],Fe={class:"img"},Re={alt:"\u52A0\u8F7D\u4E2D..."},Ae={class:"detail"},Ee={class:"author"},je={class:"duration"},qe={__name:"MusicListIcon",props:{myData:{type:Array,default:()=>[]},size:{type:Number,default:()=>300},iconSize:{type:String,default:()=>"38"},currentPlayMusic:{type:Object,default:()=>{}}},emits:["dblclickChild"],setup(r,{emit:w}){let a=d(!1);function _(u){let t=Math.floor(u/1e3%60),h=Math.floor(u/1e3/60);return`${h<10?"0"+h:h}:${t<10?"0"+t:t}`}function m(u){console.log("\u5207\u6362",u),w("dblclickChild",u)}return(u,t)=>{const h=n("icon-music-list"),y=n("icon-delete"),v=n("el-drawer"),x=re("img-lazy");return i(),p("div",null,[o(h,{class:"musicList hidden-more-600",theme:"filled",size:r.iconSize,strokeWidth:2,title:"\u6B4C\u66F2\u5217\u8868",onClick:t[0]||(t[0]=e=>P(a)?a.value=!0:a=!0)},null,8,["size"]),o(v,{modelValue:s(a),"onUpdate:modelValue":t[1]||(t[1]=e=>P(a)?a.value=e:a=e),direction:"rtl",size:r.size,"with-header":!1},{default:c(()=>[K(u.$slots,"header",{},()=>[l("div",We,[Ne,l("div",Te,[l("span",null,"\u5171"+$(r.myData.length)+"\u9996\u6B4C\u66F2",1),l("div",Be,[o(y,{theme:"outline",size:"14",strokeWidth:4,title:"\u6E05\u7A7A"}),Le])])])],!0),K(u.$slots,"default",{},()=>[(i(!0),p(W,null,N(r.myData,e=>(i(),p("div",{onDblclick:C=>m(e),class:J(["card",r.currentPlayMusic.id==e.id?"active":""]),key:e.id},[l("div",Fe,[O(l("img",Re,null,512),[[x,e.al.picUrl+"?param=40y40"]])]),l("div",Ae,[l("span",null,$(e.name),1),l("div",Ee,[(i(!0),p(W,null,N(e.ar,C=>(i(),p("span",{key:C.id},$(C.name),1))),128))])]),l("div",je,$(_(e.dt)),1)],42,Ue))),128))],!0)]),_:3},8,["modelValue","size"])])}}},Oe=T(qe,[["__scopeId","data-v-0d0ad593"]]);const Je={class:"palyer"},Ke=["src"],He={class:"group"},Ge={class:"detail"},Qe=["src"],Xe={class:"info"},Ye={class:"top"},Ze={class:"bottom"},et={class:"button"},tt={class:"list"},ot={__name:"footer",setup(r){function w(g){if(console.log("\u63A5\u6536\u5B50\u7EC4\u4EF6\u7684\u503C",g),a.currentPlayMusic.id!==g.id)a.currentPlayMusic=g;else return!1}const{Playlist:a}=de(),_=j(()=>a.currentPlayMusic.id),m=j(()=>a.toPlayList),u=j(()=>a.currentPlayMusic);_e(_,()=>{console.log(_.value),D()});const t=d(""),h=d(""),y=d(""),v=d(""),x=d(""),e=d("");let C=d(0),B=d(0),k=d(!1),V=d(0),b=d(1);function D(){k.value=!0,setTimeout(()=>{t.value.play().then(()=>{console.log("\u64AD\u653E\u6210\u529F"),k.value=!0}).catch(g=>{console.log("\u64AD\u653E\u51FA\u9519",g),k.value=!1,t.value.currentTime=0,U({showClose:!0,message:"\u6CA1\u6709\u64AD\u653E\u6743\u9650",type:"error"})})},500)}function R(){k.value=!1,t.value.pause()}function A(){e.value.style.display==""?e.value.style.display="flex":e.value.style.display=""}function E(){t.value.volume=b.value/100}function f(){t.value.currentTime=Number(V.value*t.value.duration/100)}function L(g){let z=Math.floor(g%60),M=Math.floor(g/60);return`${M<10?"0"+M:M}:${z<10?"0"+z:z}`}return me(()=>{function g(){t.value.autoplay=!1,t.value.controls=!1,t.value.volume=.5,b.value=t.value.volume*100}g(),t.value.ontimeupdate=function(){V.value=Number(t.value.currentTime/t.value.duration*100),C.value=t.value.currentTime,B.value=t.value.duration},t.value.onended=function(){k.value=!1}}),(g,z)=>{const M=n("el-slider"),ee=n("icon-play-once"),te=n("icon-go-start"),oe=n("icon-play"),le=n("icon-pause-one"),se=n("icon-go-end"),ne=n("icon-text-message"),ae=n("icon-music-list");return i(),p("div",Je,[l("audio",{type:"file",ref_key:"audio",ref:t,src:`https://music.163.com/song/media/outer/url?id=${s(_)}.mp3`,preload:"metadata"}," \u60A8\u7684\u6D4F\u89C8\u5668\u4E0D\u652F\u6301audio\u6807\u7B7E,\u60A8\u8FD8\u662F\u6362\u4E2A\u6D4F\u89C8\u5668\u5427 ",8,Ke),o(M,{ref_key:"progressBar",ref:x,modelValue:s(V),"onUpdate:modelValue":z[0]||(z[0]=I=>P(V)?V.value=I:V=I),onInput:f,"show-tooltip":!1},null,8,["modelValue"]),l("div",He,[l("div",Ge,[l("img",{src:s(a).currentPlayMusic.al.picUrl+"?param=50y50",fit:"cover"},null,8,Qe),l("div",Xe,[l("p",Ye,$(s(a).currentPlayMusic.name),1),l("div",Ze,[(i(!0),p(W,null,N(s(a).currentPlayMusic.ar,I=>(i(),p("a",{key:I.name},$(I.name),1))),128))])])]),l("div",et,[o(ee,{class:"hidden-less-600",theme:"outline",size:"22",strokeWidth:2,title:"\u987A\u5E8F\u64AD\u653E"}),o(te,{class:"hidden-less-600",theme:"outline",size:"28",strokeWidth:4,title:"\u4E0A\u4E00\u9996"}),O(o(oe,{style:{color:"#34d399"},ref_key:"playIcon",ref:h,theme:"filled",size:"38",strokeWidth:2,title:"\u70B9\u51FB\u64AD\u653E",onClick:D},null,512),[[H,s(k)===!1]]),O(o(le,{style:{color:"#34d399"},ref_key:"pauseIcon",ref:y,theme:"filled",size:"38",strokeWidth:2,title:"\u70B9\u51FB\u6682\u505C",onClick:R},null,512),[[H,s(k)===!0]]),o(se,{class:"hidden-less-600",theme:"outline",size:"28",strokeWidth:4,title:"\u4E0B\u4E00\u9996"}),(i(),S(F(s(b)===0?"icon-volume-mute":s(b)==100?"icon-volume-notice":"icon-volume-small"),{class:"hidden-less-600",ref_key:"volumeIcon",ref:v,theme:"outline",size:"22",strokeWidth:2,title:"\u97F3\u91CF",onClick:A},null,512)),l("div",{class:"volume",ref_key:"volumeSetting",ref:e},[o(M,{modelValue:s(b),"onUpdate:modelValue":z[1]||(z[1]=I=>P(b)?b.value=I:b=I),vertical:"",height:"100px","show-tooltip":!1,onInput:E},null,8,["modelValue"]),l("p",null,$(s(b)),1)],512),o(Oe,{myData:s(m),currentPlayMusic:s(u),onDblclickChild:w},null,8,["myData","currentPlayMusic"])]),l("div",tt,[l("p",null,$(L(s(C)))+" / "+$(L(s(B))),1),o(ne,{theme:"outline",size:"18",strokeWidth:3,title:"\u6B4C\u8BCD"}),o(ae,{theme:"outline",size:"18",strokeWidth:3,title:"\u6B4C\u66F2\u5217\u8868"})])])])}}},lt=T(ot,[["__scopeId","data-v-db109724"]]);const st={class:"common-layout"},nt={__name:"index",setup(r){const w=Y();return(a,_)=>{const m=n("el-aside"),u=n("el-header"),t=n("router-view"),h=n("el-scrollbar"),y=n("el-main"),v=n("el-footer"),x=n("el-container");return i(),p("div",st,[o(x,null,{default:c(()=>[o(m,{width:"240px"},{default:c(()=>[o(De)]),_:1}),o(x,null,{default:c(()=>[o(u,null,{default:c(()=>[o(ze)]),_:1}),o(y,null,{default:c(()=>[o(pe,{name:"slide-fade"},{default:c(()=>[s(w).meta.keepAlive?(i(),S(fe,{key:0},[o(h,null,{default:c(()=>[o(t,null,{default:c(({Component:e})=>[(i(),S(F(e)))]),_:1})]),_:1})],1024)):(i(),S(h,{key:1},{default:c(()=>[o(t,null,{default:c(({Component:e})=>[(i(),S(F(e)))]),_:1})]),_:1}))]),_:1})]),_:1}),o(v,null,{default:c(()=>[o(lt)]),_:1})]),_:1})]),_:1})])}}},ct=T(nt,[["__scopeId","data-v-ab17c529"]]);export{ct as default};
