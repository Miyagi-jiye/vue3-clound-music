import{_ as L,r as b,a as c,o as d,c as _,b as t,u as a,d as F,e as Y,f as o,s as se,g as le,w as I,v as P,h as $,n as G,i as T,j,p as R,k as K,l as fe,F as V,m as M,t as g,q as Z,E as ae,x as A,y as ye,S as ge,z as ke,A as $e,B as ee,C as O,D as be,G as we,H as X,T as Se}from"./index.897618c7.js";import{u as te,a as Ce,b as ze,c as xe}from"./login.29e155bb.js";import{p as Ie}from"./playCountFilter.21fdfcbf.js";import{u as ie}from"./index.d4d22059.js";import"./playlist.8bf48f71.js";const De={__name:"FullScreenButton",props:{iconSize:{type:String,default:()=>"20"}},setup(e){let n=b(!1);const s=()=>{document.fullscreenElement?(document.exitFullscreen(),n.value=!1):(document.documentElement.requestFullscreen(),n.value=!0)};return(r,m)=>{const v=c("icon-off-screen"),u=c("icon-full-screen");return d(),_("div",null,[t("div",{onClick:s,class:"icon-hover"},[a(n)?(d(),F(v,{key:0,theme:"outline",size:e.iconSize,title:"\u9000\u51FA\u5168\u5C4F"},null,8,["size"])):(d(),F(u,{key:1,theme:"outline",size:e.iconSize,title:"\u70B9\u51FB\u5168\u5C4F"},null,8,["size"]))])])}}},Pe=L(De,[["__scopeId","data-v-640c80d9"]]);const Ve={class:"goBack"},Me={__name:"DirectionIcon",setup(e){const n=Y();return(s,r)=>{const m=c("icon-left"),v=c("icon-right");return d(),_("div",Ve,[o(m,{theme:"outline",size:"26",strokeWidth:2,onClick:r[0]||(r[0]=u=>a(n).back())}),o(v,{theme:"outline",size:"26",strokeWidth:2,onClick:r[1]||(r[1]=u=>a(n).forward())})])}}},Te=L(Me,[["__scopeId","data-v-c491a6dc"]]);const Le=e=>(R("data-v-cd3a1572"),e=e(),K(),e),We={class:"loginDialog"},Ue=Le(()=>t("a",null,"\u70B9\u51FB\u767B\u5F55",-1)),He=["id"],Ne={class:"login-form"},Fe=j("\u767B\u5F55"),Be={__name:"LoginDialog",setup(e){const{get_login:n}=te(),{loginParams:s,isLogin:r}=se(te());let m=b(!1),v=b(!1);const u=b(null);let l=le({phone:[{required:!0,message:"\u8BF7\u8F93\u5165\u8D26\u53F7",trigger:"blur"},{min:11,max:11,message:"\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u624B\u673A\u53F7\u7801",trigger:"blur"}],password:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801",trigger:"blur"},{min:6,max:16,message:"\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u5BC6\u7801",trigger:"blur"}]});const i=()=>{m.value=!0},h=()=>{u.value.validate(k=>{if(k)v.value=!0,n().finally(()=>v.value=!1);else return console.log("\u8868\u5355\u9A8C\u8BC1\u4E0D\u901A\u8FC7"),!1})};return(k,y)=>{const C=c("el-avatar"),f=c("el-input"),D=c("el-form-item"),W=c("el-form"),U=c("el-button"),x=c("el-dialog");return I((d(),_("div",We,[t("div",{class:"avatar hidden-less-800",onClick:i},[o(C,{size:32,src:"https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png"}),Ue]),o(x,{modelValue:a(m),"onUpdate:modelValue":y[2]||(y[2]=p=>T(m)?m.value=p:m=p),title:"Tips",width:"300px"},{header:$(({close:p,titleId:B,titleClass:H})=>[t("h4",{id:B,class:G(H)},"\u767B\u5F55",10,He)]),footer:$(()=>[o(U,{class:"loginBtn",type:"primary",onClick:h,loading:a(v)},{default:$(()=>[Fe]),_:1},8,["loading"])]),default:$(()=>[t("div",Ne,[o(W,{model:a(s),rules:a(l),ref_key:"loginFormRef",ref:u},{default:$(()=>[o(D,{prop:"phone"},{default:$(()=>[o(f,{modelValue:a(s).phone,"onUpdate:modelValue":y[0]||(y[0]=p=>a(s).phone=p),"prefix-icon":"Cellphone",placeholder:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7\u7801"},null,8,["modelValue"])]),_:1}),o(D,{prop:"password"},{default:$(()=>[o(f,{modelValue:a(s).password,"onUpdate:modelValue":y[1]||(y[1]=p=>a(s).password=p),type:"password","prefix-icon":"Lock",placeholder:"\u8BF7\u8F93\u5165\u767B\u5F55\u5BC6\u7801"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])])]),_:1},8,["modelValue"])],512)),[[P,a(r)==!1]])}}},Ee=L(Be,[["__scopeId","data-v-cd3a1572"]]);const qe={class:"group-titlle"},Ae=["onClick"],Re={__name:"menu",setup(e){const n=Y(),s=fe();let r=b(s.path);const m=le([{id:1,groupName:"\u5728\u7EBF\u97F3\u4E50",children:[{name:"\u63A8\u8350",icon:"icon-planet",path:"/discover"},{name:"\u97F3\u4E50\u9986",icon:"icon-music",path:"/music"},{name:"\u89C6\u9891",icon:"icon-video-one",path:"/video"},{name:"\u7535\u53F0",icon:"icon-fm",path:"/dj"}]},{id:2,groupName:"\u6211\u7684\u97F3\u4E50",children:[{name:"\u6211\u559C\u6B22",icon:"icon-like"},{name:"\u672C\u5730\u6B4C\u66F2",icon:"icon-computer"},{name:"\u4E0B\u8F7D\u6B4C\u66F2",icon:"icon-download-three"},{name:"\u6700\u8FD1\u64AD\u653E",icon:"icon-play-two"}]}]),v=u=>{r.value=u.path,console.log(u.path),u.path?n.push(u.path):ae.error("\u6682\u65E0\u8BE5\u8DEF\u5F84")};return(u,l)=>(d(),_("div",null,[(d(!0),_(V,null,M(m,i=>(d(),_("div",{class:"group",key:i.id},[t("p",qe,g(i.groupName),1),(d(!0),_(V,null,M(i.children,h=>(d(),_("div",{class:G(["group-item",a(r)==h.path?"active":""]),key:h.path,onClick:k=>v(h)},[(d(),F(Z(h.icon),{theme:"outline",size:"22",strokeWidth:2})),t("span",null,g(h.name),1)],10,Ae))),128))]))),128))]))}},ce=L(Re,[["__scopeId","data-v-ad62ffaa"]]);const Ke=e=>(R("data-v-295b632a"),e=e(),K(),e),je={class:"header"},Oe=Ke(()=>t("div",{class:"title"},"\u5BFC\u822A\u83DC\u5355",-1)),Ge={class:"content"},Je={__name:"HamburgerIcon",props:{myData:{type:Array,default:()=>[]},size:{type:String,default:()=>"50%"},iconSize:{type:String,default:()=>"28"}},setup(e){let n=b(!1);return(s,r)=>{const m=c("icon-hamburger-button"),v=c("icon-close"),u=c("el-scrollbar"),l=c("el-drawer");return d(),_("div",null,[o(m,{class:"hamburgerIcon",theme:"outline",size:e.iconSize,strokeWidth:2,onClick:r[0]||(r[0]=i=>T(n)?n.value=!0:n=!0)},null,8,["size"]),o(l,{modelValue:a(n),"onUpdate:modelValue":r[2]||(r[2]=i=>T(n)?n.value=i:n=i),direction:"rtl",size:e.size,"with-header":!1},{default:$(()=>[o(u,null,{default:$(()=>[A(s.$slots,"header",{},()=>[t("div",je,[Oe,o(v,{theme:"outline",size:"20",title:"\u5173\u95ED",class:"close",onClick:r[1]||(r[1]=i=>T(n)?n.value=!1:n=!1)})])],!0),A(s.$slots,"default",{},()=>[t("div",Ge,[o(ce)])],!0)]),_:3})]),_:3},8,["modelValue","size"])])}}},Qe=L(Je,[["__scopeId","data-v-295b632a"]]),oe=ye("search",{state:()=>({showSearchView:!1,searchKeyword:"",suggestData:{},searchHot:[],searchData:null}),getters:{showHot:e=>e.searchKeyword=="",showSuggest:e=>{if(JSON.stringify(e.suggestData)==="{}")return!0}},actions:{async get_searchSuggest(){const e=await Ce(this.searchKeyword);this.suggestData=e.data.result,console.log("\u83B7\u53D6\u641C\u7D22\u8BE6\u60C5",e.data)},async get_searchHotDetail(){const e=await ze();this.searchHot=e.data.data,console.log("\u83B7\u53D6\u641C\u7D22\u5EFA\u8BAE",e.data)},async get_songDetail(e){const n=await xe(e);return console.log("\u83B7\u53D6\u6B4C\u66F2\u8BE6\u60C5",n.data),n.data.songs[0]}}});function Xe(e,n,s){let r=null;return function(){r&&clearTimeout(r),s==!0&&(e.apply(this,arguments),s=!1),r=setTimeout(()=>{e.apply(this,arguments)},n)}}const Ye=e=>(R("data-v-da78d65d"),e=e(),K(),e),Ze={style:{height:"400px"}},et=Ye(()=>t("div",{class:"searchTitle"},"\u70ED\u95E8\u641C\u7D22",-1)),tt=["onClick"],ot={class:"hover"},nt={style:{"margin-right":"4px"}},st={style:{color:"#fdb6b6"}},lt={key:0},at={class:"searchTitle"},it=["onClick"],ct={style:{color:"#34d399"},class:"truncate"},rt={style:{"margin-left":"8px"},class:"truncate"},ut=["onClick"],dt={style:{color:"#34d399"},class:"truncate"},_t={style:{"margin-left":"8px"},class:"truncate"},mt=["onClick"],pt={style:{color:"#34d399","margin-left":"8px"},class:"truncate"},vt=["onClick"],ht={style:{color:"#34d399","margin-left":"8px"},class:"truncate"},ft={__name:"SearchPopover",setup(e){const{Playlist:n}=ie(),s=Y(),{showSearchView:r,searchKeyword:m,showHot:v,showSuggest:u,searchHot:l,suggestData:i}=se(oe()),{get_searchSuggest:h,get_searchHotDetail:k,get_songDetail:y}=oe();k();const C=(x,p)=>{r.value=!1,s.push({name:x,params:{id:p},query:{id:p}})},f=async x=>{const p=await y(x);n.change_playMusic(p),n.push_toPlayList(p)},D=async x=>{m.value=x,await h(),r.value=!0},W=x=>{switch(x){case"songs":return"\u5355\u66F2";case"albums":return"\u4E13\u8F91";case"artists":return"\u6B4C\u624B";case"playlists":return"\u6B4C\u5355";default:return x}},U=Xe(()=>{h()},1e3,!1);return(x,p)=>{const B=c("el-input"),H=c("el-avatar"),J=c("el-scrollbar"),Q=c("el-popover");return d(),_("div",null,[o(Q,{visible:a(r),"onUpdate:visible":p[4]||(p[4]=S=>T(r)?r.value=S:null),placement:"bottom","popper-style":"max-width:auto;padding:0;",width:"300px"},{reference:$(()=>[o(B,{modelValue:a(m),"onUpdate:modelValue":p[0]||(p[0]=S=>T(m)?m.value=S:null),placeholder:"\u641C\u7D22\u97F3\u4E50\u3001MV\u3001\u6B4C\u5355","prefix-icon":a(ge),clearable:!0,onFocus:p[1]||(p[1]=S=>r.value=!0),onFocusout:p[2]||(p[2]=S=>r.value=!1),onInput:a(U),onKeyup:p[3]||(p[3]=ke(S=>C("searchDetail",a(m)),["enter","native"]))},null,8,["modelValue","prefix-icon","onInput"])]),default:$(()=>[t("div",Ze,[o(J,null,{default:$(()=>[I(t("div",null,[et,t("div",null,[(d(!0),_(V,null,M(a(l),(S,w)=>(d(),_("div",{key:S.searchWord,class:"hotItem",onClick:z=>D(S.searchWord)},[t("div",ot,[t("span",nt,g(w+1)+".",1),t("span",null,g(S.searchWord),1)]),t("div",st,g(a(Ie)(S.score)),1)],8,tt))),128))])],512),[[P,a(v)==!0]]),I(t("div",null,[a(i)?(d(),_("div",lt,[(d(!0),_(V,null,M(a(i).order,S=>(d(),_("div",null,[t("div",at,g(W(S)),1),(d(!0),_(V,null,M(a(i).songs,w=>{var z;return I((d(),_("div",{key:w.id,class:"searchItem",onClick:N=>f(w.id)},[t("span",ct,g(w.name),1),t("span",rt," - "+g((z=w.artists.at(0))==null?void 0:z.name),1)],8,it)),[[P,S==="songs"]])}),128)),(d(!0),_(V,null,M(a(i).albums,w=>I((d(),_("div",{key:w.id,class:"searchItem",onClick:z=>C("albumDetail",w.id)},[t("span",dt,g(w.name),1),t("span",_t," - "+g(w.artist.name),1)],8,ut)),[[P,S==="albums"]])),128)),(d(!0),_(V,null,M(a(i).artists,w=>I((d(),_("div",{key:w.id,class:"searchItem",onClick:z=>C("artistDetail",w.id)},[o(H,{size:"small",src:w.img1v1Url,class:"truncate"},null,8,["src"]),t("span",pt,g(w.name),1)],8,mt)),[[P,S==="artists"]])),128)),(d(!0),_(V,null,M(a(i).playlists,w=>I((d(),_("div",{key:w.id,class:"searchItem",onClick:z=>C("playlist",w.id)},[o(H,{size:"small",src:w.coverImgUrl,class:"truncate"},null,8,["src"]),t("div",ht,g(w.name),1)],8,vt)),[[P,S==="playlists"]])),128))]))),256))])):$e("",!0)],512),[[P,a(v)==!1]])]),_:1})])]),_:1},8,["visible"])])}}},yt=L(ft,[["__scopeId","data-v-da78d65d"]]);const gt={style:{width:"100%"}},kt={class:"header"},$t={class:"left"},bt={class:"right"},wt={__name:"header",setup(e){return(n,s)=>(d(),_("div",gt,[t("div",kt,[t("div",$t,[o(Te),o(yt)]),t("div",bt,[o(Ee),o(Pe,{iconSize:"20"}),o(Qe,{iconSize:"28",class:"hidden-more-800"})])])]))}},St=L(wt,[["__scopeId","data-v-9d1877c0"]]);const Ct={class:"volumeIcon hidden-less-600"},zt={class:"hidden"},xt={class:"volume"},It={__name:"VolumeIcon",emits:["volumeEmit"],setup(e,{emit:n}){let s=b(50);function r(){n("volumeEmit",s.value)}function m(){s.value=0,n("volumeEmit",0)}return ee(()=>{const v=document.querySelector(".volumeIcon"),u=document.querySelector(".hidden");b(!1);let l=b(null);u.onmouseenter=()=>{clearTimeout(l)},u.onmouseleave=()=>{u.style.display="none"},v.onmouseenter=()=>{clearTimeout(l),u.style.display="block"},v.onmouseleave=()=>{l=setTimeout(()=>{u.style.display="none"},500)}}),(v,u)=>{const l=c("el-slider");return d(),_("div",null,[t("div",Ct,[(d(),F(Z(a(s)===0?"icon-volume-mute":a(s)==100?"icon-volume-notice":"icon-volume-small"),{theme:"outline",size:"22",strokeWidth:2,title:"\u97F3\u91CF",onDblclick:m},null,32))]),t("div",zt,[t("div",xt,[o(l,{modelValue:a(s),"onUpdate:modelValue":u[0]||(u[0]=i=>T(s)?s.value=i:s=i),vertical:"",height:"100px","show-tooltip":!1,onInput:r},null,8,["modelValue"]),t("p",null,g(a(s)),1)])])])}}},Dt=L(It,[["__scopeId","data-v-c0f42af7"]]);const Pt={class:"lyricPlayer"},Vt={class:"cover"},Mt={class:"cover-container"},Tt=["src","alt"],Lt={class:"controls"},Wt={class:"top-part"},Ut={class:"track-info"},Ht={class:"title"},Nt={class:"subtitle"},Ft=j(" - "),Bt={class:"like-icon"},Et={class:"progress-bar"},qt={class:"time"},At={class:"time"},Rt={class:"media-controls"},Kt={__name:"LyricPlayer",props:{songs:{type:Object,default:()=>({id:1234,name:"\u6B4C\u66F2\u540D",al:{id:1234,name:"\u4E13\u8F91",picUrl:"\u56FE\u7247\u94FE\u63A5",pic:"\u56FE\u7247id"},ar:[{id:1234,name:"\u6B4C\u624B"}]})},currentTime:{type:Number,default:()=>0},duration:{type:Number,default:()=>0}},emits:["emitPlayer"],setup(e,{emit:n}){const s=e;let r=b(!1);const m=l=>{l=="pause"&&(r.value=!1),l=="play"&&(r.value=!0),l=="pre"&&n("emitPlayer"),l=="next"&&n("emitPlayer"),l=="order"&&n("emitPlayer"),l=="cycle"&&n("emitPlayer")},v=b(0);O(()=>s.currentTime,()=>{isNaN(s.duration)!==!0&&(v.value=parseInt(s.currentTime/s.duration*100))});function u(l){if(l==0||window.isNaN(l))return"00:00";let i=Math.floor(l%60),h=Math.floor(l/60);return`${h<10?"0"+h:h}:${i<10?"0"+i:i}`}return(l,i)=>{const h=c("router-link"),k=c("icon-like"),y=c("el-progress"),C=c("icon-play-once"),f=c("icon-go-start"),D=c("icon-play-one"),W=c("icon-pause"),U=c("icon-go-end"),x=c("icon-play-cycle");return d(),_("div",Pt,[t("div",Vt,[t("div",Mt,[t("img",{src:e.songs.al.picUrl,alt:"\u6B4C\u66F2ID="+e.songs.al.id},null,8,Tt),t("div",{class:"shadow",style:be({backgroundImage:"url("+e.songs.al.picUrl+")"})},null,4)])]),t("div",Lt,[t("div",Wt,[t("div",Ut,[t("div",Ht,g(e.songs.name),1),t("div",Nt,[(d(!0),_(V,null,M(e.songs.ar,p=>(d(),F(h,{key:p.id,to:{name:"artistDetail",params:{id:p.id}}},{default:$(()=>[j(g(p.name),1)]),_:2},1032,["to"]))),128)),Ft,o(h,{to:{name:"albumDetail",params:{id:e.songs.al.id}}},{default:$(()=>[j(g(e.songs.al.name),1)]),_:1},8,["to"])])]),t("div",Bt,[o(k,{theme:"outline",size:"20"})])]),t("div",Et,[t("span",qt,g(u(e.currentTime)),1),o(y,{percentage:v.value,"text-inside":!0,"show-text":!1,"stroke-width":6,class:"slider"},null,8,["percentage"]),t("span",At,g(u(e.duration)),1)]),t("div",Rt,[o(C,{theme:"outline",size:"18",strokeWidth:4,title:"\u987A\u5E8F\u64AD\u653E",onClick:i[0]||(i[0]=p=>m("order")),class:"icon-hover"}),o(f,{theme:"outline",size:"34",strokeWidth:4,title:"\u4E0A\u4E00\u9996",onClick:i[1]||(i[1]=p=>m("pre")),class:"icon-hover"}),I(o(D,{theme:"filled",size:"44",onClick:i[2]||(i[2]=p=>m("play")),strokeWidth:4,title:"\u70B9\u51FB\u64AD\u653E",class:"icon-hover"},null,512),[[P,a(r)===!1]]),I(o(W,{theme:"filled",size:"44",strokeWidth:4,onClick:i[3]||(i[3]=p=>m("pause")),title:"\u70B9\u51FB\u6682\u505C",class:"icon-hover"},null,512),[[P,a(r)===!0]]),o(U,{theme:"outline",size:"34",strokeWidth:4,title:"\u4E0B\u4E00\u9996",onClick:i[4]||(i[4]=p=>m("next")),class:"icon-hover"}),o(x,{theme:"outline",size:"18",strokeWidth:4,title:"\u5FAA\u73AF\u64AD\u653E",onClick:i[5]||(i[5]=p=>m("cycle")),class:"icon-hover"})])])])}}},jt=L(Kt,[["__scopeId","data-v-8fe777b8"]]);const Ot=e=>(R("data-v-da408d66"),e=e(),K(),e),Gt=["src"],Jt={class:"lyricDialog"},Qt={class:"left-side"},Xt={class:"right-side"},Yt={key:0,class:"lyric-container"},Zt={key:1,class:"lyric-container"},eo=Ot(()=>t("p",{class:"lyric-item lyricActive"},"\u6682\u65E0\u6B4C\u8BCD",-1)),to=[eo],oo={__name:"LyricDialog",props:{currentPlayMusic:{type:Object,default:()=>({id:1,name:"\u6B4C\u66F2\u540D\u52A0\u5907\u6CE8()",ar:[{id:123456,name:"\u6B4C\u624B"}],al:{id:123456,name:"\u6B4C\u66F2",picUrl:"\u56FE\u7247\u94FE\u63A5"},dt:0})},size:{type:String,default:()=>"100%"},lyric:{type:Array,default:()=>[{time:0,lyric:"\u4F5C\u8BCD : ",next:9999}]},currentTime:{type:Number,default:()=>0},duration:{type:Number,default:()=>0}},setup(e){const n=e;let s=b(!1),r=b(0),m=b(!0),v=b(!0),u=1;const l=()=>{u++,u==1&&(m.value=!0,v.value=!0),u==2&&(m.value=!1,v.value=!0),u==3&&(m.value=!0,v.value=!1,u=0),console.log(u)};return ee(()=>{O(()=>n.currentTime,(i,h)=>{for(let k=0;k<n.lyric.length;k++)n.currentTime>=n.lyric[k].time&&n.currentTime<=n.lyric[k].next&&(r.value=k)}),O(()=>r.value,(i,h)=>{const k=document.querySelector(".lyricActive"),y=document.querySelector(".right-side");k&&y&&(y.scrollTop=k.offsetHeight*r.value-y.clientHeight/2)})}),(i,h)=>{const k=c("icon-down"),y=c("icon-app-switch"),C=c("el-drawer");return d(),_("div",null,[t("img",{src:e.currentPlayMusic.al.picUrl+"?param=50y50",fit:"cover",onClick:h[0]||(h[0]=f=>T(s)?s.value=!0:s=!0),class:"img"},null,8,Gt),o(C,{modelValue:a(s),"onUpdate:modelValue":h[2]||(h[2]=f=>T(s)?s.value=f:s=f),direction:"btt",size:e.size,"with-header":!1},{default:$(()=>[A(i.$slots,"default",{},()=>[t("div",Jt,[I(t("div",Qt,[o(jt,{songs:e.currentPlayMusic,currentTime:e.currentTime,duration:e.duration},null,8,["songs","currentTime","duration"])],512),[[P,a(m)==!0]]),I(t("div",Xt,[e.lyric.length!==0?(d(),_("div",Yt,[(d(!0),_(V,null,M(e.lyric,f=>(d(),_("p",{class:G(["lyric-item",{lyricActive:e.currentTime>=f.time&&e.currentTime<=f.next}])},g(f.lyric),3))),256))])):(d(),_("div",Zt,to))],512),[[P,a(v)==!0]]),t("div",{class:"close",onClick:h[1]||(h[1]=f=>T(s)?s.value=!1:s=!1)},[o(k,{theme:"filled",size:"40",class:"downIcon"})]),t("div",{class:"switch",onClick:l},[o(y,{theme:"filled",size:"25",class:"switchIcon"})])])],!0)]),_:3},8,["modelValue","size"])])}}},no=L(oo,[["__scopeId","data-v-da408d66"]]);const re=e=>(R("data-v-d4906b08"),e=e(),K(),e),so={class:"title"},lo=re(()=>t("div",{class:"large-title"},"\u64AD\u653E\u5217\u8868",-1)),ao={class:"small-title"},io=re(()=>t("span",null,"\u6E05\u7A7A",-1)),co=["onDblclick"],ro={class:"img"},uo={alt:"\u52A0\u8F7D\u4E2D..."},_o={class:"detail"},mo={class:"author"},po={class:"duration"},vo={__name:"MusicListIcon",props:{myData:{type:Array,default:()=>[]},size:{type:Number,default:()=>300},iconSize:{type:String,default:()=>"38"},currentPlayMusic:{type:Object,default:()=>{}}},emits:["dblclickChild","clearChild"],setup(e,{emit:n}){let s=b(!1);function r(u){let l=Math.floor(u/1e3%60),i=Math.floor(u/1e3/60);return`${i<10?"0"+i:i}:${l<10?"0"+l:l}`}function m(u){n("dblclickChild",u)}function v(){n("clearChild")}return(u,l)=>{const i=c("icon-music-list"),h=c("el-badge"),k=c("icon-delete"),y=c("el-drawer"),C=we("img-lazy");return d(),_("div",null,[o(h,{value:e.myData.length,hidden:e.myData.length==0},{default:$(()=>[o(i,{class:"musicList",theme:"outline",size:e.iconSize,strokeWidth:3,title:"\u6B4C\u66F2\u5217\u8868",onClick:l[0]||(l[0]=f=>T(s)?s.value=!0:s=!0)},null,8,["size"])]),_:1},8,["value","hidden"]),o(y,{modelValue:a(s),"onUpdate:modelValue":l[1]||(l[1]=f=>T(s)?s.value=f:s=f),direction:"rtl",size:e.size,"with-header":!1},{default:$(()=>[A(u.$slots,"header",{},()=>[t("div",so,[lo,t("div",ao,[t("span",null,"\u5171"+g(e.myData.length)+"\u9996\u6B4C\u66F2",1),t("div",{class:"icon",onClick:v},[o(k,{theme:"outline",size:"14",strokeWidth:4,title:"\u6E05\u7A7A"}),io])])])],!0),A(u.$slots,"default",{},()=>[(d(!0),_(V,null,M(e.myData,f=>(d(),_("div",{onDblclick:D=>m(f),class:G(["card",e.currentPlayMusic.id==f.id?"active":""]),key:f.id},[t("div",ro,[I(t("img",uo,null,512),[[C,f.al.picUrl+"?param=40y40"]])]),t("div",_o,[t("span",null,g(f.name),1),t("div",mo,[(d(!0),_(V,null,M(f.ar,D=>(d(),_("span",{key:D.id},g(D.name),1))),128))])]),t("div",po,g(r(f.dt)),1)],42,co))),128))],!0)]),_:3},8,["modelValue","size"])])}}},ne=L(vo,[["__scopeId","data-v-d4906b08"]]);const ho={class:"palyer"},fo=["src"],yo={class:"group"},go={class:"detail"},ko={class:"info"},$o={class:"top"},bo={class:"bottom"},wo={class:"button"},So={class:"list hidden-less-1000"},Co={__name:"footer",setup(e){const{Playlist:n}=ie();function s(z){n.change_playMusic(z)}function r(){p(),n.clear_toPlayList()}const m=X(()=>n.currentPlayMusic.id),v=X(()=>n.toPlayList),u=X(()=>n.currentPlayMusic);O(m,()=>{console.log("\u6B4C\u66F2id\u53D1\u751F\u53D8\u5316",m.value),x()});const l=b(""),i=b("");let h=b(0),k=b(0),y=b(!1),C=b(0),f=b(!1),D=b(!0);function W(){D.value=!1,f.value=!0}function U(){D.value=!0,f.value=!1}function x(){y.value=!0,setTimeout(()=>{l.value.play().then(()=>{console.log("\u64AD\u653E\u6210\u529F"),y.value=!0}).catch(z=>{console.log("\u64AD\u653E\u51FA\u9519",z),y.value=!1,l.value.currentTime=0,ae({showClose:!0,message:"\u6CA1\u6709\u64AD\u653E\u6743\u9650",type:"error"})})},500)}function p(){y.value=!1,l.value.pause()}function B(){n.pre_music()}function H(){n.next_music()}function J(z){l.value.volume=z/100}function Q(){l.value.currentTime=Number(C.value*l.value.duration/100)}function S(z){if(z==0||window.isNaN(z))return"00:00";let N=Math.floor(z%60),E=Math.floor(z/60);return`${E<10?"0"+E:E}:${N<10?"0"+N:N}`}function w(){l.value.autoplay=!1,l.value.controls=!1,l.value.volume=.5}return ee(()=>{w(),l.value.ontimeupdate=function(){C.value=Number(l.value.currentTime/l.value.duration*100),h.value=parseInt(l.value.currentTime),k.value=l.value.duration},l.value.onended=function(){y.value=!1,console.log("\u64AD\u653E\u7ED3\u675F"),n.toPlayList.length!==0&&f.value==!0&&x(),n.toPlayList.length-1!==0&&D.value==!0&&H()}}),(z,N)=>{const E=c("el-slider"),ue=c("icon-play-once"),de=c("icon-play-cycle"),_e=c("icon-go-start"),me=c("icon-play"),pe=c("icon-pause-one"),ve=c("icon-go-end"),he=c("icon-text-message");return d(),_("div",ho,[t("audio",{type:"file",ref_key:"audio",ref:l,src:`https://music.163.com/song/media/outer/url?id=${a(m)}.mp3`,preload:"metadata"},"\u60A8\u7684\u6D4F\u89C8\u5668\u4E0D\u652F\u6301audio\u6807\u7B7E,\u60A8\u8FD8\u662F\u6362\u4E2A\u6D4F\u89C8\u5668\u5427",8,fo),o(E,{ref_key:"progressBar",ref:i,modelValue:a(C),"onUpdate:modelValue":N[0]||(N[0]=q=>T(C)?C.value=q:C=q),onInput:Q,"show-tooltip":!1},null,8,["modelValue"]),t("div",yo,[t("div",go,[o(no,{lyric:a(n).lyric,currentTime:l.value.currentTime,duration:l.value.duration,currentPlayMusic:a(n).currentPlayMusic},null,8,["lyric","currentTime","duration","currentPlayMusic"]),t("div",ko,[t("p",$o,g(a(n).currentPlayMusic.name),1),t("div",bo,[(d(!0),_(V,null,M(a(n).currentPlayMusic.ar,q=>(d(),_("a",{key:q.name},g(q.name),1))),128))])])]),t("div",wo,[I(o(ue,{class:"hidden-less-600",theme:"outline",size:"22",strokeWidth:2,title:"\u987A\u5E8F\u64AD\u653E",onClick:W},null,512),[[P,a(D)===!0]]),I(o(de,{class:"hidden-less-600",theme:"outline",size:"22",strokeWidth:2,title:"\u5FAA\u73AF\u64AD\u653E",onClick:U},null,512),[[P,a(f)===!0]]),o(_e,{class:"hidden-less-600",theme:"outline",size:"28",strokeWidth:4,title:"\u4E0A\u4E00\u9996",onClick:B}),I(o(me,{style:{color:"#34d399"},theme:"filled",size:"38",strokeWidth:2,title:"\u70B9\u51FB\u64AD\u653E",onClick:x},null,512),[[P,a(y)===!1]]),I(o(pe,{style:{color:"#34d399"},theme:"filled",size:"38",strokeWidth:2,title:"\u70B9\u51FB\u6682\u505C",onClick:p},null,512),[[P,a(y)===!0]]),o(ve,{class:"hidden-less-600",theme:"outline",size:"28",strokeWidth:4,title:"\u4E0B\u4E00\u9996",onClick:H}),o(Dt,{onVolumeEmit:J}),o(ne,{myData:a(v),currentPlayMusic:a(u),onDblclickChild:s,onClearChild:r,class:"hidden-more-600"},null,8,["myData","currentPlayMusic"])]),t("div",So,[t("p",null,g(S(a(h)))+" / "+g(S(a(k))),1),o(he,{theme:"outline",size:"22",strokeWidth:3,title:"\u6B4C\u66F2\u8BC4\u8BBA"}),o(ne,{myData:a(v),currentPlayMusic:a(u),onDblclickChild:s,onClearChild:r,iconSize:"24"},null,8,["myData","currentPlayMusic"])])])])}}},zo=L(Co,[["__scopeId","data-v-66fa66d2"]]);const xo={class:"common-layout"},Io={__name:"index",setup(e){return(n,s)=>{const r=c("el-scrollbar"),m=c("el-aside"),v=c("el-header"),u=c("router-view"),l=c("el-main"),i=c("el-backtop"),h=c("el-footer"),k=c("el-container");return d(),_("div",xo,[o(k,null,{default:$(()=>[o(m,{width:"240px"},{default:$(()=>[o(r,null,{default:$(()=>[o(ce)]),_:1})]),_:1}),o(k,null,{default:$(()=>[o(v,null,{default:$(()=>[o(St)]),_:1}),o(l,{id:"myMain"},{default:$(()=>[o(u,null,{default:$(({Component:y})=>[o(Se,{name:"slide-fade"},{default:$(()=>[(d(),F(Z(y)))]),_:2},1024)]),_:1})]),_:1}),o(i,{bottom:100,target:"#myMain"}),o(h,null,{default:$(()=>[o(zo)]),_:1})]),_:1})]),_:1})])}}},Lo=L(Io,[["__scopeId","data-v-d65401a6"]]);export{Lo as default};
