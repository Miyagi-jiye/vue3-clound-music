import{r as S,a as r,o as a,c as u,b as t,i as M,w as m,d as j,u as s,p as O,e as G,f as e,g as pe,h as me,j as he,k as ve,l as oe,m as Y,s as fe,n as se,S as ge,F as D,q as V,t as v,v as N,x as F,y as ye,z as X,A as Z,B as ke,C as be,E as q,D as le,G as R,H as J,I as $e,J as Q,K as we,T as Ce,L as Se}from"./index.d77509df.js";import{_ as U}from"./_plugin-vue_export-helper.cdc0426e.js";import{p as xe}from"./playCountFilter.de1a47dd.js";const ne=o=>(O("data-v-e81b6336"),o=o(),G(),o),Ie=ne(()=>e("div",{class:"title"},"123",-1)),ze=ne(()=>e("div",null,null,-1)),De={__name:"HamburgerIcon",props:{myData:{type:Array,default:()=>[]},size:{type:Number,default:()=>300},iconSize:{type:String,default:()=>"28"}},setup(o){let l=S(!1);return(d,c)=>{const f=r("icon-hamburger-button"),w=r("el-drawer");return a(),u("div",null,[t(f,{theme:"outline",size:o.iconSize,strokeWidth:2,onClick:c[0]||(c[0]=_=>M(l)?l.value=!0:l=!0)},null,8,["size"]),t(w,{modelValue:s(l),"onUpdate:modelValue":c[1]||(c[1]=_=>M(l)?l.value=_:l=_),direction:"rtl",size:o.size,"with-header":!1},{default:m(()=>[j(d.$slots,"header",{},()=>[Ie],!0),j(d.$slots,"default",{},()=>[ze],!0)]),_:3},8,["modelValue","size"])])}}},Ve=U(De,[["__scopeId","data-v-e81b6336"]]),ee=pe("search",{state:()=>({showSearchView:!1,searchKeyword:"",suggestData:{},searchHot:[],searchData:null}),getters:{showHot:o=>o.searchKeyword==""},actions:{async get_searchSuggest(){const o=await me(this.searchKeyword);this.suggestData=o.data.result,console.log("\u83B7\u53D6\u70ED\u95E8\u641C\u7D22-\u5EFA\u8BAE",o.data)},async get_searchHotDetail(){const o=await he();this.searchHot=o.data.data,console.log("\u83B7\u53D6\u70ED\u95E8\u641C\u7D22-\u8BE6\u60C5",o.data)},async get_songDetail(o){const l=await ve(o);return console.log("\u83B7\u53D6\u6B4C\u66F2\u8BE6\u60C5",l.data),l.data.songs[0]}}});function Me(o,l,d){let c=null;return function(){c&&clearTimeout(c),d==!0&&(o.apply(this,arguments),d=!1),c=setTimeout(()=>{o.apply(this,arguments)},l)}}const Pe=o=>(O("data-v-6866aa76"),o=o(),G(),o),Te={style:{height:"300px"}},We={key:0},Le=Pe(()=>e("div",{class:"searchTitle"},"\u70ED\u95E8\u641C\u7D22",-1)),He=["onClick"],Ne={class:"hover"},Ue={style:{"margin-right":"4px"}},Be={style:{color:"#fdb6b6"}},Fe={key:1},Re={class:"searchTitle"},Ae=["onClick"],Ke={style:{color:"#34d399"},class:"truncate"},Ee={style:{"margin-left":"8px"},class:"truncate"},je=["onClick"],qe={style:{color:"#34d399"},class:"truncate"},Je={style:{"margin-left":"8px"},class:"truncate"},Oe=["onClick"],Ge={style:{color:"#34d399","margin-left":"8px"},class:"truncate"},Qe=["onClick"],Xe={style:{color:"#34d399","margin-left":"8px"},class:"truncate"},Ye={__name:"SearchPopover",setup(o){const{Playlist:l}=oe(),d=Y(),{showSearchView:c,searchKeyword:f,showHot:w,searchHot:_,suggestData:n}=fe(ee()),{get_searchSuggest:g,get_searchHotDetail:k,get_songDetail:i}=ee(),z=async b=>{await l.get_songlistDetail(b),d.push({name:"playlist"}),c.value=!1},P=async b=>{const $=await i(b);l.change_playMusic($),l.push_toPlayList($)},h=b=>{f.value=b,g(),c.value=!0},C=b=>{switch(b){case"songs":return"\u5355\u66F2";case"albums":return"\u4E13\u8F91";case"artists":return"\u6B4C\u624B";case"playlists":return"\u6B4C\u5355";default:return b}},x=Me(()=>{g()},1e3,!1);return se(async()=>{await k()}),(b,$)=>{const A=r("el-input"),I=r("el-avatar"),K=r("el-scrollbar"),E=r("el-popover");return a(),u("div",null,[t(E,{visible:s(c),"onUpdate:visible":$[3]||($[3]=y=>M(c)?c.value=y:null),placement:"bottom","popper-style":"max-width:auto;padding:0;",width:200},{reference:m(()=>[t(A,{modelValue:s(f),"onUpdate:modelValue":$[0]||($[0]=y=>M(f)?f.value=y:null),placeholder:"\u641C\u7D22\u97F3\u4E50\u3001MV\u3001\u6B4C\u5355","prefix-icon":s(ge),clearable:!0,onFocus:$[1]||($[1]=y=>c.value=!0),onFocusout:$[2]||($[2]=y=>c.value=!1),onInput:s(x)},null,8,["modelValue","prefix-icon","onInput"])]),default:m(()=>[e("div",Te,[t(K,null,{default:m(()=>[s(w)?(a(),u("div",We,[Le,e("div",null,[(a(!0),u(D,null,V(s(_),(y,p)=>(a(),u("div",{key:y.searchWord,class:"hotItem",onClick:T=>h(y.searchWord)},[e("div",Ne,[e("span",Ue,v(p+1)+".",1),e("span",null,v(y.searchWord),1)]),e("div",Be,v(s(xe)(y.score)),1)],8,He))),128))])])):(a(),u("div",Fe,[s(n)?(a(!0),u(D,{key:0},V(s(n).order,y=>(a(),u("div",null,[e("div",Re,v(C(y)),1),(a(!0),u(D,null,V(s(n).songs,p=>{var T;return N((a(),u("div",{key:p.id,class:"searchItem",onClick:W=>P(p.id)},[e("span",Ke,v(p.name),1),e("span",Ee," - "+v((T=p.artists.at(0))==null?void 0:T.name),1)],8,Ae)),[[F,y==="songs"]])}),128)),(a(!0),u(D,null,V(s(n).albums,p=>N((a(),u("div",{key:p.id,class:"searchItem",onClick:T=>b.routerPush("album",p.id)},[e("span",qe,v(p.name),1),e("span",Je," - "+v(p.artist.name),1)],8,je)),[[F,y==="albums"]])),128)),(a(!0),u(D,null,V(s(n).artists,p=>N((a(),u("div",{key:p.id,class:"searchItem",onClick:T=>b.routerPush("artistDetail",p.id)},[t(I,{size:"small",src:p.img1v1Url,class:"truncate"},null,8,["src"]),e("span",Ge,v(p.name),1)],8,Oe)),[[F,y==="artists"]])),128)),(a(!0),u(D,null,V(s(n).playlists,p=>N((a(),u("div",{key:p.id,class:"searchItem",onClick:T=>z(p.id)},[t(I,{size:"small",src:p.coverImgUrl,class:"truncate"},null,8,["src"]),e("div",Xe,v(p.name),1)],8,Qe)),[[F,y==="playlists"]])),128))]))),256)):ye("",!0)]))]),_:1})])]),_:1},8,["visible"])])}}},Ze=U(Ye,[["__scopeId","data-v-6866aa76"]]);const et=o=>(O("data-v-cb7cfd42"),o=o(),G(),o),tt={style:{width:"100%"}},ot={class:"header"},st={class:"left"},lt={class:"goBack"},nt={class:"right"},at=et(()=>e("a",null,"\u70B9\u51FB\u767B\u5F55",-1)),it=["id"],ct={class:"login-form"},rt=ke("\u767B\u5F55"),ut={__name:"header",setup(o){const l=Y();let d=S(!1),c=X({username:"",password:""}),f=S(!1);const w=S(null);let _=X({username:[{required:!0,message:"\u8BF7\u8F93\u5165\u8D26\u53F7",trigger:"blur"},{min:11,max:11,message:"\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u624B\u673A\u53F7\u7801",trigger:"blur"}],password:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801",trigger:"blur"},{min:6,max:16,message:"\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u5BC6\u7801",trigger:"blur"}]});const n=()=>{d.value=!0},g=()=>{w.value.validate(k=>{if(k)f.value=!0,be(c.username,c.password).then(i=>{console.log("\u83B7\u53D6\u767B\u5F55\u4FE1\u606F",i.data),i.data.code==502?q({showClose:!0,grouping:!0,message:i.data.msg||"\u767B\u5F55\u5931\u8D25",type:"error"}):(q({showClose:!0,grouping:!0,message:i.data.msg||"\u767B\u5F55\u6210\u529F",type:"success"}),i.data.token&&localStorage.setItem("token",JSON.stringify(i.data.token)),i.data.cookie&&localStorage.setItem("cookie",JSON.stringify(i.data.cookie)))}).catch(i=>{console.log(i)}).finally(()=>{f.value=!1});else return console.log("\u8868\u5355\u9A8C\u8BC1\u4E0D\u901A\u8FC7"),!1})};return(k,i)=>{const z=r("icon-left"),P=r("icon-right"),h=r("el-avatar"),C=r("el-input"),x=r("el-form-item"),b=r("el-form"),$=r("el-button"),A=r("el-dialog");return a(),u("div",tt,[e("div",ot,[e("div",st,[e("div",lt,[t(z,{theme:"outline",size:"26",strokeWidth:2,onClick:i[0]||(i[0]=I=>s(l).back())}),t(P,{theme:"outline",size:"26",strokeWidth:2,onClick:i[1]||(i[1]=I=>s(l).forward())})]),t(Ze)]),e("div",nt,[e("div",{class:"avatar hidden-less-600",onClick:n},[t(h,{size:32,src:"https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png"}),at]),t(Ve,{iconSize:"28",class:"hamburgerIcon"})])]),t(A,{modelValue:s(d),"onUpdate:modelValue":i[4]||(i[4]=I=>M(d)?d.value=I:d=I),title:"Tips",width:"300px"},{header:m(({close:I,titleId:K,titleClass:E})=>[e("h4",{id:K,class:Z(E)},"\u767B\u5F55",10,it)]),footer:m(()=>[t($,{class:"loginBtn",type:"primary",onClick:g,loading:s(f)},{default:m(()=>[rt]),_:1},8,["loading"])]),default:m(()=>[e("div",ct,[t(b,{model:s(c),rules:s(_),ref_key:"loginFormRef",ref:w},{default:m(()=>[t(x,{prop:"username"},{default:m(()=>[t(C,{modelValue:s(c).username,"onUpdate:modelValue":i[2]||(i[2]=I=>s(c).username=I),"prefix-icon":"Cellphone",placeholder:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7\u7801"},null,8,["modelValue"])]),_:1}),t(x,{prop:"password"},{default:m(()=>[t(C,{modelValue:s(c).password,"onUpdate:modelValue":i[3]||(i[3]=I=>s(c).password=I),type:"password","prefix-icon":"Lock",placeholder:"\u8BF7\u8F93\u5165\u767B\u5F55\u5BC6\u7801"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])])]),_:1},8,["modelValue"])])}}},dt=U(ut,[["__scopeId","data-v-cb7cfd42"]]);const _t={style:{"padding-top":"20px"}},pt={class:"group-titlle"},mt=["onClick"],ht={__name:"menu",setup(o){const l=Y(),d=le();let c=S(d.path);const f=X([{id:1,groupName:"\u5728\u7EBF\u97F3\u4E50",children:[{name:"\u63A8\u8350",icon:"planet",path:"/discover"},{name:"\u97F3\u4E50\u9986",icon:"music",path:"/music"},{name:"\u89C6\u9891",icon:"video-one",path:"/video"},{name:"\u7535\u53F0",icon:"fm",path:"/dj"}]},{id:2,groupName:"\u6211\u7684\u97F3\u4E50",children:[{name:"\u6211\u559C\u6B22",icon:"like"},{name:"\u672C\u5730\u6B4C\u66F2",icon:"computer"},{name:"\u4E0B\u8F7D\u6B4C\u66F2",icon:"download-three"},{name:"\u6700\u8FD1\u64AD\u653E",icon:"play-two"}]}]),w=_=>{c.value=_.path,console.log(_.path),_.path?l.push(_.path):q.error("\u6682\u65E0\u8BE5\u8DEF\u5F84")};return(_,n)=>(a(),u("div",_t,[(a(!0),u(D,null,V(f,g=>(a(),u("div",{class:"group",key:g.id},[e("p",pt,v(g.groupName),1),(a(!0),u(D,null,V(g.children,k=>(a(),u("div",{class:Z(["group-item",s(c)==k.path?"active":""]),key:k.path,onClick:i=>w(k)},[(a(),R(J("icon-"+k.icon),{theme:"outline",size:"22",strokeWidth:2})),e("span",null,v(k.name),1)],10,mt))),128))]))),128))]))}},vt=U(ht,[["__scopeId","data-v-e5b48af0"]]);const ae=o=>(O("data-v-bc6f81df"),o=o(),G(),o),ft={class:"title"},gt=ae(()=>e("div",{class:"large-title"},"\u64AD\u653E\u5217\u8868",-1)),yt={class:"small-title"},kt=ae(()=>e("span",null,"\u6E05\u7A7A",-1)),bt=["onDblclick"],$t={class:"img"},wt={alt:"\u52A0\u8F7D\u4E2D..."},Ct={class:"detail"},St={class:"author"},xt={class:"duration"},It={__name:"MusicListIcon",props:{myData:{type:Array,default:()=>[]},size:{type:Number,default:()=>300},iconSize:{type:String,default:()=>"38"},currentPlayMusic:{type:Object,default:()=>{}}},emits:["dblclickChild","clearChild"],setup(o,{emit:l}){let d=S(!1);function c(_){let n=Math.floor(_/1e3%60),g=Math.floor(_/1e3/60);return`${g<10?"0"+g:g}:${n<10?"0"+n:n}`}function f(_){l("dblclickChild",_)}function w(){l("clearChild")}return(_,n)=>{const g=r("icon-music-list"),k=r("el-badge"),i=r("icon-delete"),z=r("el-drawer"),P=$e("img-lazy");return a(),u("div",null,[t(k,{value:o.myData.length,hidden:o.myData.length==0},{default:m(()=>[t(g,{class:"musicList",theme:"filled",size:o.iconSize,strokeWidth:2,title:"\u6B4C\u66F2\u5217\u8868",onClick:n[0]||(n[0]=h=>M(d)?d.value=!0:d=!0)},null,8,["size"])]),_:1},8,["value","hidden"]),t(z,{modelValue:s(d),"onUpdate:modelValue":n[1]||(n[1]=h=>M(d)?d.value=h:d=h),direction:"rtl",size:o.size,"with-header":!1},{default:m(()=>[j(_.$slots,"header",{},()=>[e("div",ft,[gt,e("div",yt,[e("span",null,"\u5171"+v(o.myData.length)+"\u9996\u6B4C\u66F2",1),e("div",{class:"icon",onClick:w},[t(i,{theme:"outline",size:"14",strokeWidth:4,title:"\u6E05\u7A7A"}),kt])])])],!0),j(_.$slots,"default",{},()=>[(a(!0),u(D,null,V(o.myData,h=>(a(),u("div",{onDblclick:C=>f(h),class:Z(["card",o.currentPlayMusic.id==h.id?"active":""]),key:h.id},[e("div",$t,[N(e("img",wt,null,512),[[P,h.al.picUrl+"?param=40y40"]])]),e("div",Ct,[e("span",null,v(h.name),1),e("div",St,[(a(!0),u(D,null,V(h.ar,C=>(a(),u("span",{key:C.id},v(C.name),1))),128))])]),e("div",xt,v(c(h.dt)),1)],42,bt))),128))],!0)]),_:3},8,["modelValue","size"])])}}},te=U(It,[["__scopeId","data-v-bc6f81df"]]);const zt={class:"palyer"},Dt=["src"],Vt={class:"group"},Mt={class:"detail"},Pt=["src"],Tt={class:"info"},Wt={class:"top"},Lt={class:"bottom"},Ht={class:"button"},Nt={class:"list hidden-less-1000"},Ut={__name:"footer",setup(o){const{Playlist:l}=oe();function d(W){l.change_playMusic(W)}function c(){$(),l.clear_toPlayList()}const f=Q(()=>l.currentPlayMusic.id),w=Q(()=>l.toPlayList),_=Q(()=>l.currentPlayMusic);we(f,()=>{console.log("\u6B4C\u66F2id\u53D8\u5316",f.value),b()});const n=S(""),g=S(""),k=S(""),i=S("");let z=S(0),P=S(0),h=S(!1),C=S(0),x=S(1);function b(){h.value=!0,setTimeout(()=>{n.value.play().then(()=>{console.log("\u64AD\u653E\u6210\u529F"),h.value=!0}).catch(W=>{console.log("\u64AD\u653E\u51FA\u9519",W),h.value=!1,n.value.currentTime=0,q({showClose:!0,message:"\u6CA1\u6709\u64AD\u653E\u6743\u9650",type:"error"})})},500)}function $(){h.value=!1,n.value.pause()}function A(){l.pre_music(),console.log(l.prevSong)}function I(){l.next_music(),console.log(l.nextSong)}function K(){i.value.style.display==""?i.value.style.display="flex":i.value.style.display=""}function E(){n.value.volume=x.value/100}function y(){n.value.currentTime=Number(C.value*n.value.duration/100)}function p(W){let L=Math.floor(W%60),B=Math.floor(W/60);return`${B<10?"0"+B:B}:${L<10?"0"+L:L}`}function T(){n.value.autoplay=!1,n.value.controls=!1,n.value.volume=.5,x.value=n.value.volume*100}return se(()=>{T(),n.value.ontimeupdate=function(){C.value=Number(n.value.currentTime/n.value.duration*100),z.value=n.value.currentTime,P.value=n.value.duration},n.value.onended=function(){h.value=!1,console.log("\u64AD\u653E\u7ED3\u675F\u5F00\u59CB\u4E0B\u4E00\u9996\u64AD\u653E")}}),(W,L)=>{const B=r("el-slider"),ie=r("icon-play-once"),ce=r("icon-go-start"),re=r("icon-play"),ue=r("icon-pause-one"),de=r("icon-go-end"),_e=r("icon-text-message");return a(),u("div",zt,[e("audio",{type:"file",ref_key:"audio",ref:n,src:`https://music.163.com/song/media/outer/url?id=${s(f)}.mp3`,preload:"metadata"}," \u60A8\u7684\u6D4F\u89C8\u5668\u4E0D\u652F\u6301audio\u6807\u7B7E,\u60A8\u8FD8\u662F\u6362\u4E2A\u6D4F\u89C8\u5668\u5427 ",8,Dt),t(B,{ref_key:"progressBar",ref:k,modelValue:s(C),"onUpdate:modelValue":L[0]||(L[0]=H=>M(C)?C.value=H:C=H),onInput:y,"show-tooltip":!1},null,8,["modelValue"]),e("div",Vt,[e("div",Mt,[e("img",{src:s(l).currentPlayMusic.al.picUrl+"?param=50y50",fit:"cover"},null,8,Pt),e("div",Tt,[e("p",Wt,v(s(l).currentPlayMusic.name),1),e("div",Lt,[(a(!0),u(D,null,V(s(l).currentPlayMusic.ar,H=>(a(),u("a",{key:H.name},v(H.name),1))),128))])])]),e("div",Ht,[t(ie,{class:"hidden-less-600",theme:"outline",size:"22",strokeWidth:2,title:"\u987A\u5E8F\u64AD\u653E"}),t(ce,{class:"hidden-less-600",theme:"outline",size:"28",strokeWidth:4,title:"\u4E0A\u4E00\u9996",onClick:A}),N(t(re,{style:{color:"#34d399"},theme:"filled",size:"38",strokeWidth:2,title:"\u70B9\u51FB\u64AD\u653E",onClick:b},null,512),[[F,s(h)===!1]]),N(t(ue,{style:{color:"#34d399"},theme:"filled",size:"38",strokeWidth:2,title:"\u70B9\u51FB\u6682\u505C",onClick:$},null,512),[[F,s(h)===!0]]),t(de,{class:"hidden-less-600",theme:"outline",size:"28",strokeWidth:4,title:"\u4E0B\u4E00\u9996",onClick:I}),(a(),R(J(s(x)===0?"icon-volume-mute":s(x)==100?"icon-volume-notice":"icon-volume-small"),{class:"hidden-less-600",ref_key:"volumeIcon",ref:g,theme:"outline",size:"22",strokeWidth:2,title:"\u97F3\u91CF",onClick:K},null,512)),e("div",{class:"volume",ref_key:"volumeSetting",ref:i},[t(B,{modelValue:s(x),"onUpdate:modelValue":L[1]||(L[1]=H=>M(x)?x.value=H:x=H),vertical:"",height:"100px","show-tooltip":!1,onInput:E},null,8,["modelValue"]),e("p",null,v(s(x)),1)],512),t(te,{myData:s(w),currentPlayMusic:s(_),onDblclickChild:d,onClearChild:c,class:"hidden-more-600"},null,8,["myData","currentPlayMusic"])]),e("div",Nt,[e("p",null,v(p(s(z)))+" / "+v(p(s(P))),1),t(_e,{theme:"outline",size:"18",strokeWidth:3,title:"\u6B4C\u8BCD"}),t(te,{myData:s(w),currentPlayMusic:s(_),onDblclickChild:d,onClearChild:c,iconSize:"18"},null,8,["myData","currentPlayMusic"])])])])}}},Bt=U(Ut,[["__scopeId","data-v-84ab7d4f"]]);const Ft={class:"common-layout"},Rt={__name:"index",setup(o){const l=le();return(d,c)=>{const f=r("el-aside"),w=r("el-header"),_=r("router-view"),n=r("el-scrollbar"),g=r("el-main"),k=r("el-footer"),i=r("el-container");return a(),u("div",Ft,[t(i,null,{default:m(()=>[t(f,{width:"240px"},{default:m(()=>[t(vt)]),_:1}),t(i,null,{default:m(()=>[t(w,null,{default:m(()=>[t(dt)]),_:1}),t(g,null,{default:m(()=>[t(Ce,{name:"slide-fade"},{default:m(()=>[s(l).meta.keepAlive?(a(),R(Se,{key:0},[t(n,null,{default:m(()=>[t(_,null,{default:m(({Component:z})=>[(a(),R(J(z)))]),_:1})]),_:1})],1024)):(a(),R(n,{key:1},{default:m(()=>[t(_,null,{default:m(({Component:z})=>[(a(),R(J(z)))]),_:1})]),_:1}))]),_:1})]),_:1}),t(k,null,{default:m(()=>[t(Bt)]),_:1})]),_:1})]),_:1})])}}},jt=U(Rt,[["__scopeId","data-v-ab17c529"]]);export{jt as default};
