import{_ as k,o as i,c as u,b as o,t as r,F as C,q as w,k as _,d as V,f as n,r as B,e as I,m as L,s as U,H as A,U as H,a as y,I as R,u as a,w as b,i as F,j as x,v as N}from"./index.0ecd977f.js";import{M as P}from"./MoreText.29961766.js";import{P as $,u as M}from"./PlayAllButton.3952c3e3.js";import{L as j}from"./loadMore.cfa44b40.js";import{S as z}from"./songComments.fe4b9c9d.js";import{S as Y}from"./songList.339bacfa.js";import"./playlist.c40337ad.js";import"./login.f72c9067.js";import"./vue.73cea66e.js";import"./timestamp.f9a1ea68.js";import"./index.379cf1c3.js";const q={class:"info"},E={class:"flex"},O={class:"left"},G=["src"],J={class:"right"},K={class:"title"},Q={class:"alias"},W={class:"box"},X={key:0},Z={key:1},ee={class:"description"},te={__name:"info",props:{album:{type:Object,default:()=>({id:0,name:"\u4E13\u8F91\u540D",picUrl:"",subType:"\u97F3\u6E90",company:"\u7248\u6743",artists:[{name:"\u6B4C\u624B"}],publishTime:123456})}},setup(s){function l(t){t=t||null;let e=new Date(t),c=e.getFullYear()+"-",p=(e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+"-",m=(e.getDate()<10?"0"+e.getDate():e.getDate())+" ";return(e.getHours()<10?"0"+e.getHours():e.getHours())+"",(e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes())+"",e.getSeconds()<10?""+e.getSeconds():e.getSeconds(),c+p+m}return(t,e)=>(i(),u("div",q,[o("div",E,[o("div",O,[o("img",{src:s.album.picUrl+"?param=180y180",alt:"\u5C01\u9762"},null,8,G)]),o("div",J,[o("p",K,r(s.album.name),1),o("div",Q,[(i(!0),u(C,null,w(s.album.artists,c=>(i(),u("p",null,r(c.name),1))),256))]),o("div",W,[o("p",null,"\u53D1\u5E03\u65F6\u95F4\uFF1A"+r(l(s.album.publishTime)),1),s.album.subType?(i(),u("p",X,"\u97F3\u6E90\uFF1A"+r(s.album.subType),1)):_("",!0),s.album.company?(i(),u("p",Z,"\u7248\u6743\uFF1A"+r(s.album.company),1)):_("",!0)]),o("div",ee,[s.album.description?(i(),V(P,{key:0,text:s.album.description,end:90},null,8,["text"])):_("",!0)]),n($)])])]))}},se=k(te,[["__scopeId","data-v-12c7d321"]]);const ae={key:0,class:"albumDetail"},oe={__name:"index",setup(s){let l=B("tracks");I();const t=L(),{get_album:e,get_commentAlbum:c,get_commentMore:p}=M(),{commentAlbum:m,album:d,commentMoreParams:f}=U(M());e(t.params.id),c(t.params.id),A(()=>t.params.id,()=>{t.name=="albumDetail"&&(e(t.params.id),c(t.params.id))});const D=()=>{l.value=="comments"&&(f.value.offset++,p(t.params.id))};return H(()=>{f.value.offset=1,console.log("\u5378\u8F7D")}),(ne,g)=>{const h=y("el-tab-pane"),S=y("el-tabs"),T=R("infinite-scroll");return a(d).songs?(i(),u("div",ae,[n(se,{album:a(d).album,class:"info"},null,8,["album"]),n(S,{modelValue:a(l),"onUpdate:modelValue":g[0]||(g[0]=v=>F(l)?l.value=v:l=v),class:"tab"},{default:b(()=>[n(h,{lazy:"",label:`\u6B4C\u66F2 ${a(d).songs.length}`,name:"tracks"},{default:b(()=>[n(Y,{tracks:a(d).songs,options:1,class:"songList"},null,8,["tracks"])]),_:1},8,["label"]),n(h,{lazy:"",label:`\u8BC4\u8BBA ${a(m).total}`,name:"comments"},{default:b(()=>[x(n(z,{comments:a(m).comments,hotComments:a(m).hotComments,class:"comment"},null,8,["comments","hotComments"]),[[T,D]]),x(n(j,null,null,512),[[N,a(m).total>a(m).comments.length]])]),_:1},8,["label"])]),_:1},8,["modelValue"])])):_("",!0)}}},ge=k(oe,[["__scopeId","data-v-2f8a5d81"]]);export{ge as default};
