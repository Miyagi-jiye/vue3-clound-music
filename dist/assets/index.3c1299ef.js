import{_ as V,r as M,a as n,o as u,c as v,b as e,u as t,d as j,e as Y,f as l,s as Z,g as pe,w as b,n as E,i as U,t as y,h as oe,j as q,p as G,k as J,l as ke,F as W,m as L,q as ce,E as me,v as S,x,y as ve,z as X,A as Ce,S as be,B as we,C as T,D as re,G as se,H as Ie,I as H,T as Se}from"./index.be1b8bc8.js";import{u as ae,a as ze,b as xe,c as De}from"./login.01d2fdc0.js";import{p as Me}from"./playCountFilter.21fdfcbf.js";import{u as Ve}from"./index.67b8870d.js";import{u as le}from"./playlist.6b9f79ff.js";import"./vue.73cea66e.js";const Te={__name:"FullScreenButton",props:{iconSize:{type:String,default:()=>"20"}},setup(s){let o=M(!1);const c=()=>{document.fullscreenElement?(document.exitFullscreen(),o.value=!1):(document.documentElement.requestFullscreen(),o.value=!0)};return(a,d)=>{const _=n("icon-off-screen"),i=n("icon-full-screen");return u(),v("div",null,[e("div",{onClick:c,class:"icon-hover"},[t(o)?(u(),j(_,{key:0,theme:"outline",size:s.iconSize,title:"\u9000\u51FA\u5168\u5C4F"},null,8,["size"])):(u(),j(i,{key:1,theme:"outline",size:s.iconSize,title:"\u70B9\u51FB\u5168\u5C4F"},null,8,["size"]))])])}}},Pe=V(Te,[["__scopeId","data-v-640c80d9"]]);const We={class:"goBack"},Le={__name:"DirectionIcon",setup(s){const o=Y();return(c,a)=>{const d=n("icon-left"),_=n("icon-right");return u(),v("div",We,[l(d,{theme:"outline",size:"26",strokeWidth:2,onClick:a[0]||(a[0]=i=>t(o).back())}),l(_,{theme:"outline",size:"26",strokeWidth:2,onClick:a[1]||(a[1]=i=>t(o).forward())})])}}},Ue=V(Le,[["__scopeId","data-v-c491a6dc"]]);const ee=s=>(G("data-v-2fe7c026"),s=s(),J(),s),Ne={key:0,class:"loginDialog"},Oe=ee(()=>e("a",null,"\u70B9\u51FB\u767B\u5F55",-1)),He=["id"],Fe={class:"login-form"},Be=q("\u767B\u5F55"),qe={key:1,class:"loginDialog"},Re={class:"avatar"},Ae={class:"nickname"},Ke={class:"followGroup"},je={class:"item"},Ee=ee(()=>e("p",null,"\u52A8\u6001",-1)),Ge={class:"item"},Je=ee(()=>e("p",null,"\u5173\u6CE8",-1)),Qe={class:"item"},Xe=ee(()=>e("p",null,"\u7C89\u4E1D",-1)),Ye=q(" \u4E2A\u4EBA\u4E2D\u5FC3 "),Ze={class:"menu-item"},et=q(" \u6211\u7684\u6D88\u606F "),tt=ee(()=>e("div",{class:"split-line"},null,-1)),ot=q(" \u9000\u51FA\u767B\u5F55 "),st=["src","alt"],lt={__name:"LoginDialog",setup(s){const o=Y(),{get_login:c,get_logout:a}=ae(),{loginParams:d,isLogin:_,loginData:i}=Z(ae()),g=(C,z)=>{o.push({name:C,query:{id:z}})};let p=M(!1),m=M(!1);const f=M(null);let I=pe({phone:[{required:!0,message:"\u8BF7\u8F93\u5165\u8D26\u53F7",trigger:"blur"},{min:11,max:11,message:"\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u624B\u673A\u53F7\u7801",trigger:"blur"}],password:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801",trigger:"blur"},{min:6,max:16,message:"\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u5BC6\u7801",trigger:"blur"}]});const k=()=>{p.value=!0},r=()=>{f.value.validate(C=>{if(C)m.value=!0,c().finally(()=>m.value=!1);else return console.log("\u8868\u5355\u9A8C\u8BC1\u4E0D\u901A\u8FC7"),!1})};let N=M(null),w=M(null);const P=()=>{N.value.style.display="block",console.log("\u9F20\u6807\u79FB\u5165")},D=()=>{N.value.style.display="none",console.log("\u9F20\u6807\u79FB\u51FA")};return(C,z)=>{const F=n("el-avatar"),R=n("el-input"),A=n("el-form-item"),$=n("el-form"),h=n("el-button"),O=n("el-dialog"),te=n("icon-user"),Q=n("icon-right"),ie=n("icon-mail"),K=n("icon-logout");return t(_)==!1?(u(),v("div",Ne,[e("div",{class:"avatar",onClick:k},[l(F,{size:30,src:"https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png"}),Oe]),l(O,{modelValue:t(p),"onUpdate:modelValue":z[2]||(z[2]=B=>U(p)?p.value=B:p=B),title:"Tips",width:"300px"},{header:b(({close:B,titleId:ge,titleClass:$e})=>[e("h4",{id:ge,class:E($e)},"\u767B\u5F55",10,He)]),footer:b(()=>[l(h,{class:"loginBtn",type:"primary",onClick:r,loading:t(m)},{default:b(()=>[Be]),_:1},8,["loading"])]),default:b(()=>[e("div",Fe,[l($,{model:t(d),rules:t(I),ref_key:"loginFormRef",ref:f},{default:b(()=>[l(A,{prop:"phone"},{default:b(()=>[l(R,{modelValue:t(d).phone,"onUpdate:modelValue":z[0]||(z[0]=B=>t(d).phone=B),"prefix-icon":"Cellphone",placeholder:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7\u7801"},null,8,["modelValue"])]),_:1}),l(A,{prop:"password"},{default:b(()=>[l(R,{modelValue:t(d).password,"onUpdate:modelValue":z[1]||(z[1]=B=>t(d).password=B),type:"password","prefix-icon":"Lock",placeholder:"\u8BF7\u8F93\u5165\u767B\u5F55\u5BC6\u7801"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])])]),_:1},8,["modelValue"])])):t(_)==!0?(u(),v("div",qe,[e("div",Re,[e("div",{ref_key:"card",ref:N,class:"card",onMouseover:P,onMouseout:D},[e("p",Ae,y(t(i).profile.nickname),1),e("div",Ke,[e("div",je,[e("span",null,y(t(i).profile.eventCount),1),Ee]),e("div",Ge,[e("span",null,y(t(i).profile.follows),1),Je]),e("div",Qe,[e("span",null,y(t(i).profile.followeds),1),Xe])]),e("div",{class:"menu-item",onClick:z[3]||(z[3]=B=>g("userDetail",t(i).profile.userId))},[l(te,{theme:"outline",size:"18"}),Ye,l(Q,{theme:"outline",size:"18"})]),e("div",Ze,[l(ie,{theme:"outline",size:"18"}),et,l(Q,{theme:"outline",size:"18"})]),tt,e("div",{class:"menu-item",onClick:z[4]||(z[4]=B=>t(a)())},[l(K,{theme:"outline",size:"18"}),ot,l(Q,{theme:"outline",size:"18"})])],544),e("img",{src:t(i).profile.avatarUrl+"?param=100y100",alt:"\u7528\u6237ID="+t(i).profile.userId,ref_key:"img",ref:w,class:"img",onMouseover:P,onMouseout:D},null,40,st)])])):oe("",!0)}}},he=V(lt,[["__scopeId","data-v-2fe7c026"]]);const nt={class:"group-titlle"},it=["onClick"],at={__name:"menu",setup(s){const o=Y(),c=ke();let a=M(c.path);const d=pe([{id:1,groupName:"\u5728\u7EBF\u97F3\u4E50",children:[{name:"\u63A8\u8350",icon:"icon-planet",path:"/discover"},{name:"\u97F3\u4E50\u9986",icon:"icon-music",path:"/music"},{name:"\u89C6\u9891",icon:"icon-video-one",path:"/video"},{name:"\u7535\u53F0",icon:"icon-fm",path:"/dj"}]},{id:2,groupName:"\u6211\u7684\u97F3\u4E50",children:[{name:"\u6211\u559C\u6B22",icon:"icon-like"},{name:"\u672C\u5730\u6B4C\u66F2",icon:"icon-computer"},{name:"\u4E0B\u8F7D\u6B4C\u66F2",icon:"icon-download-three"},{name:"\u6700\u8FD1\u64AD\u653E",icon:"icon-play-two"}]}]),_=i=>{a.value=i.path,console.log(i.path),i.path?o.push(i.path):me.error("\u6682\u65E0\u8BE5\u8DEF\u5F84")};return(i,g)=>(u(),v("div",null,[(u(!0),v(W,null,L(d,p=>(u(),v("div",{class:"group",key:p.id},[e("p",nt,y(p.groupName),1),(u(!0),v(W,null,L(p.children,m=>(u(),v("div",{class:E(["group-item",t(a)==m.path?"active":""]),key:m.path,onClick:f=>_(m)},[(u(),j(ce(m.icon),{theme:"outline",size:"22",strokeWidth:2})),e("span",null,y(m.name),1)],10,it))),128))]))),128))]))}},fe=V(at,[["__scopeId","data-v-ad62ffaa"]]);const ue=s=>(G("data-v-bd778af9"),s=s(),J(),s),ct={class:"box"},rt=["src","alt"],ut={class:"center"},dt={class:"nickname"},_t={class:"signature"},pt=q(" \u8BE6\u60C5"),mt={class:"followGroup"},vt={class:"item"},ht=ue(()=>e("p",null,"\u52A8\u6001",-1)),ft={class:"item"},yt=ue(()=>e("p",null,"\u5173\u6CE8",-1)),gt={class:"item"},$t=ue(()=>e("p",null,"\u7C89\u4E1D",-1)),kt={key:1,class:"userInfo"},Ct={__name:"UserInfo",setup(s){const{loginData:o,isLogin:c}=Z(ae()),a=Y(),d=(_,i)=>{a.push({name:_,query:{id:i}})};return(_,i)=>{const g=n("icon-male"),p=n("icon-female"),m=n("icon-vip-one"),f=n("icon-right");return t(c)==!0?(u(),v("div",{key:0,class:"userInfo",style:ve({backgroundImage:"url("+t(o).profile.backgroundUrl+"?param=400y400)"})},[e("div",ct,[e("div",{class:"left",onClick:i[0]||(i[0]=I=>d("userDetail",t(o).profile.userId))},[e("img",{src:t(o).profile.avatarUrl+"?param=100y100",alt:"\u7528\u6237ID="+t(o).profile.userId},null,8,rt)]),e("div",ut,[e("div",dt,[q(y(t(o).profile.nickname)+" ",1),t(o).profile.gender==1?(u(),j(g,{key:0,theme:"outline",size:"20",fill:"#002bff",class:"icon"})):t(o).profile.gender==2?(u(),j(p,{key:1,theme:"outline",size:"20",fill:"#ff00f7",class:"icon"})):oe("",!0),S(l(m,{theme:"outline",size:"20",fill:"#34d399",class:"icon"},null,512),[[x,t(o).profile.vipType!==0]])]),e("div",_t,y(t(o).profile.signature),1)]),e("div",{class:"right",onClick:i[1]||(i[1]=I=>d("userDetail",t(o).profile.userId))},[pt,l(f,{theme:"outline",size:"18"})])]),e("div",mt,[e("div",vt,[e("span",null,y(t(o).profile.eventCount),1),ht]),e("div",ft,[e("span",null,y(t(o).profile.follows),1),yt]),e("div",gt,[e("span",null,y(t(o).profile.followeds),1),$t])])],4)):t(c)==!1?(u(),v("div",kt,[l(he)])):oe("",!0)}}},bt=V(Ct,[["__scopeId","data-v-bd778af9"]]);const wt=s=>(G("data-v-be4db7f3"),s=s(),J(),s),It={class:"header"},St=wt(()=>e("div",{class:"title"},"\u5BFC\u822A\u83DC\u5355",-1)),zt={class:"content"},xt={__name:"HamburgerIcon",props:{myData:{type:Array,default:()=>[]},size:{type:String,default:()=>"350px"},iconSize:{type:String,default:()=>"28"}},setup(s){let o=M(!1);return(c,a)=>{const d=n("icon-hamburger-button"),_=n("icon-close"),i=n("el-scrollbar"),g=n("el-drawer");return u(),v("div",null,[l(d,{class:"hamburgerIcon",theme:"outline",size:s.iconSize,strokeWidth:2,onClick:a[0]||(a[0]=p=>U(o)?o.value=!0:o=!0)},null,8,["size"]),l(g,{modelValue:t(o),"onUpdate:modelValue":a[2]||(a[2]=p=>U(o)?o.value=p:o=p),direction:"rtl",size:s.size,"with-header":!1},{default:b(()=>[l(i,null,{default:b(()=>[X(c.$slots,"header",{},()=>[e("div",It,[St,l(_,{theme:"outline",size:"20",title:"\u5173\u95ED",class:"close",onClick:a[1]||(a[1]=p=>U(o)?o.value=!1:o=!1)})])],!0),X(c.$slots,"default",{},()=>[e("div",zt,[l(bt),l(fe)])],!0)]),_:3})]),_:3},8,["modelValue","size"])])}}},Dt=V(xt,[["__scopeId","data-v-be4db7f3"]]),de=Ce("search",{state:()=>({showSearchView:!1,searchKeyword:"",suggestData:{},searchHot:[],searchData:null}),getters:{showHot:s=>s.searchKeyword=="",showSuggest:s=>{if(JSON.stringify(s.suggestData)==="{}")return!0}},actions:{async get_searchSuggest(){const s=await ze(this.searchKeyword);this.suggestData=s.data.result,console.log("\u83B7\u53D6\u641C\u7D22\u8BE6\u60C5",s.data)},async get_searchHotDetail(){const s=await xe();this.searchHot=s.data.data,console.log("\u83B7\u53D6\u641C\u7D22\u5EFA\u8BAE",s.data)},async get_songDetail(s){const o=await De(s);return console.log("\u83B7\u53D6\u6B4C\u66F2\u8BE6\u60C5",o.data),o.data.songs[0]}}});function Mt(s,o,c){let a=null;return function(){a&&clearTimeout(a),c==!0&&(s.apply(this,arguments),c=!1),a=setTimeout(()=>{s.apply(this,arguments)},o)}}const Vt=s=>(G("data-v-da78d65d"),s=s(),J(),s),Tt={style:{height:"400px"}},Pt=Vt(()=>e("div",{class:"searchTitle"},"\u70ED\u95E8\u641C\u7D22",-1)),Wt=["onClick"],Lt={class:"hover"},Ut={style:{"margin-right":"4px"}},Nt={style:{color:"#fdb6b6"}},Ot={key:0},Ht={class:"searchTitle"},Ft=["onClick"],Bt={style:{color:"#34d399"},class:"truncate"},qt={style:{"margin-left":"8px"},class:"truncate"},Rt=["onClick"],At={style:{color:"#34d399"},class:"truncate"},Kt={style:{"margin-left":"8px"},class:"truncate"},jt=["onClick"],Et={style:{color:"#34d399","margin-left":"8px"},class:"truncate"},Gt=["onClick"],Jt={style:{color:"#34d399","margin-left":"8px"},class:"truncate"},Qt={__name:"SearchPopover",setup(s){const{Playlist:o}=Ve(),c=Y(),{showSearchView:a,searchKeyword:d,showHot:_,showSuggest:i,searchHot:g,suggestData:p}=Z(de()),{get_searchSuggest:m,get_searchHotDetail:f,get_songDetail:I}=de();f();const k=(D,C)=>{a.value=!1,c.push({name:D,params:{id:C},query:{id:C}})},r=async D=>{const C=await I(D);o.change_playMusic(C),o.push_toPlayList(C)},N=async D=>{d.value=D,await m(),a.value=!0},w=D=>{switch(D){case"songs":return"\u5355\u66F2";case"albums":return"\u4E13\u8F91";case"artists":return"\u6B4C\u624B";case"playlists":return"\u6B4C\u5355";default:return D}},P=Mt(()=>{m()},1e3,!1);return(D,C)=>{const z=n("el-input"),F=n("el-avatar"),R=n("el-scrollbar"),A=n("el-popover");return u(),v("div",null,[l(A,{visible:t(a),"onUpdate:visible":C[4]||(C[4]=$=>U(a)?a.value=$:null),placement:"bottom","popper-style":"max-width:auto;padding:0;",width:"300px"},{reference:b(()=>[l(z,{modelValue:t(d),"onUpdate:modelValue":C[0]||(C[0]=$=>U(d)?d.value=$:null),placeholder:"\u641C\u7D22\u97F3\u4E50\u3001MV\u3001\u6B4C\u5355","prefix-icon":t(be),clearable:!0,onFocus:C[1]||(C[1]=$=>a.value=!0),onFocusout:C[2]||(C[2]=$=>a.value=!1),onInput:t(P),onKeyup:C[3]||(C[3]=we($=>k("searchDetail",t(d)),["enter","native"]))},null,8,["modelValue","prefix-icon","onInput"])]),default:b(()=>[e("div",Tt,[l(R,null,{default:b(()=>[S(e("div",null,[Pt,e("div",null,[(u(!0),v(W,null,L(t(g),($,h)=>(u(),v("div",{key:$.searchWord,class:"hotItem",onClick:O=>N($.searchWord)},[e("div",Lt,[e("span",Ut,y(h+1)+".",1),e("span",null,y($.searchWord),1)]),e("div",Nt,y(t(Me)($.score)),1)],8,Wt))),128))])],512),[[x,t(_)==!0]]),S(e("div",null,[t(p)?(u(),v("div",Ot,[(u(!0),v(W,null,L(t(p).order,$=>(u(),v("div",null,[e("div",Ht,y(w($)),1),(u(!0),v(W,null,L(t(p).songs,h=>{var O;return S((u(),v("div",{key:h.id,class:"searchItem",onClick:te=>r(h.id)},[e("span",Bt,y(h.name),1),e("span",qt," - "+y((O=h.artists.at(0))==null?void 0:O.name),1)],8,Ft)),[[x,$==="songs"]])}),128)),(u(!0),v(W,null,L(t(p).albums,h=>S((u(),v("div",{key:h.id,class:"searchItem",onClick:O=>k("albumDetail",h.id)},[e("span",At,y(h.name),1),e("span",Kt," - "+y(h.artist.name),1)],8,Rt)),[[x,$==="albums"]])),128)),(u(!0),v(W,null,L(t(p).artists,h=>S((u(),v("div",{key:h.id,class:"searchItem",onClick:O=>k("artistDetail",h.id)},[l(F,{size:"small",src:h.img1v1Url,class:"truncate"},null,8,["src"]),e("span",Et,y(h.name),1)],8,jt)),[[x,$==="artists"]])),128)),(u(!0),v(W,null,L(t(p).playlists,h=>S((u(),v("div",{key:h.id,class:"searchItem",onClick:O=>k("playlist",h.id)},[l(F,{size:"small",src:h.coverImgUrl,class:"truncate"},null,8,["src"]),e("div",Jt,y(h.name),1)],8,Gt)),[[x,$==="playlists"]])),128))]))),256))])):oe("",!0)],512),[[x,t(_)==!1]])]),_:1})])]),_:1},8,["visible"])])}}},Xt=V(Qt,[["__scopeId","data-v-da78d65d"]]);const Yt={style:{width:"100%"}},Zt={class:"header"},eo={class:"left"},to={class:"right"},oo={__name:"header",setup(s){return(o,c)=>(u(),v("div",Yt,[e("div",Zt,[e("div",eo,[l(Ue),l(Xt)]),e("div",to,[l(he),l(Pe,{iconSize:"20"}),l(Dt,{iconSize:"28",class:"hidden-more-800"})])])]))}},so=V(oo,[["__scopeId","data-v-937c95c3"]]);const lo={class:"playIcon"},no={__name:"PlayIcon",setup(s){let o=T("audioStatus");const c=T("playClick"),a=T("pauseClick");return(d,_)=>{const i=n("icon-play"),g=n("icon-pause-one");return u(),v("div",lo,[S(l(i,{fill:"#34d399",theme:"filled",size:"38",strokeWidth:2,title:"\u70B9\u51FB\u64AD\u653E",onClick:_[0]||(_[0]=p=>t(c)())},null,512),[[x,t(o)===!1]]),S(l(g,{fill:"#34d399",theme:"filled",size:"38",strokeWidth:2,title:"\u70B9\u51FB\u6682\u505C",onClick:_[1]||(_[1]=p=>t(a)())},null,512),[[x,t(o)===!0]])])}}},io=V(no,[["__scopeId","data-v-14239679"]]);const ao={class:"playModeIcon"},co={__name:"PlayModeIcon",setup(s){let o=T("playMode");function c(a){o.value=a}return(a,d)=>{const _=n("icon-play-once"),i=n("icon-loop-once"),g=n("icon-play-cycle");return u(),v("div",ao,[S(l(_,{theme:"outline",size:"22",strokeWidth:2,title:"\u64AD\u5B8C\u6682\u505C",onClick:d[0]||(d[0]=p=>c("loopOnce"))},null,512),[[x,t(o)==="playOnce"]]),S(l(i,{theme:"outline",size:"22",strokeWidth:2,title:"\u5355\u66F2\u5FAA\u73AF",onClick:d[1]||(d[1]=p=>c("playCycle"))},null,512),[[x,t(o)==="loopOnce"]]),S(l(g,{theme:"outline",size:"22",strokeWidth:2,title:"\u6B4C\u5355\u5FAA\u73AF",onClick:d[2]||(d[2]=p=>c("playOnce"))},null,512),[[x,t(o)==="playCycle"]])])}}},ro=V(co,[["__scopeId","data-v-f72e9609"]]);const uo={class:"volumeIcon"},_o={class:"hidden"},po={class:"volume"},mo={__name:"VolumeIcon",setup(s){let o=T("volume");const c=T("volumeSetting");function a(){o.value==0?(o.value=50,c()):(o.value=0,c())}return re(()=>{const d=document.querySelector(".volumeIcon"),_=document.querySelector(".hidden");let i=M(null);_.onmouseenter=()=>{clearTimeout(i)},_.onmouseleave=()=>{_.style.display="none"},d.onmouseenter=()=>{clearTimeout(i),_.style.display="block"},d.onmouseleave=()=>{i=setTimeout(()=>{_.style.display="none"},500)}}),(d,_)=>{const i=n("el-slider");return u(),v("div",null,[e("div",uo,[(u(),j(ce(t(o)===0?"icon-volume-mute":t(o)==100?"icon-volume-notice":"icon-volume-small"),{theme:"outline",size:"22",strokeWidth:2,title:"\u97F3\u91CF",onClick:a}))]),e("div",_o,[e("div",po,[l(i,{modelValue:t(o),"onUpdate:modelValue":_[0]||(_[0]=g=>U(o)?o.value=g:o=g),vertical:"",height:"100px","show-tooltip":!1,onInput:_[1]||(_[1]=g=>t(c)())},null,8,["modelValue"]),e("p",null,y(t(o)),1)])])])}}},vo=V(mo,[["__scopeId","data-v-5babe41f"]]);function ne(s){if(s==0||window.isNaN(s))return"00:00";let o=Math.floor(s%60),c=Math.floor(s/60);return`${c<10?"0"+c:c}:${o<10?"0"+o:o}`}const ho={class:"lyricPlayer"},fo={class:"cover"},yo={class:"cover-container"},go=["src","alt"],$o={class:"controls"},ko={class:"top-part"},Co={class:"track-info"},bo={class:"title"},wo={class:"subtitle"},Io=q(" - "),So={class:"like-icon"},zo={class:"progress-bar"},xo={class:"time"},Do={class:"time"},Mo={class:"media-controls"},Vo={__name:"LyricPlayer",props:{songs:{type:Object,default:()=>({id:1234,name:"\u6B4C\u66F2\u540D",al:{id:1234,name:"\u4E13\u8F91",picUrl:"\u56FE\u7247\u94FE\u63A5",pic:"\u56FE\u7247id"},ar:[{id:1234,name:"\u6B4C\u624B"}]})},currentTime:{type:Number,default:()=>0},duration:{type:Number,default:()=>0}},setup(s){const o=s;let c=T("audioStatus"),a=T("playMode"),d=T("playSpeed");const _=T("playClick"),i=T("pauseClick"),g=T("preClick"),p=T("nextClick"),m=T("playSpeedClick"),f=k=>{k=="pause"&&i(),k=="play"&&_(),k=="pre"&&g(),k=="next"&&p(),k=="playOnce"&&(a.value=k,console.log("\u64AD\u5B8C\u6682\u505C")),k=="loopOnce"&&(a.value=k,console.log("\u5355\u66F2\u5FAA\u73AF")),k=="playCycle"&&(a.value=k,console.log("\u6B4C\u5355\u5FAA\u73AF")),k=="speed"&&m()};let I=M(0);return se(()=>o.currentTime,()=>{isNaN(o.duration)!==!0&&(I.value=parseInt(o.currentTime/o.duration*100))}),(k,r)=>{const N=n("router-link"),w=n("icon-like"),P=n("el-progress"),D=n("icon-go-start"),C=n("icon-play-one"),z=n("icon-pause"),F=n("icon-go-end"),R=n("icon-play-once"),A=n("icon-loop-once"),$=n("icon-play-cycle");return u(),v("div",ho,[e("div",fo,[e("div",yo,[e("img",{src:s.songs.al.picUrl,alt:"\u6B4C\u66F2ID="+s.songs.al.id},null,8,go),e("div",{class:"shadow",style:ve({backgroundImage:"url("+s.songs.al.picUrl+")"})},null,4)])]),e("div",$o,[e("div",ko,[e("div",Co,[e("div",bo,y(s.songs.name),1),e("div",wo,[(u(!0),v(W,null,L(s.songs.ar,h=>(u(),j(N,{key:h.id,to:{name:"artistDetail",params:{id:h.id}},class:"ar"},{default:b(()=>[q(y(h.name),1)]),_:2},1032,["to"]))),128)),Io,l(N,{to:{name:"albumDetail",params:{id:s.songs.al.id}},class:"al"},{default:b(()=>[q(y(s.songs.al.name),1)]),_:1},8,["to"])])]),e("div",So,[l(w,{theme:"outline",size:"20"})])]),e("div",zo,[e("span",xo,y(t(ne)(s.currentTime)),1),l(P,{percentage:t(I),"text-inside":!0,"show-text":!1,"stroke-width":6,class:"slider"},null,8,["percentage"]),e("span",Do,y(t(ne)(s.duration)),1)]),e("div",Mo,[e("div",{title:"\u64AD\u653E\u901F\u5EA6",onClick:r[0]||(r[0]=h=>f("speed")),class:E(["icon-hover play-speed",{activeMode:t(d)!==1}])},y(t(d))+"x",3),l(D,{theme:"outline",size:"34",strokeWidth:5,title:"\u4E0A\u4E00\u9996",onClick:r[1]||(r[1]=h=>f("pre")),class:"icon-hover"}),S(l(C,{theme:"filled",size:"44",onClick:r[2]||(r[2]=h=>f("play")),strokeWidth:5,title:"\u70B9\u51FB\u64AD\u653E",class:"icon-hover"},null,512),[[x,t(c)===!1]]),S(l(z,{theme:"filled",size:"44",strokeWidth:5,onClick:r[3]||(r[3]=h=>f("pause")),title:"\u70B9\u51FB\u6682\u505C",class:"icon-hover"},null,512),[[x,t(c)===!0]]),l(F,{theme:"outline",size:"34",strokeWidth:5,title:"\u4E0B\u4E00\u9996",onClick:r[4]||(r[4]=h=>f("next")),class:"icon-hover"}),S(l(R,{theme:"outline",size:"18",strokeWidth:5,title:"\u64AD\u5B8C\u6682\u505C",class:"icon-hover",onClick:r[5]||(r[5]=h=>f("playCycle"))},null,512),[[x,t(a)=="playOnce"]]),S(l(A,{theme:"outline",size:"18",strokeWidth:5,title:"\u5355\u66F2\u5FAA\u73AF",class:E(["icon-hover",{activeMode:t(a)=="loopOnce"}]),onClick:r[6]||(r[6]=h=>f("playOnce"))},null,8,["class"]),[[x,t(a)=="loopOnce"]]),S(l($,{theme:"outline",size:"18",strokeWidth:5,title:"\u6B4C\u5355\u5FAA\u73AF",class:E(["icon-hover",{activeMode:t(a)=="playCycle"}]),onClick:r[7]||(r[7]=h=>f("loopOnce"))},null,8,["class"]),[[x,t(a)=="playCycle"]])])])])}}},To=V(Vo,[["__scopeId","data-v-d9638165"]]);const Po=s=>(G("data-v-54024832"),s=s(),J(),s),Wo=["src"],Lo={class:"lyricDialog"},Uo={class:"left-side"},No={class:"right-side"},Oo={key:0,class:"lyric-container"},Ho={key:1,class:"lyric-container"},Fo=Po(()=>e("p",{class:"lyric-item lyricActive"},"\u6682\u65E0\u6B4C\u8BCD",-1)),Bo=[Fo],qo={__name:"LyricDialog",props:{currentPlayMusic:{type:Object,default:()=>({id:1,name:"\u6B4C\u66F2\u540D\u52A0\u5907\u6CE8()",ar:[{id:123456,name:"\u6B4C\u624B"}],al:{id:123456,name:"\u6B4C\u66F2",picUrl:"\u56FE\u7247\u94FE\u63A5"},dt:0})},size:{type:String,default:()=>"100%"},lyric:{type:Array,default:()=>[{time:0,lyric:"\u4F5C\u8BCD : ",next:9999}]},currentTime:{type:Number,default:()=>0},duration:{type:Number,default:()=>0}},setup(s){const o=s;let c=M(!1),a=M(0),d=M(!0),_=M(!0),i=1;const g=()=>{i++,i==1&&(d.value=!0,_.value=!0),i==2&&(d.value=!1,_.value=!0),i==3&&(d.value=!0,_.value=!1,i=0),console.log(i)};return re(()=>{se(()=>o.currentTime,(p,m)=>{for(let f=0;f<o.lyric.length;f++)o.currentTime>=o.lyric[f].time&&o.currentTime<=o.lyric[f].next&&(a.value=f)}),se(()=>a.value,(p,m)=>{const f=document.querySelector(".lyricActive"),I=document.querySelector(".right-side");f&&I&&(I.scrollTop=f.offsetHeight*a.value-I.clientHeight/2)})}),(p,m)=>{const f=n("icon-down"),I=n("icon-app-switch"),k=n("el-drawer");return u(),v("div",null,[e("img",{src:s.currentPlayMusic.al.picUrl+"?param=50y50",fit:"cover",onClick:m[0]||(m[0]=r=>U(c)?c.value=!0:c=!0),class:"img"},null,8,Wo),l(k,{modelValue:t(c),"onUpdate:modelValue":m[2]||(m[2]=r=>U(c)?c.value=r:c=r),direction:"btt",size:s.size,"with-header":!1},{default:b(()=>[X(p.$slots,"default",{},()=>[e("div",Lo,[S(e("div",Uo,[l(To,{songs:s.currentPlayMusic,currentTime:s.currentTime,duration:s.duration},null,8,["songs","currentTime","duration"])],512),[[x,t(d)==!0]]),S(e("div",No,[s.lyric.length!==0?(u(),v("div",Oo,[(u(!0),v(W,null,L(s.lyric,r=>(u(),v("p",{class:E(["lyric-item",{lyricActive:s.currentTime>=r.time&&s.currentTime<=r.next}])},y(r.lyric),3))),256))])):(u(),v("div",Ho,Bo))],512),[[x,t(_)==!0]]),e("div",{class:"close",onClick:m[1]||(m[1]=r=>U(c)?c.value=!1:c=!1)},[l(f,{theme:"filled",size:"40",class:"downIcon"})]),e("div",{class:"switch",onClick:g},[l(I,{theme:"filled",size:"25",class:"switchIcon"})])])],!0)]),_:3},8,["modelValue","size"])])}}},Ro=V(qo,[["__scopeId","data-v-54024832"]]);const ye=s=>(G("data-v-d531811b"),s=s(),J(),s),Ao={class:"title"},Ko=ye(()=>e("div",{class:"large-title"},"\u64AD\u653E\u5217\u8868",-1)),jo={class:"small-title"},Eo=ye(()=>e("span",null,"\u6E05\u7A7A",-1)),Go=["onDblclick"],Jo={class:"img"},Qo={alt:"\u52A0\u8F7D\u4E2D..."},Xo={class:"detail"},Yo={class:"author"},Zo={class:"delete"},es=["onClick"],ts={class:"duration"},os={__name:"MusicListIcon",props:{size:{type:Number,default:()=>300},iconSize:{type:String,default:()=>"38"}},setup(s){const{currentPlayMusic:o,toPlayList:c}=Z(le()),{delete_toPlayList:a,change_playMusic:d,clear_toPlayList:_}=le();let i=M(!1);function g(p){let m=Math.floor(p/1e3%60),f=Math.floor(p/1e3/60);return`${f<10?"0"+f:f}:${m<10?"0"+m:m}`}return(p,m)=>{const f=n("icon-music-list"),I=n("el-badge"),k=n("icon-delete"),r=n("el-drawer"),N=Ie("lazy");return u(),v("div",null,[l(I,{value:t(c).length,hidden:t(c).length==0},{default:b(()=>[l(f,{class:"musicList",theme:"outline",size:s.iconSize,strokeWidth:3,title:"\u6B4C\u66F2\u5217\u8868",onClick:m[0]||(m[0]=w=>U(i)?i.value=!0:i=!0)},null,8,["size"])]),_:1},8,["value","hidden"]),l(r,{modelValue:t(i),"onUpdate:modelValue":m[2]||(m[2]=w=>U(i)?i.value=w:i=w),direction:"rtl",size:s.size,"with-header":!1},{default:b(()=>[X(p.$slots,"header",{},()=>[e("div",Ao,[Ko,e("div",jo,[e("span",null,"\u5171"+y(t(c).length)+"\u9996\u6B4C\u66F2",1),e("div",{class:"icon",onClick:m[1]||(m[1]=w=>t(_)())},[l(k,{theme:"outline",size:"14",strokeWidth:4,title:"\u6E05\u7A7A"}),Eo])])])],!0),X(p.$slots,"default",{},()=>[(u(!0),v(W,null,L(t(c),w=>(u(),v("div",{onDblclick:P=>t(d)(w),class:E(["card",t(o).id==w.id?"active":""]),key:w.id},[e("div",Jo,[S(e("img",Qo,null,512),[[N,w.al.picUrl+"?param=40y40"]])]),e("div",Xo,[e("span",null,y(w.name),1),e("div",Yo,[(u(!0),v(W,null,L(w.ar,P=>(u(),v("span",{key:P.id},y(P.name),1))),128))])]),e("div",Zo,[e("a",{class:"deleteIcon",onClick:P=>t(a)(w.id)},"\u79FB\u9664",8,es),e("div",ts,y(g(w.dt)),1)])],42,Go))),128))],!0)]),_:3},8,["modelValue","size"])])}}},_e=V(os,[["__scopeId","data-v-d531811b"]]);const ss={class:"palyer"},ls=["src"],ns={class:"group"},is={class:"detail"},as={class:"info"},cs={class:"top"},rs={class:"bottom"},us={class:"button"},ds={class:"list hidden-less-1000"},_s={__name:"footer",setup(s){const{currentPlayMusic:o,toPlayList:c,lyric:a,audioStatus:d,audioCurrentTime:_,audioDuration:i,progressStatus:g,playMode:p,playSpeed:m,volume:f}=Z(le()),{pre_music:I,next_music:k}=le(),r=M(""),N=M("");function w(){r.value.volume=f.value/100}function P($){$?r.value.playbackRate=$:(m.value+=.5,m.value>2&&(m.value=.5),r.value.playbackRate=m.value)}function D(){d.value=!0,setTimeout(()=>{r.value.play().then(()=>{console.log("\u64AD\u653E\u6210\u529F"),d.value=!0,m.value!==1&&(r.value.playbackRate=m.value)}).catch($=>{console.log("\u64AD\u653E\u51FA\u9519",$),d.value=!1,r.value.currentTime=0,me({showClose:!0,message:"\u6CA1\u6709\u64AD\u653E\u6743\u9650",type:"error"})})},500)}function C(){d.value=!1,r.value.pause()}function z(){I()}function F(){k()}function R(){r.value.currentTime=Number(g.value*r.value.duration/100)}function A(){r.value.autoplay=!1,r.value.controls=!1,r.value.volume=.5,r.value.playbackRate=1}return H("audioStatus",d),H("playMode",p),H("playSpeed",m),H("volume",f),H("playClick",D),H("pauseClick",C),H("preClick",z),H("nextClick",F),H("playSpeedClick",P),H("volumeSetting",w),re(()=>{A(),r.value.ontimeupdate=function(){g.value=Number(r.value.currentTime/r.value.duration*100),_.value=parseInt(r.value.currentTime),i.value=r.value.duration},r.value.onended=function(){d.value=!1,p.value=="playOnce"&&(C(),console.log("\u64AD\u653E\u7ED3\u675F,\u64AD\u5B8C\u6682\u505C")),c.value.length!==0&&p.value=="loopOnce"&&(D(),console.log("\u64AD\u653E\u7ED3\u675F,\u5355\u66F2\u5FAA\u73AF")),c.value.length-1!==0&&p.value=="playCycle"&&(k(),console.log("\u64AD\u653E\u7ED3\u675F,\u6B4C\u5355\u5FAA\u73AF"))}}),se(()=>o.value.id,()=>{console.log("\u6B4C\u66F2id\u53D1\u751F\u53D8\u5316",o.value.id),D()}),($,h)=>{const O=n("el-slider"),te=n("icon-go-start"),Q=n("icon-go-end"),ie=n("icon-text-message");return u(),v("div",ss,[e("audio",{type:"file",ref_key:"audio",ref:r,src:`https://music.163.com/song/media/outer/url?id=${t(o).id}.mp3`,preload:"metadata"},"\u60A8\u7684\u6D4F\u89C8\u5668\u4E0D\u652F\u6301audio\u6807\u7B7E,\u60A8\u8FD8\u662F\u6362\u4E2A\u6D4F\u89C8\u5668\u5427",8,ls),l(O,{ref_key:"progressBar",ref:N,modelValue:t(g),"onUpdate:modelValue":h[0]||(h[0]=K=>U(g)?g.value=K:null),onInput:R,"show-tooltip":!1},null,8,["modelValue"]),e("div",ns,[e("div",is,[l(Ro,{lyric:t(a),currentTime:r.value.currentTime,duration:r.value.duration,currentPlayMusic:t(o)},null,8,["lyric","currentTime","duration","currentPlayMusic"]),e("div",as,[e("p",cs,y(t(o).name),1),e("div",rs,[(u(!0),v(W,null,L(t(o).ar,K=>(u(),v("a",{key:K.name},y(K.name),1))),128))])])]),e("div",us,[l(ro,{class:"hidden-less-1000"}),l(te,{class:"item hidden-less-1000",theme:"outline",size:"28",strokeWidth:4,title:"\u4E0A\u4E00\u9996",onClick:h[1]||(h[1]=K=>z())}),l(io),l(Q,{class:"item hidden-less-1000",theme:"outline",size:"28",strokeWidth:4,title:"\u4E0B\u4E00\u9996",onClick:h[2]||(h[2]=K=>F())}),l(vo,{class:"hidden-less-1000"}),l(_e,{class:"hidden-more-1000"})]),e("div",ds,[e("p",null,y(t(ne)(t(_)))+" / "+y(t(ne)(t(i))),1),l(ie,{theme:"outline",size:"22",strokeWidth:3,title:"\u6B4C\u66F2\u8BC4\u8BBA"}),l(_e,{iconSize:"24"})])])])}}},ps=V(_s,[["__scopeId","data-v-49e03c24"]]);const ms={class:"common-layout"},vs={__name:"index",setup(s){return(o,c)=>{const a=n("el-scrollbar"),d=n("el-aside"),_=n("el-header"),i=n("router-view"),g=n("el-main"),p=n("el-backtop"),m=n("el-footer"),f=n("el-container");return u(),v("div",ms,[l(f,null,{default:b(()=>[l(d,{width:"240px"},{default:b(()=>[l(a,null,{default:b(()=>[l(fe)]),_:1})]),_:1}),l(f,null,{default:b(()=>[l(_,null,{default:b(()=>[l(so)]),_:1}),l(g,{id:"myMain"},{default:b(()=>[l(i,null,{default:b(({Component:I})=>[l(Se,{name:"slide-fade"},{default:b(()=>[(u(),j(ce(I)))]),_:2},1024)]),_:1})]),_:1}),l(p,{bottom:100,target:"#myMain"}),l(m,null,{default:b(()=>[l(ps)]),_:1})]),_:1})]),_:1})])}}},Cs=V(vs,[["__scopeId","data-v-d65401a6"]]);export{Cs as default};
