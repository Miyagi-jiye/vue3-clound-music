import{_ as V,r as T,a,o as u,c as v,b as e,u as t,d as q,e as Q,f as s,s as X,g as re,w as C,n as A,i as N,t as g,h as Y,j,p as E,k as G,l as he,F as L,m as U,q as le,E as ue,v as S,x as z,y as de,z as J,A as fe,S as ye,B as ge,C as P,D as se,G as Z,H as ke,I as H,T as $e}from"./index.33dca1e2.js";import{u as oe,a as Ce,b as be,c as we}from"./login.2fa1443d.js";import{p as Ie}from"./playCountFilter.21fdfcbf.js";import{u as Se}from"./index.7877105b.js";import{u as ee}from"./playlist.db6f1c47.js";import"./vue.73cea66e.js";const xe={__name:"FullScreenButton",props:{iconSize:{type:String,default:()=>"20"}},setup(l){let o=T(!1);const c=()=>{document.fullscreenElement?(document.exitFullscreen(),o.value=!1):(document.documentElement.requestFullscreen(),o.value=!0)};return(n,_)=>{const d=a("icon-off-screen"),r=a("icon-full-screen");return u(),v("div",null,[e("div",{onClick:c,class:"icon-hover"},[t(o)?(u(),q(d,{key:0,theme:"outline",size:l.iconSize,title:"\u9000\u51FA\u5168\u5C4F"},null,8,["size"])):(u(),q(r,{key:1,theme:"outline",size:l.iconSize,title:"\u70B9\u51FB\u5168\u5C4F"},null,8,["size"]))])])}}},ze=V(xe,[["__scopeId","data-v-640c80d9"]]);const De={class:"goBack"},Ve={__name:"DirectionIcon",setup(l){const o=Q();return(c,n)=>{const _=a("icon-left"),d=a("icon-right");return u(),v("div",De,[s(_,{theme:"outline",size:"26",strokeWidth:2,onClick:n[0]||(n[0]=r=>t(o).back())}),s(d,{theme:"outline",size:"26",strokeWidth:2,onClick:n[1]||(n[1]=r=>t(o).forward())})])}}},Te=V(Ve,[["__scopeId","data-v-c491a6dc"]]);const Me=l=>(E("data-v-5ebe9bf7"),l=l(),G(),l),Pe={key:0,class:"loginDialog"},We=Me(()=>e("a",null,"\u70B9\u51FB\u767B\u5F55",-1)),Le=["id"],Ue={class:"login-form"},Ne=j("\u767B\u5F55"),He={key:1,class:"loginDialog"},Oe=["src","alt"],Fe={__name:"LoginDialog",setup(l){const o=Q(),{get_login:c}=oe(),{loginParams:n,isLogin:_,loginData:d}=X(oe()),r=(i,x)=>{o.push({name:i,query:{id:x}})};let y=T(!1),p=T(!1);const m=T(null);let f=re({phone:[{required:!0,message:"\u8BF7\u8F93\u5165\u8D26\u53F7",trigger:"blur"},{min:11,max:11,message:"\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u624B\u673A\u53F7\u7801",trigger:"blur"}],password:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801",trigger:"blur"},{min:6,max:16,message:"\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u5BC6\u7801",trigger:"blur"}]});const I=()=>{y.value=!0},$=()=>{m.value.validate(i=>{if(i)p.value=!0,c().finally(()=>p.value=!1);else return console.log("\u8868\u5355\u9A8C\u8BC1\u4E0D\u901A\u8FC7"),!1})};return(i,x)=>{const w=a("el-avatar"),W=a("el-input"),D=a("el-form-item"),b=a("el-form"),F=a("el-button"),O=a("el-dialog");return t(_)==!1?(u(),v("div",Pe,[e("div",{class:"avatar hidden-less-800",onClick:I},[s(w,{size:30,src:"https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png"}),We]),s(O,{modelValue:t(y),"onUpdate:modelValue":x[2]||(x[2]=M=>N(y)?y.value=M:y=M),title:"Tips",width:"300px"},{header:C(({close:M,titleId:R,titleClass:k})=>[e("h4",{id:R,class:A(k)},"\u767B\u5F55",10,Le)]),footer:C(()=>[s(F,{class:"loginBtn",type:"primary",onClick:$,loading:t(p)},{default:C(()=>[Ne]),_:1},8,["loading"])]),default:C(()=>[e("div",Ue,[s(b,{model:t(n),rules:t(f),ref_key:"loginFormRef",ref:m},{default:C(()=>[s(D,{prop:"phone"},{default:C(()=>[s(W,{modelValue:t(n).phone,"onUpdate:modelValue":x[0]||(x[0]=M=>t(n).phone=M),"prefix-icon":"Cellphone",placeholder:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7\u7801"},null,8,["modelValue"])]),_:1}),s(D,{prop:"password"},{default:C(()=>[s(W,{modelValue:t(n).password,"onUpdate:modelValue":x[1]||(x[1]=M=>t(n).password=M),type:"password","prefix-icon":"Lock",placeholder:"\u8BF7\u8F93\u5165\u767B\u5F55\u5BC6\u7801"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])])]),_:1},8,["modelValue"])])):t(_)==!0?(u(),v("div",He,[e("div",{class:"avatar",title:"\u67E5\u770B\u8BE6\u60C5",onClick:x[3]||(x[3]=M=>r("userDetail",t(d).profile.userId))},[e("img",{src:t(d).profile.avatarUrl+"?param=50y50",alt:"\u7528\u6237ID="+t(d).profile.userId},null,8,Oe),e("p",null,g(t(d).profile.nickname),1)])])):Y("",!0)}}},Be=V(Fe,[["__scopeId","data-v-5ebe9bf7"]]);const qe={class:"group-titlle"},Re=["onClick"],Ae={__name:"menu",setup(l){const o=Q(),c=he();let n=T(c.path);const _=re([{id:1,groupName:"\u5728\u7EBF\u97F3\u4E50",children:[{name:"\u63A8\u8350",icon:"icon-planet",path:"/discover"},{name:"\u97F3\u4E50\u9986",icon:"icon-music",path:"/music"},{name:"\u89C6\u9891",icon:"icon-video-one",path:"/video"},{name:"\u7535\u53F0",icon:"icon-fm",path:"/dj"}]},{id:2,groupName:"\u6211\u7684\u97F3\u4E50",children:[{name:"\u6211\u559C\u6B22",icon:"icon-like"},{name:"\u672C\u5730\u6B4C\u66F2",icon:"icon-computer"},{name:"\u4E0B\u8F7D\u6B4C\u66F2",icon:"icon-download-three"},{name:"\u6700\u8FD1\u64AD\u653E",icon:"icon-play-two"}]}]),d=r=>{n.value=r.path,console.log(r.path),r.path?o.push(r.path):ue.error("\u6682\u65E0\u8BE5\u8DEF\u5F84")};return(r,y)=>(u(),v("div",null,[(u(!0),v(L,null,U(_,p=>(u(),v("div",{class:"group",key:p.id},[e("p",qe,g(p.groupName),1),(u(!0),v(L,null,U(p.children,m=>(u(),v("div",{class:A(["group-item",t(n)==m.path?"active":""]),key:m.path,onClick:f=>d(m)},[(u(),q(le(m.icon),{theme:"outline",size:"22",strokeWidth:2})),e("span",null,g(m.name),1)],10,Re))),128))]))),128))]))}},_e=V(Ae,[["__scopeId","data-v-ad62ffaa"]]);const ne=l=>(E("data-v-58b9ad2c"),l=l(),G(),l),Ke={class:"box"},je=["src","alt"],Ee={class:"center"},Ge={class:"nickname"},Je={class:"signature"},Qe=j(" \u8BE6\u60C5 "),Xe={class:"followGroup"},Ye={class:"item"},Ze=ne(()=>e("p",null,"\u52A8\u6001",-1)),et={class:"item"},tt=ne(()=>e("p",null,"\u5173\u6CE8",-1)),ot={class:"item"},lt=ne(()=>e("p",null,"\u7C89\u4E1D",-1)),st={__name:"UserInfo",setup(l){const{loginData:o,isLogin:c}=X(oe()),n=Q(),_=(d,r)=>{n.push({name:d,query:{id:r}})};return(d,r)=>{const y=a("icon-male"),p=a("icon-female"),m=a("icon-vip-one"),f=a("icon-right");return t(c)==!0?(u(),v("div",{key:0,class:"userInfo",style:de({backgroundImage:"url("+t(o).profile.backgroundUrl+"?param=400y400)"})},[e("div",Ke,[e("div",{class:"left",onClick:r[0]||(r[0]=I=>_("userDetail",t(o).profile.userId))},[e("img",{src:t(o).profile.avatarUrl+"?param=100y100",alt:"\u7528\u6237ID="+t(o).profile.userId},null,8,je)]),e("div",Ee,[e("div",Ge,[j(g(t(o).profile.nickname)+" ",1),t(o).profile.gender==1?(u(),q(y,{key:0,theme:"outline",size:"20",fill:"#002bff",class:"icon"})):t(o).profile.gender==2?(u(),q(p,{key:1,theme:"outline",size:"20",fill:"#ff00f7",class:"icon"})):Y("",!0),S(s(m,{theme:"outline",size:"20",fill:"#34d399",class:"icon"},null,512),[[z,t(o).profile.vipType!==0]])]),e("div",Je,g(t(o).profile.signature),1)]),e("div",{class:"right",onClick:r[1]||(r[1]=I=>_("userDetail",t(o).profile.userId))},[Qe,s(f,{theme:"outline",size:"18"})])]),e("div",Xe,[e("div",Ye,[e("span",null,g(t(o).profile.eventCount),1),Ze]),e("div",et,[e("span",null,g(t(o).profile.follows),1),tt]),e("div",ot,[e("span",null,g(t(o).profile.followeds),1),lt])])],4)):Y("",!0)}}},nt=V(st,[["__scopeId","data-v-58b9ad2c"]]);const it=l=>(E("data-v-ff9d83c4"),l=l(),G(),l),at={class:"header"},ct=it(()=>e("div",{class:"title"},"\u5BFC\u822A\u83DC\u5355",-1)),rt={class:"content"},ut={__name:"HamburgerIcon",props:{myData:{type:Array,default:()=>[]},size:{type:String,default:()=>"350px"},iconSize:{type:String,default:()=>"28"}},setup(l){let o=T(!1);return(c,n)=>{const _=a("icon-hamburger-button"),d=a("icon-close"),r=a("el-scrollbar"),y=a("el-drawer");return u(),v("div",null,[s(_,{class:"hamburgerIcon",theme:"outline",size:l.iconSize,strokeWidth:2,onClick:n[0]||(n[0]=p=>N(o)?o.value=!0:o=!0)},null,8,["size"]),s(y,{modelValue:t(o),"onUpdate:modelValue":n[2]||(n[2]=p=>N(o)?o.value=p:o=p),direction:"rtl",size:l.size,"with-header":!1},{default:C(()=>[s(r,null,{default:C(()=>[J(c.$slots,"header",{},()=>[e("div",at,[ct,s(d,{theme:"outline",size:"20",title:"\u5173\u95ED",class:"close",onClick:n[1]||(n[1]=p=>N(o)?o.value=!1:o=!1)})])],!0),J(c.$slots,"default",{},()=>[e("div",rt,[s(nt),s(_e)])],!0)]),_:3})]),_:3},8,["modelValue","size"])])}}},dt=V(ut,[["__scopeId","data-v-ff9d83c4"]]),ae=fe("search",{state:()=>({showSearchView:!1,searchKeyword:"",suggestData:{},searchHot:[],searchData:null}),getters:{showHot:l=>l.searchKeyword=="",showSuggest:l=>{if(JSON.stringify(l.suggestData)==="{}")return!0}},actions:{async get_searchSuggest(){const l=await Ce(this.searchKeyword);this.suggestData=l.data.result,console.log("\u83B7\u53D6\u641C\u7D22\u8BE6\u60C5",l.data)},async get_searchHotDetail(){const l=await be();this.searchHot=l.data.data,console.log("\u83B7\u53D6\u641C\u7D22\u5EFA\u8BAE",l.data)},async get_songDetail(l){const o=await we(l);return console.log("\u83B7\u53D6\u6B4C\u66F2\u8BE6\u60C5",o.data),o.data.songs[0]}}});function _t(l,o,c){let n=null;return function(){n&&clearTimeout(n),c==!0&&(l.apply(this,arguments),c=!1),n=setTimeout(()=>{l.apply(this,arguments)},o)}}const pt=l=>(E("data-v-da78d65d"),l=l(),G(),l),mt={style:{height:"400px"}},vt=pt(()=>e("div",{class:"searchTitle"},"\u70ED\u95E8\u641C\u7D22",-1)),ht=["onClick"],ft={class:"hover"},yt={style:{"margin-right":"4px"}},gt={style:{color:"#fdb6b6"}},kt={key:0},$t={class:"searchTitle"},Ct=["onClick"],bt={style:{color:"#34d399"},class:"truncate"},wt={style:{"margin-left":"8px"},class:"truncate"},It=["onClick"],St={style:{color:"#34d399"},class:"truncate"},xt={style:{"margin-left":"8px"},class:"truncate"},zt=["onClick"],Dt={style:{color:"#34d399","margin-left":"8px"},class:"truncate"},Vt=["onClick"],Tt={style:{color:"#34d399","margin-left":"8px"},class:"truncate"},Mt={__name:"SearchPopover",setup(l){const{Playlist:o}=Se(),c=Q(),{showSearchView:n,searchKeyword:_,showHot:d,showSuggest:r,searchHot:y,suggestData:p}=X(ae()),{get_searchSuggest:m,get_searchHotDetail:f,get_songDetail:I}=ae();f();const $=(D,b)=>{n.value=!1,c.push({name:D,params:{id:b},query:{id:b}})},i=async D=>{const b=await I(D);o.change_playMusic(b),o.push_toPlayList(b)},x=async D=>{_.value=D,await m(),n.value=!0},w=D=>{switch(D){case"songs":return"\u5355\u66F2";case"albums":return"\u4E13\u8F91";case"artists":return"\u6B4C\u624B";case"playlists":return"\u6B4C\u5355";default:return D}},W=_t(()=>{m()},1e3,!1);return(D,b)=>{const F=a("el-input"),O=a("el-avatar"),M=a("el-scrollbar"),R=a("el-popover");return u(),v("div",null,[s(R,{visible:t(n),"onUpdate:visible":b[4]||(b[4]=k=>N(n)?n.value=k:null),placement:"bottom","popper-style":"max-width:auto;padding:0;",width:"300px"},{reference:C(()=>[s(F,{modelValue:t(_),"onUpdate:modelValue":b[0]||(b[0]=k=>N(_)?_.value=k:null),placeholder:"\u641C\u7D22\u97F3\u4E50\u3001MV\u3001\u6B4C\u5355","prefix-icon":t(ye),clearable:!0,onFocus:b[1]||(b[1]=k=>n.value=!0),onFocusout:b[2]||(b[2]=k=>n.value=!1),onInput:t(W),onKeyup:b[3]||(b[3]=ge(k=>$("searchDetail",t(_)),["enter","native"]))},null,8,["modelValue","prefix-icon","onInput"])]),default:C(()=>[e("div",mt,[s(M,null,{default:C(()=>[S(e("div",null,[vt,e("div",null,[(u(!0),v(L,null,U(t(y),(k,h)=>(u(),v("div",{key:k.searchWord,class:"hotItem",onClick:B=>x(k.searchWord)},[e("div",ft,[e("span",yt,g(h+1)+".",1),e("span",null,g(k.searchWord),1)]),e("div",gt,g(t(Ie)(k.score)),1)],8,ht))),128))])],512),[[z,t(d)==!0]]),S(e("div",null,[t(p)?(u(),v("div",kt,[(u(!0),v(L,null,U(t(p).order,k=>(u(),v("div",null,[e("div",$t,g(w(k)),1),(u(!0),v(L,null,U(t(p).songs,h=>{var B;return S((u(),v("div",{key:h.id,class:"searchItem",onClick:ie=>i(h.id)},[e("span",bt,g(h.name),1),e("span",wt," - "+g((B=h.artists.at(0))==null?void 0:B.name),1)],8,Ct)),[[z,k==="songs"]])}),128)),(u(!0),v(L,null,U(t(p).albums,h=>S((u(),v("div",{key:h.id,class:"searchItem",onClick:B=>$("albumDetail",h.id)},[e("span",St,g(h.name),1),e("span",xt," - "+g(h.artist.name),1)],8,It)),[[z,k==="albums"]])),128)),(u(!0),v(L,null,U(t(p).artists,h=>S((u(),v("div",{key:h.id,class:"searchItem",onClick:B=>$("artistDetail",h.id)},[s(O,{size:"small",src:h.img1v1Url,class:"truncate"},null,8,["src"]),e("span",Dt,g(h.name),1)],8,zt)),[[z,k==="artists"]])),128)),(u(!0),v(L,null,U(t(p).playlists,h=>S((u(),v("div",{key:h.id,class:"searchItem",onClick:B=>$("playlist",h.id)},[s(O,{size:"small",src:h.coverImgUrl,class:"truncate"},null,8,["src"]),e("div",Tt,g(h.name),1)],8,Vt)),[[z,k==="playlists"]])),128))]))),256))])):Y("",!0)],512),[[z,t(d)==!1]])]),_:1})])]),_:1},8,["visible"])])}}},Pt=V(Mt,[["__scopeId","data-v-da78d65d"]]);const Wt={style:{width:"100%"}},Lt={class:"header"},Ut={class:"left"},Nt={class:"right"},Ht={__name:"header",setup(l){return(o,c)=>(u(),v("div",Wt,[e("div",Lt,[e("div",Ut,[s(Te),s(Pt)]),e("div",Nt,[s(Be,{class:"hidden-less-800"}),s(ze,{iconSize:"20"}),s(dt,{iconSize:"28",class:"hidden-more-800"})])])]))}},Ot=V(Ht,[["__scopeId","data-v-076420ad"]]);const Ft={class:"playIcon"},Bt={__name:"PlayIcon",setup(l){let o=P("audioStatus");const c=P("playClick"),n=P("pauseClick");return(_,d)=>{const r=a("icon-play"),y=a("icon-pause-one");return u(),v("div",Ft,[S(s(r,{fill:"#34d399",theme:"filled",size:"38",strokeWidth:2,title:"\u70B9\u51FB\u64AD\u653E",onClick:d[0]||(d[0]=p=>t(c)())},null,512),[[z,t(o)===!1]]),S(s(y,{fill:"#34d399",theme:"filled",size:"38",strokeWidth:2,title:"\u70B9\u51FB\u6682\u505C",onClick:d[1]||(d[1]=p=>t(n)())},null,512),[[z,t(o)===!0]])])}}},qt=V(Bt,[["__scopeId","data-v-14239679"]]);const Rt={class:"playModeIcon"},At={__name:"PlayModeIcon",setup(l){let o=P("playMode");function c(n){o.value=n}return(n,_)=>{const d=a("icon-play-once"),r=a("icon-loop-once"),y=a("icon-play-cycle");return u(),v("div",Rt,[S(s(d,{theme:"outline",size:"22",strokeWidth:2,title:"\u64AD\u5B8C\u6682\u505C",onClick:_[0]||(_[0]=p=>c("loopOnce"))},null,512),[[z,t(o)==="playOnce"]]),S(s(r,{theme:"outline",size:"22",strokeWidth:2,title:"\u5355\u66F2\u5FAA\u73AF",onClick:_[1]||(_[1]=p=>c("playCycle"))},null,512),[[z,t(o)==="loopOnce"]]),S(s(y,{theme:"outline",size:"22",strokeWidth:2,title:"\u6B4C\u5355\u5FAA\u73AF",onClick:_[2]||(_[2]=p=>c("playOnce"))},null,512),[[z,t(o)==="playCycle"]])])}}},Kt=V(At,[["__scopeId","data-v-f72e9609"]]);const jt={class:"volumeIcon"},Et={class:"hidden"},Gt={class:"volume"},Jt={__name:"VolumeIcon",setup(l){let o=P("volume");const c=P("volumeSetting");function n(){o.value==0?(o.value=50,c()):(o.value=0,c())}return se(()=>{const _=document.querySelector(".volumeIcon"),d=document.querySelector(".hidden");let r=T(null);d.onmouseenter=()=>{clearTimeout(r)},d.onmouseleave=()=>{d.style.display="none"},_.onmouseenter=()=>{clearTimeout(r),d.style.display="block"},_.onmouseleave=()=>{r=setTimeout(()=>{d.style.display="none"},500)}}),(_,d)=>{const r=a("el-slider");return u(),v("div",null,[e("div",jt,[(u(),q(le(t(o)===0?"icon-volume-mute":t(o)==100?"icon-volume-notice":"icon-volume-small"),{theme:"outline",size:"22",strokeWidth:2,title:"\u97F3\u91CF",onClick:n}))]),e("div",Et,[e("div",Gt,[s(r,{modelValue:t(o),"onUpdate:modelValue":d[0]||(d[0]=y=>N(o)?o.value=y:o=y),vertical:"",height:"100px","show-tooltip":!1,onInput:d[1]||(d[1]=y=>t(c)())},null,8,["modelValue"]),e("p",null,g(t(o)),1)])])])}}},Qt=V(Jt,[["__scopeId","data-v-5babe41f"]]);function te(l){if(l==0||window.isNaN(l))return"00:00";let o=Math.floor(l%60),c=Math.floor(l/60);return`${c<10?"0"+c:c}:${o<10?"0"+o:o}`}const Xt={class:"lyricPlayer"},Yt={class:"cover"},Zt={class:"cover-container"},eo=["src","alt"],to={class:"controls"},oo={class:"top-part"},lo={class:"track-info"},so={class:"title"},no={class:"subtitle"},io=j(" - "),ao={class:"like-icon"},co={class:"progress-bar"},ro={class:"time"},uo={class:"time"},_o={class:"media-controls"},po={__name:"LyricPlayer",props:{songs:{type:Object,default:()=>({id:1234,name:"\u6B4C\u66F2\u540D",al:{id:1234,name:"\u4E13\u8F91",picUrl:"\u56FE\u7247\u94FE\u63A5",pic:"\u56FE\u7247id"},ar:[{id:1234,name:"\u6B4C\u624B"}]})},currentTime:{type:Number,default:()=>0},duration:{type:Number,default:()=>0}},setup(l){const o=l;let c=P("audioStatus"),n=P("playMode"),_=P("playSpeed");const d=P("playClick"),r=P("pauseClick"),y=P("preClick"),p=P("nextClick"),m=P("playSpeedClick"),f=$=>{$=="pause"&&r(),$=="play"&&d(),$=="pre"&&y(),$=="next"&&p(),$=="playOnce"&&(n.value=$,console.log("\u64AD\u5B8C\u6682\u505C")),$=="loopOnce"&&(n.value=$,console.log("\u5355\u66F2\u5FAA\u73AF")),$=="playCycle"&&(n.value=$,console.log("\u6B4C\u5355\u5FAA\u73AF")),$=="speed"&&m()};let I=T(0);return Z(()=>o.currentTime,()=>{isNaN(o.duration)!==!0&&(I.value=parseInt(o.currentTime/o.duration*100))}),($,i)=>{const x=a("router-link"),w=a("icon-like"),W=a("el-progress"),D=a("icon-go-start"),b=a("icon-play-one"),F=a("icon-pause"),O=a("icon-go-end"),M=a("icon-play-once"),R=a("icon-loop-once"),k=a("icon-play-cycle");return u(),v("div",Xt,[e("div",Yt,[e("div",Zt,[e("img",{src:l.songs.al.picUrl,alt:"\u6B4C\u66F2ID="+l.songs.al.id},null,8,eo),e("div",{class:"shadow",style:de({backgroundImage:"url("+l.songs.al.picUrl+")"})},null,4)])]),e("div",to,[e("div",oo,[e("div",lo,[e("div",so,g(l.songs.name),1),e("div",no,[(u(!0),v(L,null,U(l.songs.ar,h=>(u(),q(x,{key:h.id,to:{name:"artistDetail",params:{id:h.id}},class:"ar"},{default:C(()=>[j(g(h.name),1)]),_:2},1032,["to"]))),128)),io,s(x,{to:{name:"albumDetail",params:{id:l.songs.al.id}},class:"al"},{default:C(()=>[j(g(l.songs.al.name),1)]),_:1},8,["to"])])]),e("div",ao,[s(w,{theme:"outline",size:"20"})])]),e("div",co,[e("span",ro,g(t(te)(l.currentTime)),1),s(W,{percentage:t(I),"text-inside":!0,"show-text":!1,"stroke-width":6,class:"slider"},null,8,["percentage"]),e("span",uo,g(t(te)(l.duration)),1)]),e("div",_o,[e("div",{title:"\u64AD\u653E\u901F\u5EA6",onClick:i[0]||(i[0]=h=>f("speed")),class:A(["icon-hover play-speed",{activeMode:t(_)!==1}])},g(t(_))+"x",3),s(D,{theme:"outline",size:"34",strokeWidth:5,title:"\u4E0A\u4E00\u9996",onClick:i[1]||(i[1]=h=>f("pre")),class:"icon-hover"}),S(s(b,{theme:"filled",size:"44",onClick:i[2]||(i[2]=h=>f("play")),strokeWidth:5,title:"\u70B9\u51FB\u64AD\u653E",class:"icon-hover"},null,512),[[z,t(c)===!1]]),S(s(F,{theme:"filled",size:"44",strokeWidth:5,onClick:i[3]||(i[3]=h=>f("pause")),title:"\u70B9\u51FB\u6682\u505C",class:"icon-hover"},null,512),[[z,t(c)===!0]]),s(O,{theme:"outline",size:"34",strokeWidth:5,title:"\u4E0B\u4E00\u9996",onClick:i[4]||(i[4]=h=>f("next")),class:"icon-hover"}),S(s(M,{theme:"outline",size:"18",strokeWidth:5,title:"\u64AD\u5B8C\u6682\u505C",class:"icon-hover",onClick:i[5]||(i[5]=h=>f("playCycle"))},null,512),[[z,t(n)=="playOnce"]]),S(s(R,{theme:"outline",size:"18",strokeWidth:5,title:"\u5355\u66F2\u5FAA\u73AF",class:A(["icon-hover",{activeMode:t(n)=="loopOnce"}]),onClick:i[6]||(i[6]=h=>f("playOnce"))},null,8,["class"]),[[z,t(n)=="loopOnce"]]),S(s(k,{theme:"outline",size:"18",strokeWidth:5,title:"\u6B4C\u5355\u5FAA\u73AF",class:A(["icon-hover",{activeMode:t(n)=="playCycle"}]),onClick:i[7]||(i[7]=h=>f("loopOnce"))},null,8,["class"]),[[z,t(n)=="playCycle"]])])])])}}},mo=V(po,[["__scopeId","data-v-d9638165"]]);const vo=l=>(E("data-v-54024832"),l=l(),G(),l),ho=["src"],fo={class:"lyricDialog"},yo={class:"left-side"},go={class:"right-side"},ko={key:0,class:"lyric-container"},$o={key:1,class:"lyric-container"},Co=vo(()=>e("p",{class:"lyric-item lyricActive"},"\u6682\u65E0\u6B4C\u8BCD",-1)),bo=[Co],wo={__name:"LyricDialog",props:{currentPlayMusic:{type:Object,default:()=>({id:1,name:"\u6B4C\u66F2\u540D\u52A0\u5907\u6CE8()",ar:[{id:123456,name:"\u6B4C\u624B"}],al:{id:123456,name:"\u6B4C\u66F2",picUrl:"\u56FE\u7247\u94FE\u63A5"},dt:0})},size:{type:String,default:()=>"100%"},lyric:{type:Array,default:()=>[{time:0,lyric:"\u4F5C\u8BCD : ",next:9999}]},currentTime:{type:Number,default:()=>0},duration:{type:Number,default:()=>0}},setup(l){const o=l;let c=T(!1),n=T(0),_=T(!0),d=T(!0),r=1;const y=()=>{r++,r==1&&(_.value=!0,d.value=!0),r==2&&(_.value=!1,d.value=!0),r==3&&(_.value=!0,d.value=!1,r=0),console.log(r)};return se(()=>{Z(()=>o.currentTime,(p,m)=>{for(let f=0;f<o.lyric.length;f++)o.currentTime>=o.lyric[f].time&&o.currentTime<=o.lyric[f].next&&(n.value=f)}),Z(()=>n.value,(p,m)=>{const f=document.querySelector(".lyricActive"),I=document.querySelector(".right-side");f&&I&&(I.scrollTop=f.offsetHeight*n.value-I.clientHeight/2)})}),(p,m)=>{const f=a("icon-down"),I=a("icon-app-switch"),$=a("el-drawer");return u(),v("div",null,[e("img",{src:l.currentPlayMusic.al.picUrl+"?param=50y50",fit:"cover",onClick:m[0]||(m[0]=i=>N(c)?c.value=!0:c=!0),class:"img"},null,8,ho),s($,{modelValue:t(c),"onUpdate:modelValue":m[2]||(m[2]=i=>N(c)?c.value=i:c=i),direction:"btt",size:l.size,"with-header":!1},{default:C(()=>[J(p.$slots,"default",{},()=>[e("div",fo,[S(e("div",yo,[s(mo,{songs:l.currentPlayMusic,currentTime:l.currentTime,duration:l.duration},null,8,["songs","currentTime","duration"])],512),[[z,t(_)==!0]]),S(e("div",go,[l.lyric.length!==0?(u(),v("div",ko,[(u(!0),v(L,null,U(l.lyric,i=>(u(),v("p",{class:A(["lyric-item",{lyricActive:l.currentTime>=i.time&&l.currentTime<=i.next}])},g(i.lyric),3))),256))])):(u(),v("div",$o,bo))],512),[[z,t(d)==!0]]),e("div",{class:"close",onClick:m[1]||(m[1]=i=>N(c)?c.value=!1:c=!1)},[s(f,{theme:"filled",size:"40",class:"downIcon"})]),e("div",{class:"switch",onClick:y},[s(I,{theme:"filled",size:"25",class:"switchIcon"})])])],!0)]),_:3},8,["modelValue","size"])])}}},Io=V(wo,[["__scopeId","data-v-54024832"]]);const pe=l=>(E("data-v-d531811b"),l=l(),G(),l),So={class:"title"},xo=pe(()=>e("div",{class:"large-title"},"\u64AD\u653E\u5217\u8868",-1)),zo={class:"small-title"},Do=pe(()=>e("span",null,"\u6E05\u7A7A",-1)),Vo=["onDblclick"],To={class:"img"},Mo={alt:"\u52A0\u8F7D\u4E2D..."},Po={class:"detail"},Wo={class:"author"},Lo={class:"delete"},Uo=["onClick"],No={class:"duration"},Ho={__name:"MusicListIcon",props:{size:{type:Number,default:()=>300},iconSize:{type:String,default:()=>"38"}},setup(l){const{currentPlayMusic:o,toPlayList:c}=X(ee()),{delete_toPlayList:n,change_playMusic:_,clear_toPlayList:d}=ee();let r=T(!1);function y(p){let m=Math.floor(p/1e3%60),f=Math.floor(p/1e3/60);return`${f<10?"0"+f:f}:${m<10?"0"+m:m}`}return(p,m)=>{const f=a("icon-music-list"),I=a("el-badge"),$=a("icon-delete"),i=a("el-drawer"),x=ke("lazy");return u(),v("div",null,[s(I,{value:t(c).length,hidden:t(c).length==0},{default:C(()=>[s(f,{class:"musicList",theme:"outline",size:l.iconSize,strokeWidth:3,title:"\u6B4C\u66F2\u5217\u8868",onClick:m[0]||(m[0]=w=>N(r)?r.value=!0:r=!0)},null,8,["size"])]),_:1},8,["value","hidden"]),s(i,{modelValue:t(r),"onUpdate:modelValue":m[2]||(m[2]=w=>N(r)?r.value=w:r=w),direction:"rtl",size:l.size,"with-header":!1},{default:C(()=>[J(p.$slots,"header",{},()=>[e("div",So,[xo,e("div",zo,[e("span",null,"\u5171"+g(t(c).length)+"\u9996\u6B4C\u66F2",1),e("div",{class:"icon",onClick:m[1]||(m[1]=w=>t(d)())},[s($,{theme:"outline",size:"14",strokeWidth:4,title:"\u6E05\u7A7A"}),Do])])])],!0),J(p.$slots,"default",{},()=>[(u(!0),v(L,null,U(t(c),w=>(u(),v("div",{onDblclick:W=>t(_)(w),class:A(["card",t(o).id==w.id?"active":""]),key:w.id},[e("div",To,[S(e("img",Mo,null,512),[[x,w.al.picUrl+"?param=40y40"]])]),e("div",Po,[e("span",null,g(w.name),1),e("div",Wo,[(u(!0),v(L,null,U(w.ar,W=>(u(),v("span",{key:W.id},g(W.name),1))),128))])]),e("div",Lo,[e("a",{class:"deleteIcon",onClick:W=>t(n)(w.id)},"\u79FB\u9664",8,Uo),e("div",No,g(y(w.dt)),1)])],42,Vo))),128))],!0)]),_:3},8,["modelValue","size"])])}}},ce=V(Ho,[["__scopeId","data-v-d531811b"]]);const Oo={class:"palyer"},Fo=["src"],Bo={class:"group"},qo={class:"detail"},Ro={class:"info"},Ao={class:"top"},Ko={class:"bottom"},jo={class:"button"},Eo={class:"list hidden-less-1000"},Go={__name:"footer",setup(l){const{currentPlayMusic:o,toPlayList:c,lyric:n,audioStatus:_,audioCurrentTime:d,audioDuration:r,progressStatus:y,playMode:p,playSpeed:m,volume:f}=X(ee()),{pre_music:I,next_music:$}=ee(),i=T(""),x=T("");function w(){i.value.volume=f.value/100}function W(k){k?i.value.playbackRate=k:(m.value+=.5,m.value>2&&(m.value=.5),i.value.playbackRate=m.value)}function D(){_.value=!0,setTimeout(()=>{i.value.play().then(()=>{console.log("\u64AD\u653E\u6210\u529F"),_.value=!0,m.value!==1&&(i.value.playbackRate=m.value)}).catch(k=>{console.log("\u64AD\u653E\u51FA\u9519",k),_.value=!1,i.value.currentTime=0,ue({showClose:!0,message:"\u6CA1\u6709\u64AD\u653E\u6743\u9650",type:"error"})})},500)}function b(){_.value=!1,i.value.pause()}function F(){I()}function O(){$()}function M(){i.value.currentTime=Number(y.value*i.value.duration/100)}function R(){i.value.autoplay=!1,i.value.controls=!1,i.value.volume=.5,i.value.playbackRate=1}return H("audioStatus",_),H("playMode",p),H("playSpeed",m),H("volume",f),H("playClick",D),H("pauseClick",b),H("preClick",F),H("nextClick",O),H("playSpeedClick",W),H("volumeSetting",w),se(()=>{R(),i.value.ontimeupdate=function(){y.value=Number(i.value.currentTime/i.value.duration*100),d.value=parseInt(i.value.currentTime),r.value=i.value.duration},i.value.onended=function(){_.value=!1,p.value=="playOnce"&&(b(),console.log("\u64AD\u653E\u7ED3\u675F,\u64AD\u5B8C\u6682\u505C")),c.value.length!==0&&p.value=="loopOnce"&&(D(),console.log("\u64AD\u653E\u7ED3\u675F,\u5355\u66F2\u5FAA\u73AF")),c.value.length-1!==0&&p.value=="playCycle"&&($(),console.log("\u64AD\u653E\u7ED3\u675F,\u6B4C\u5355\u5FAA\u73AF"))}}),Z(()=>o.value.id,()=>{console.log("\u6B4C\u66F2id\u53D1\u751F\u53D8\u5316",o.value.id),D()}),(k,h)=>{const B=a("el-slider"),ie=a("icon-go-start"),me=a("icon-go-end"),ve=a("icon-text-message");return u(),v("div",Oo,[e("audio",{type:"file",ref_key:"audio",ref:i,src:`https://music.163.com/song/media/outer/url?id=${t(o).id}.mp3`,preload:"metadata"},"\u60A8\u7684\u6D4F\u89C8\u5668\u4E0D\u652F\u6301audio\u6807\u7B7E,\u60A8\u8FD8\u662F\u6362\u4E2A\u6D4F\u89C8\u5668\u5427",8,Fo),s(B,{ref_key:"progressBar",ref:x,modelValue:t(y),"onUpdate:modelValue":h[0]||(h[0]=K=>N(y)?y.value=K:null),onInput:M,"show-tooltip":!1},null,8,["modelValue"]),e("div",Bo,[e("div",qo,[s(Io,{lyric:t(n),currentTime:i.value.currentTime,duration:i.value.duration,currentPlayMusic:t(o)},null,8,["lyric","currentTime","duration","currentPlayMusic"]),e("div",Ro,[e("p",Ao,g(t(o).name),1),e("div",Ko,[(u(!0),v(L,null,U(t(o).ar,K=>(u(),v("a",{key:K.name},g(K.name),1))),128))])])]),e("div",jo,[s(Kt,{class:"hidden-less-1000"}),s(ie,{class:"item hidden-less-1000",theme:"outline",size:"28",strokeWidth:4,title:"\u4E0A\u4E00\u9996",onClick:h[1]||(h[1]=K=>F())}),s(qt),s(me,{class:"item hidden-less-1000",theme:"outline",size:"28",strokeWidth:4,title:"\u4E0B\u4E00\u9996",onClick:h[2]||(h[2]=K=>O())}),s(Qt,{class:"hidden-less-1000"}),s(ce,{class:"hidden-more-1000"})]),e("div",Eo,[e("p",null,g(t(te)(t(d)))+" / "+g(t(te)(t(r))),1),s(ve,{theme:"outline",size:"22",strokeWidth:3,title:"\u6B4C\u66F2\u8BC4\u8BBA"}),s(ce,{iconSize:"24"})])])])}}},Jo=V(Go,[["__scopeId","data-v-49e03c24"]]);const Qo={class:"common-layout"},Xo={__name:"index",setup(l){return(o,c)=>{const n=a("el-scrollbar"),_=a("el-aside"),d=a("el-header"),r=a("router-view"),y=a("el-main"),p=a("el-backtop"),m=a("el-footer"),f=a("el-container");return u(),v("div",Qo,[s(f,null,{default:C(()=>[s(_,{width:"240px"},{default:C(()=>[s(n,null,{default:C(()=>[s(_e)]),_:1})]),_:1}),s(f,null,{default:C(()=>[s(d,null,{default:C(()=>[s(Ot)]),_:1}),s(y,{id:"myMain"},{default:C(()=>[s(r,null,{default:C(({Component:I})=>[s($e,{name:"slide-fade"},{default:C(()=>[(u(),q(le(I)))]),_:2},1024)]),_:1})]),_:1}),s(p,{bottom:100,target:"#myMain"}),s(m,null,{default:C(()=>[s(Jo)]),_:1})]),_:1})]),_:1})])}}},sl=V(Xo,[["__scopeId","data-v-d65401a6"]]);export{sl as default};
