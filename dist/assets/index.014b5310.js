import{_ as c,o as l,c as o,k as m,D as e,F as d,A as f,t as u}from"./index.59ff27cd.js";const H={name:"virtualList",props:{data:Array,viewH:Number,itemH:Number},data(){return{scrollH:"",list:[],showNum:"",offsetY:"",lastTime:""}},mounted(){this.scrollH=this.data.length*this.itemH,this.showNum=Math.floor(this.viewH/this.itemH)+4,this.list=this.data.slice(0,this.showNum),this.lastTime=new Date().getTime()},methods:{handleScroll(a){if(new Date().getTime()-this.lastTime>10){let t=a.target.scrollTop;this.offsetY=t-t%this.itemH,console.log(t,t%this.itemH),this.list=this.data.slice(Math.floor(t/this.itemH),Math.floor(t/this.itemH)+this.showNum),this.lastTime=new Date().getTime()}}}};function g(a,t,r,p,s,h){return l(),o("div",{style:e(`height:${r.viewH}px;overflow-y:scroll`),onScroll:t[0]||(t[0]=(...i)=>h.handleScroll&&h.handleScroll(...i)),class:"out"},[m("div",{style:e(`height:${s.scrollH}px`),class:"list"},[m("div",{class:"item_box",style:e(`transform:translateY(${s.offsetY}px)`)},[(l(!0),o(d,null,f(s.list,(i,n)=>(l(),o("div",{class:"item",style:e(`height: ${r.itemH}px`),key:n},u(i),5))),128))],4)],4)],36)}const v=c(H,[["render",g]]);export{v as default};
