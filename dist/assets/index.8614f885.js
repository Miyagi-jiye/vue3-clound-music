import{_ as V,r as M,a as r,o as d,c as m,b as e,u as t,d as q,e as Y,f as l,s as K,g as ue,w as b,n as R,i as U,h as O,j as z,v as D,t as g,T as de,k as ee,p as j,l as G,m as ge,F as L,q as W,x as ne,E as _e,y as pe,z as $e,A as X,B as ke,S as be,C as Ce,D as P,G as ie,H as te,I as we,J as H}from"./index.58ab209a.js";import{u as E,a as Ie,b as Se,c as xe}from"./login.d26d89a1.js";import{p as ze}from"./playCountFilter.21fdfcbf.js";import{u as De}from"./index.5e3274b1.js";import{u as oe}from"./playlist.91d5390b.js";import"./vue.73cea66e.js";const Ve={__name:"FullScreenButton",props:{iconSize:{type:String,default:()=>"20"}},setup(s){let o=M(!1);const c=()=>{document.fullscreenElement?(document.exitFullscreen(),o.value=!1):(document.documentElement.requestFullscreen(),o.value=!0)};return(a,u)=>{const v=r("icon-off-screen"),_=r("icon-full-screen");return d(),m("div",null,[e("div",{onClick:c,class:"icon-hover"},[t(o)?(d(),q(v,{key:0,theme:"outline",size:s.iconSize,title:"\u9000\u51FA\u5168\u5C4F"},null,8,["size"])):(d(),q(_,{key:1,theme:"outline",size:s.iconSize,title:"\u70B9\u51FB\u5168\u5C4F"},null,8,["size"]))])])}}},Me=V(Ve,[["__scopeId","data-v-640c80d9"]]);const Te={class:"goBack"},Pe={__name:"DirectionIcon",setup(s){const o=Y();return(c,a)=>{const u=r("icon-left"),v=r("icon-right");return d(),m("div",Te,[l(u,{theme:"outline",size:"26",strokeWidth:2,onClick:a[0]||(a[0]=_=>t(o).back())}),l(v,{theme:"outline",size:"26",strokeWidth:2,onClick:a[1]||(a[1]=_=>t(o).forward())})])}}},Le=V(Pe,[["__scopeId","data-v-c491a6dc"]]);const We=["id"],Ue={class:"login-form"},Ne=O("\u767B\u5F55"),He={__name:"Dialog",setup(s){const{get_login:o}=E(),{loginParams:c,dialogVisible:a}=K(E());let u=M(!1);const v=M(null);let _=ue({phone:[{required:!0,message:"\u8BF7\u8F93\u5165\u8D26\u53F7",trigger:"blur"},{min:11,max:11,message:"\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u624B\u673A\u53F7\u7801",trigger:"blur"}],password:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801",trigger:"blur"},{min:6,max:16,message:"\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u5BC6\u7801",trigger:"blur"}]});const y=()=>{v.value.validate(n=>{if(n)u.value=!0,o().finally(()=>u.value=!1);else return console.log("\u8868\u5355\u9A8C\u8BC1\u4E0D\u901A\u8FC7"),!1})};return(n,p)=>{const f=r("el-input"),w=r("el-form-item"),$=r("el-form"),i=r("el-button"),S=r("el-dialog");return d(),m("div",null,[l(S,{modelValue:t(a),"onUpdate:modelValue":p[2]||(p[2]=k=>U(a)?a.value=k:null),title:"Tips",width:"300px"},{header:b(({close:k,titleId:T,titleClass:x})=>[e("h4",{id:T,class:R(x)},"\u767B\u5F55",10,We)]),footer:b(()=>[l(i,{class:"loginBtn",type:"primary",onClick:y,loading:t(u)},{default:b(()=>[Ne]),_:1},8,["loading"])]),default:b(()=>[e("div",Ue,[l($,{model:t(c),rules:t(_),ref_key:"loginFormRef",ref:v},{default:b(()=>[l(w,{prop:"phone"},{default:b(()=>[l(f,{modelValue:t(c).phone,"onUpdate:modelValue":p[0]||(p[0]=k=>t(c).phone=k),"prefix-icon":"Cellphone",placeholder:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7\u7801"},null,8,["modelValue"])]),_:1}),l(w,{prop:"password"},{default:b(()=>[l(f,{modelValue:t(c).password,"onUpdate:modelValue":p[1]||(p[1]=k=>t(c).password=k),type:"password","prefix-icon":"Lock",placeholder:"\u8BF7\u8F93\u5165\u767B\u5F55\u5BC6\u7801"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])])]),_:1},8,["modelValue"])])}}},ve=V(He,[["__scopeId","data-v-5cf12b01"]]);const Z=s=>(j("data-v-c0ec0f93"),s=s(),G(),s),Oe={key:0,class:"loginDialog hidden-less-800"},Fe=Z(()=>e("a",null,"\u70B9\u51FB\u767B\u5F55",-1)),Be={key:1,class:"loginDialog hidden-less-800"},qe={class:"avatar"},Re={class:"nickname"},Ae={class:"followGroup"},Ee=Z(()=>e("p",null,"\u52A8\u6001",-1)),Ke={class:"item"},je=Z(()=>e("p",null,"\u5173\u6CE8",-1)),Ge={class:"item"},Je=Z(()=>e("p",null,"\u7C89\u4E1D",-1)),Qe=O(" \u4E2A\u4EBA\u4E2D\u5FC3 "),Xe={class:"menu-item"},Ye=O(" \u6211\u7684\u6D88\u606F "),Ze=Z(()=>e("div",{class:"split-line"},null,-1)),et=O(" \u9000\u51FA\u767B\u5F55 "),tt=["src","alt"],ot={__name:"LoginDialog",setup(s){const o=Y(),{get_logout:c}=E(),{isLogin:a,loginData:u,dialogVisible:v}=K(E()),_=(i,S,k)=>{o.push({name:i,query:{id:S,activeTab:k}})};let y=M(!1),n;const p=()=>{n&&clearTimeout(n),y.value=!0},f=()=>{n=setTimeout(()=>{y.value=!1},300)},w=()=>{n&&clearTimeout(n),y.value=!0},$=()=>{y.value=!1};return(i,S)=>{const k=r("el-avatar"),T=r("icon-user"),x=r("icon-right"),I=r("icon-mail"),F=r("icon-logout");return t(a)==!1?(d(),m("div",Oe,[e("div",{class:"avatar",onClick:S[0]||(S[0]=N=>v.value=!0)},[l(k,{size:30,src:"https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png"}),Fe]),l(ve)])):t(a)==!0?(d(),m("div",Be,[e("div",qe,[l(de,null,{default:b(()=>[z(e("div",{class:"card",onMouseenter:w,onMouseleave:$},[e("p",Re,g(t(u).profile.nickname),1),e("div",Ae,[e("div",{class:"item",onClick:S[1]||(S[1]=N=>_("userDetail",t(u).profile.userId,"dynamic"))},[e("span",null,g(t(u).profile.eventCount),1),Ee]),e("div",Ke,[e("span",null,g(t(u).profile.follows),1),je]),e("div",Ge,[e("span",null,g(t(u).profile.followeds),1),Je])]),e("div",{class:"menu-item",onClick:S[2]||(S[2]=N=>_("userDetail",t(u).profile.userId))},[l(T,{theme:"outline",size:"18"}),Qe,l(x,{theme:"outline",size:"18"})]),e("div",Xe,[l(I,{theme:"outline",size:"18"}),Ye,l(x,{theme:"outline",size:"18"})]),Ze,e("div",{class:"menu-item",onClick:S[3]||(S[3]=N=>t(c)())},[l(F,{theme:"outline",size:"18"}),et,l(x,{theme:"outline",size:"18"})])],544),[[D,t(y)==!0]])]),_:1}),e("img",{src:t(u).profile.avatarUrl+"?param=100y100",alt:"\u7528\u6237ID="+t(u).profile.userId,class:"img",onMouseenter:p,onMouseleave:f},null,40,tt)])])):ee("",!0)}}},st=V(ot,[["__scopeId","data-v-c0ec0f93"]]);const lt={class:"group-titlle"},nt=["onClick"],it={__name:"menu",setup(s){const o=Y(),c=ge();let a=M(c.path);const u=ue([{id:1,groupName:"\u5728\u7EBF\u97F3\u4E50",children:[{name:"\u63A8\u8350",icon:"icon-planet",path:"/discover"},{name:"\u97F3\u4E50\u9986",icon:"icon-music",path:"/music"},{name:"\u89C6\u9891",icon:"icon-video-one",path:"/video"},{name:"\u7535\u53F0",icon:"icon-fm",path:"/dj"}]},{id:2,groupName:"\u6211\u7684\u97F3\u4E50",children:[{name:"\u6211\u559C\u6B22",icon:"icon-like"},{name:"\u672C\u5730\u6B4C\u66F2",icon:"icon-computer"},{name:"\u4E0B\u8F7D\u6B4C\u66F2",icon:"icon-download-three"},{name:"\u6700\u8FD1\u64AD\u653E",icon:"icon-play-two"}]}]),v=_=>{a.value=_.path,console.log(_.path),_.path?o.push(_.path):_e.error("\u6682\u65E0\u8BE5\u8DEF\u5F84")};return(_,y)=>(d(),m("div",null,[(d(!0),m(L,null,W(u,n=>(d(),m("div",{class:"group",key:n.id},[e("p",lt,g(n.groupName),1),(d(!0),m(L,null,W(n.children,p=>(d(),m("div",{class:R(["group-item",t(a)==p.path?"active":""]),key:p.path,onClick:f=>v(p)},[(d(),q(ne(p.icon),{theme:"outline",size:"22",strokeWidth:2})),e("span",null,g(p.name),1)],10,nt))),128))]))),128))]))}},me=V(it,[["__scopeId","data-v-ad62ffaa"]]);const le=s=>(j("data-v-a48f5764"),s=s(),G(),s),at={class:"box"},ct=["src","alt"],rt={class:"center"},ut={class:"nickname"},dt={class:"signature"},_t=O(" \u6CE8\u9500 "),pt={class:"followGroup"},vt=le(()=>e("p",null,"\u52A8\u6001",-1)),mt=le(()=>e("p",null,"\u5173\u6CE8",-1)),ft=le(()=>e("p",null,"\u7C89\u4E1D",-1)),ht={key:1,class:"userInfo",style:{"background-color":"dimgray"}},yt={class:"box"},gt=$e('<div class="left" data-v-a48f5764><img src="https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png" alt="\u6E38\u5BA2\u5934\u50CF" data-v-a48f5764></div><div class="center" data-v-a48f5764><div class="nickname" data-v-a48f5764>\u6E38\u5BA2</div><div class="signature" data-v-a48f5764>\u66F4\u591A\u529F\u80FD\u8BF7\u767B\u5F55\u4F53\u9A8C</div></div>',2),$t=O(" \u767B\u5F55 "),kt=le(()=>e("div",{class:"followGroup"},[e("div",{class:"item"},[e("span",null,"-"),e("p",null,"\u52A8\u6001")]),e("div",{class:"item"},[e("span",null,"-"),e("p",null,"\u5173\u6CE8")]),e("div",{class:"item"},[e("span",null,"-"),e("p",null,"\u7C89\u4E1D")])],-1)),bt={__name:"UserInfo",setup(s){const{loginData:o,isLogin:c,dialogVisible:a}=K(E()),{get_logout:u}=E(),v=Y(),_=(y,n,p)=>{v.push({name:y,query:{id:n,activeTab:p}})};return(y,n)=>{const p=r("icon-male"),f=r("icon-female"),w=r("icon-vip-one"),$=r("icon-right");return t(c)==!0?(d(),m("div",{key:0,class:"userInfo",style:pe({backgroundImage:"url("+t(o).profile.backgroundUrl+"?param=400y400)"})},[e("div",at,[e("div",{class:"left",onClick:n[0]||(n[0]=i=>_("userDetail",t(o).profile.userId))},[e("img",{src:t(o).profile.avatarUrl+"?param=100y100",alt:"\u7528\u6237ID="+t(o).profile.userId},null,8,ct)]),e("div",rt,[e("div",ut,[O(g(t(o).profile.nickname)+" ",1),t(o).profile.gender==1?(d(),q(p,{key:0,theme:"outline",size:"20",fill:"#002bff",class:"icon"})):t(o).profile.gender==2?(d(),q(f,{key:1,theme:"outline",size:"20",fill:"#ff00f7",class:"icon"})):ee("",!0),z(l(w,{theme:"outline",size:"20",fill:"#34d399",class:"icon"},null,512),[[D,t(o).profile.vipType!==0]])]),e("div",dt,g(t(o).profile.signature),1)]),e("div",{class:"right",onClick:n[1]||(n[1]=i=>t(u)())},[_t,l($,{theme:"outline",size:"14"})])]),e("div",pt,[e("div",{class:"item",onClick:n[2]||(n[2]=i=>_("userDetail",t(o).profile.userId,"dynamic"))},[e("span",null,g(t(o).profile.eventCount),1),vt]),e("div",{class:"item",onClick:n[3]||(n[3]=i=>_("userDetail",t(o).profile.userId,"follow"))},[e("span",null,g(t(o).profile.follows),1),mt]),e("div",{class:"item",onClick:n[4]||(n[4]=i=>_("userDetail",t(o).profile.userId,"fans"))},[e("span",null,g(t(o).profile.followeds),1),ft])])],4)):t(c)==!1?(d(),m("div",ht,[e("div",yt,[gt,e("div",{class:"right",onClick:n[5]||(n[5]=i=>a.value=!0)},[$t,l($,{theme:"outline",size:"14"})])]),kt,l(ve)])):ee("",!0)}}},Ct=V(bt,[["__scopeId","data-v-a48f5764"]]);const wt=s=>(j("data-v-be4db7f3"),s=s(),G(),s),It={class:"header"},St=wt(()=>e("div",{class:"title"},"\u5BFC\u822A\u83DC\u5355",-1)),xt={class:"content"},zt={__name:"HamburgerIcon",props:{myData:{type:Array,default:()=>[]},size:{type:String,default:()=>"350px"},iconSize:{type:String,default:()=>"28"}},setup(s){let o=M(!1);return(c,a)=>{const u=r("icon-hamburger-button"),v=r("icon-close"),_=r("el-scrollbar"),y=r("el-drawer");return d(),m("div",null,[l(u,{class:"hamburgerIcon",theme:"outline",size:s.iconSize,strokeWidth:2,onClick:a[0]||(a[0]=n=>U(o)?o.value=!0:o=!0)},null,8,["size"]),l(y,{modelValue:t(o),"onUpdate:modelValue":a[2]||(a[2]=n=>U(o)?o.value=n:o=n),direction:"rtl",size:s.size,"with-header":!1},{default:b(()=>[l(_,null,{default:b(()=>[X(c.$slots,"header",{},()=>[e("div",It,[St,l(v,{theme:"outline",size:"20",title:"\u5173\u95ED",class:"close",onClick:a[1]||(a[1]=n=>U(o)?o.value=!1:o=!1)})])],!0),X(c.$slots,"default",{},()=>[e("div",xt,[l(Ct),l(me)])],!0)]),_:3})]),_:3},8,["modelValue","size"])])}}},Dt=V(zt,[["__scopeId","data-v-be4db7f3"]]),ce=ke("search",{state:()=>({showSearchView:!1,searchKeyword:"",suggestData:{},searchHot:[],searchData:null}),getters:{showHot:s=>s.searchKeyword=="",showSuggest:s=>{if(JSON.stringify(s.suggestData)==="{}")return!0}},actions:{async get_searchSuggest(){const s=await Ie(this.searchKeyword);this.suggestData=s.data.result,console.log("\u83B7\u53D6\u641C\u7D22\u8BE6\u60C5",s.data)},async get_searchHotDetail(){const s=await Se();this.searchHot=s.data.data,console.log("\u83B7\u53D6\u641C\u7D22\u5EFA\u8BAE",s.data)},async get_songDetail(s){const o=await xe(s);return console.log("\u83B7\u53D6\u6B4C\u66F2\u8BE6\u60C5",o.data),o.data.songs[0]}}});function Vt(s,o,c){let a=null;return function(){a&&clearTimeout(a),c==!0&&(s.apply(this,arguments),c=!1),a=setTimeout(()=>{s.apply(this,arguments)},o)}}const Mt=s=>(j("data-v-da78d65d"),s=s(),G(),s),Tt={style:{height:"400px"}},Pt=Mt(()=>e("div",{class:"searchTitle"},"\u70ED\u95E8\u641C\u7D22",-1)),Lt=["onClick"],Wt={class:"hover"},Ut={style:{"margin-right":"4px"}},Nt={style:{color:"#fdb6b6"}},Ht={key:0},Ot={class:"searchTitle"},Ft=["onClick"],Bt={style:{color:"#34d399"},class:"truncate"},qt={style:{"margin-left":"8px"},class:"truncate"},Rt=["onClick"],At={style:{color:"#34d399"},class:"truncate"},Et={style:{"margin-left":"8px"},class:"truncate"},Kt=["onClick"],jt={style:{color:"#34d399","margin-left":"8px"},class:"truncate"},Gt=["onClick"],Jt={style:{color:"#34d399","margin-left":"8px"},class:"truncate"},Qt={__name:"SearchPopover",setup(s){const{Playlist:o}=De(),c=Y(),{showSearchView:a,searchKeyword:u,showHot:v,showSuggest:_,searchHot:y,suggestData:n}=K(ce()),{get_searchSuggest:p,get_searchHotDetail:f,get_songDetail:w}=ce();f();const $=(x,I)=>{a.value=!1,c.push({name:x,params:{id:I},query:{id:I}})},i=async x=>{const I=await w(x);o.change_playMusic(I),o.push_toPlayList(I)},S=async x=>{u.value=x,await p(),a.value=!0},k=x=>{switch(x){case"songs":return"\u5355\u66F2";case"albums":return"\u4E13\u8F91";case"artists":return"\u6B4C\u624B";case"playlists":return"\u6B4C\u5355";default:return x}},T=Vt(()=>{p()},1e3,!1);return(x,I)=>{const F=r("el-input"),N=r("el-avatar"),J=r("el-scrollbar"),Q=r("el-popover");return d(),m("div",null,[l(Q,{visible:t(a),"onUpdate:visible":I[4]||(I[4]=C=>U(a)?a.value=C:null),placement:"bottom","popper-style":"max-width:auto;padding:0;",width:"300px"},{reference:b(()=>[l(F,{modelValue:t(u),"onUpdate:modelValue":I[0]||(I[0]=C=>U(u)?u.value=C:null),placeholder:"\u641C\u7D22\u97F3\u4E50\u3001MV\u3001\u6B4C\u5355","prefix-icon":t(be),clearable:!0,onFocus:I[1]||(I[1]=C=>a.value=!0),onFocusout:I[2]||(I[2]=C=>a.value=!1),onInput:t(T),onKeyup:I[3]||(I[3]=Ce(C=>$("searchDetail",t(u)),["enter","native"]))},null,8,["modelValue","prefix-icon","onInput"])]),default:b(()=>[e("div",Tt,[l(J,null,{default:b(()=>[z(e("div",null,[Pt,e("div",null,[(d(!0),m(L,null,W(t(y),(C,h)=>(d(),m("div",{key:C.searchWord,class:"hotItem",onClick:B=>S(C.searchWord)},[e("div",Wt,[e("span",Ut,g(h+1)+".",1),e("span",null,g(C.searchWord),1)]),e("div",Nt,g(t(ze)(C.score)),1)],8,Lt))),128))])],512),[[D,t(v)==!0]]),z(e("div",null,[t(n)?(d(),m("div",Ht,[(d(!0),m(L,null,W(t(n).order,C=>(d(),m("div",null,[e("div",Ot,g(k(C)),1),(d(!0),m(L,null,W(t(n).songs,h=>{var B;return z((d(),m("div",{key:h.id,class:"searchItem",onClick:ae=>i(h.id)},[e("span",Bt,g(h.name),1),e("span",qt," - "+g((B=h.artists.at(0))==null?void 0:B.name),1)],8,Ft)),[[D,C==="songs"]])}),128)),(d(!0),m(L,null,W(t(n).albums,h=>z((d(),m("div",{key:h.id,class:"searchItem",onClick:B=>$("albumDetail",h.id)},[e("span",At,g(h.name),1),e("span",Et," - "+g(h.artist.name),1)],8,Rt)),[[D,C==="albums"]])),128)),(d(!0),m(L,null,W(t(n).artists,h=>z((d(),m("div",{key:h.id,class:"searchItem",onClick:B=>$("artistDetail",h.id)},[l(N,{size:"small",src:h.img1v1Url,class:"truncate"},null,8,["src"]),e("span",jt,g(h.name),1)],8,Kt)),[[D,C==="artists"]])),128)),(d(!0),m(L,null,W(t(n).playlists,h=>z((d(),m("div",{key:h.id,class:"searchItem",onClick:B=>$("playlist",h.id)},[l(N,{size:"small",src:h.coverImgUrl,class:"truncate"},null,8,["src"]),e("div",Jt,g(h.name),1)],8,Gt)),[[D,C==="playlists"]])),128))]))),256))])):ee("",!0)],512),[[D,t(v)==!1]])]),_:1})])]),_:1},8,["visible"])])}}},Xt=V(Qt,[["__scopeId","data-v-da78d65d"]]);const Yt={style:{width:"100%"}},Zt={class:"header"},eo={class:"left"},to={class:"right"},oo={__name:"header",setup(s){return(o,c)=>(d(),m("div",Yt,[e("div",Zt,[e("div",eo,[l(Le),l(Xt)]),e("div",to,[l(st),l(Me,{iconSize:"20"}),l(Dt,{iconSize:"28",class:"hidden-more-800"})])])]))}},so=V(oo,[["__scopeId","data-v-937c95c3"]]);const lo={class:"playIcon"},no={__name:"PlayIcon",setup(s){let o=P("audioStatus");const c=P("playClick"),a=P("pauseClick");return(u,v)=>{const _=r("icon-play"),y=r("icon-pause-one");return d(),m("div",lo,[z(l(_,{fill:"#34d399",theme:"filled",size:"38",strokeWidth:2,title:"\u70B9\u51FB\u64AD\u653E",onClick:v[0]||(v[0]=n=>t(c)())},null,512),[[D,t(o)===!1]]),z(l(y,{fill:"#34d399",theme:"filled",size:"38",strokeWidth:2,title:"\u70B9\u51FB\u6682\u505C",onClick:v[1]||(v[1]=n=>t(a)())},null,512),[[D,t(o)===!0]])])}}},io=V(no,[["__scopeId","data-v-14239679"]]);const ao={class:"playModeIcon"},co={__name:"PlayModeIcon",setup(s){let o=P("playMode");function c(a){o.value=a}return(a,u)=>{const v=r("icon-play-once"),_=r("icon-loop-once"),y=r("icon-play-cycle");return d(),m("div",ao,[z(l(v,{theme:"outline",size:"22",strokeWidth:2,title:"\u64AD\u5B8C\u6682\u505C",onClick:u[0]||(u[0]=n=>c("loopOnce"))},null,512),[[D,t(o)==="playOnce"]]),z(l(_,{theme:"outline",size:"22",strokeWidth:2,title:"\u5355\u66F2\u5FAA\u73AF",onClick:u[1]||(u[1]=n=>c("playCycle"))},null,512),[[D,t(o)==="loopOnce"]]),z(l(y,{theme:"outline",size:"22",strokeWidth:2,title:"\u6B4C\u5355\u5FAA\u73AF",onClick:u[2]||(u[2]=n=>c("playOnce"))},null,512),[[D,t(o)==="playCycle"]])])}}},ro=V(co,[["__scopeId","data-v-f72e9609"]]);const uo={class:"volumeIcon"},_o={class:"hidden"},po={class:"volume"},vo={__name:"VolumeIcon",setup(s){let o=P("volume");const c=P("volumeSetting");function a(){o.value==0?(o.value=50,c()):(o.value=0,c())}return ie(()=>{const u=document.querySelector(".volumeIcon"),v=document.querySelector(".hidden");let _=M(null);v.onmouseenter=()=>{clearTimeout(_)},v.onmouseleave=()=>{v.style.display="none"},u.onmouseenter=()=>{clearTimeout(_),v.style.display="block"},u.onmouseleave=()=>{_=setTimeout(()=>{v.style.display="none"},500)}}),(u,v)=>{const _=r("el-slider");return d(),m("div",null,[e("div",uo,[(d(),q(ne(t(o)===0?"icon-volume-mute":t(o)==100?"icon-volume-notice":"icon-volume-small"),{theme:"outline",size:"22",strokeWidth:2,title:"\u97F3\u91CF",onClick:a}))]),e("div",_o,[e("div",po,[l(_,{modelValue:t(o),"onUpdate:modelValue":v[0]||(v[0]=y=>U(o)?o.value=y:o=y),vertical:"",height:"100px","show-tooltip":!1,onInput:v[1]||(v[1]=y=>t(c)())},null,8,["modelValue"]),e("p",null,g(t(o)),1)])])])}}},mo=V(vo,[["__scopeId","data-v-5babe41f"]]);function se(s){if(s==0||window.isNaN(s))return"00:00";let o=Math.floor(s%60),c=Math.floor(s/60);return`${c<10?"0"+c:c}:${o<10?"0"+o:o}`}const fo={class:"lyricPlayer"},ho={class:"cover"},yo={class:"cover-container"},go=["src","alt"],$o={class:"controls"},ko={class:"top-part"},bo={class:"track-info"},Co={class:"title"},wo={class:"subtitle"},Io=O(" - "),So={class:"like-icon"},xo={class:"progress-bar"},zo={class:"time"},Do={class:"time"},Vo={class:"media-controls"},Mo={__name:"LyricPlayer",props:{songs:{type:Object,default:()=>({id:1234,name:"\u6B4C\u66F2\u540D",al:{id:1234,name:"\u4E13\u8F91",picUrl:"\u56FE\u7247\u94FE\u63A5",pic:"\u56FE\u7247id"},ar:[{id:1234,name:"\u6B4C\u624B"}]})},currentTime:{type:Number,default:()=>0},duration:{type:Number,default:()=>0}},setup(s){const o=s;let c=P("audioStatus"),a=P("playMode"),u=P("playSpeed");const v=P("playClick"),_=P("pauseClick"),y=P("preClick"),n=P("nextClick"),p=P("playSpeedClick"),f=$=>{$=="pause"&&_(),$=="play"&&v(),$=="pre"&&y(),$=="next"&&n(),$=="playOnce"&&(a.value=$,console.log("\u64AD\u5B8C\u6682\u505C")),$=="loopOnce"&&(a.value=$,console.log("\u5355\u66F2\u5FAA\u73AF")),$=="playCycle"&&(a.value=$,console.log("\u6B4C\u5355\u5FAA\u73AF")),$=="speed"&&p()};let w=M(0);return te(()=>o.currentTime,()=>{isNaN(o.duration)!==!0&&(w.value=parseInt(o.currentTime/o.duration*100))}),($,i)=>{const S=r("router-link"),k=r("icon-like"),T=r("el-progress"),x=r("icon-go-start"),I=r("icon-play-one"),F=r("icon-pause"),N=r("icon-go-end"),J=r("icon-play-once"),Q=r("icon-loop-once"),C=r("icon-play-cycle");return d(),m("div",fo,[e("div",ho,[e("div",yo,[e("img",{src:s.songs.al.picUrl,alt:"\u6B4C\u66F2ID="+s.songs.al.id},null,8,go),e("div",{class:"shadow",style:pe({backgroundImage:"url("+s.songs.al.picUrl+")"})},null,4)])]),e("div",$o,[e("div",ko,[e("div",bo,[e("div",Co,g(s.songs.name),1),e("div",wo,[(d(!0),m(L,null,W(s.songs.ar,h=>(d(),q(S,{key:h.id,to:{name:"artistDetail",params:{id:h.id}},class:"ar"},{default:b(()=>[O(g(h.name),1)]),_:2},1032,["to"]))),128)),Io,l(S,{to:{name:"albumDetail",params:{id:s.songs.al.id}},class:"al"},{default:b(()=>[O(g(s.songs.al.name),1)]),_:1},8,["to"])])]),e("div",So,[l(k,{theme:"outline",size:"20"})])]),e("div",xo,[e("span",zo,g(t(se)(s.currentTime)),1),l(T,{percentage:t(w),"text-inside":!0,"show-text":!1,"stroke-width":6,class:"slider"},null,8,["percentage"]),e("span",Do,g(t(se)(s.duration)),1)]),e("div",Vo,[e("div",{title:"\u64AD\u653E\u901F\u5EA6",onClick:i[0]||(i[0]=h=>f("speed")),class:R(["icon-hover play-speed",{activeMode:t(u)!==1}])},g(t(u))+"x",3),l(x,{theme:"outline",size:"34",strokeWidth:5,title:"\u4E0A\u4E00\u9996",onClick:i[1]||(i[1]=h=>f("pre")),class:"icon-hover"}),z(l(I,{theme:"filled",size:"44",onClick:i[2]||(i[2]=h=>f("play")),strokeWidth:5,title:"\u70B9\u51FB\u64AD\u653E",class:"icon-hover"},null,512),[[D,t(c)===!1]]),z(l(F,{theme:"filled",size:"44",strokeWidth:5,onClick:i[3]||(i[3]=h=>f("pause")),title:"\u70B9\u51FB\u6682\u505C",class:"icon-hover"},null,512),[[D,t(c)===!0]]),l(N,{theme:"outline",size:"34",strokeWidth:5,title:"\u4E0B\u4E00\u9996",onClick:i[4]||(i[4]=h=>f("next")),class:"icon-hover"}),z(l(J,{theme:"outline",size:"18",strokeWidth:5,title:"\u64AD\u5B8C\u6682\u505C",class:"icon-hover",onClick:i[5]||(i[5]=h=>f("playCycle"))},null,512),[[D,t(a)=="playOnce"]]),z(l(Q,{theme:"outline",size:"18",strokeWidth:5,title:"\u5355\u66F2\u5FAA\u73AF",class:R(["icon-hover",{activeMode:t(a)=="loopOnce"}]),onClick:i[6]||(i[6]=h=>f("playOnce"))},null,8,["class"]),[[D,t(a)=="loopOnce"]]),z(l(C,{theme:"outline",size:"18",strokeWidth:5,title:"\u6B4C\u5355\u5FAA\u73AF",class:R(["icon-hover",{activeMode:t(a)=="playCycle"}]),onClick:i[7]||(i[7]=h=>f("loopOnce"))},null,8,["class"]),[[D,t(a)=="playCycle"]])])])])}}},To=V(Mo,[["__scopeId","data-v-d9638165"]]);const Po=s=>(j("data-v-54024832"),s=s(),G(),s),Lo=["src"],Wo={class:"lyricDialog"},Uo={class:"left-side"},No={class:"right-side"},Ho={key:0,class:"lyric-container"},Oo={key:1,class:"lyric-container"},Fo=Po(()=>e("p",{class:"lyric-item lyricActive"},"\u6682\u65E0\u6B4C\u8BCD",-1)),Bo=[Fo],qo={__name:"LyricDialog",props:{currentPlayMusic:{type:Object,default:()=>({id:1,name:"\u6B4C\u66F2\u540D\u52A0\u5907\u6CE8()",ar:[{id:123456,name:"\u6B4C\u624B"}],al:{id:123456,name:"\u6B4C\u66F2",picUrl:"\u56FE\u7247\u94FE\u63A5"},dt:0})},size:{type:String,default:()=>"100%"},lyric:{type:Array,default:()=>[{time:0,lyric:"\u4F5C\u8BCD : ",next:9999}]},currentTime:{type:Number,default:()=>0},duration:{type:Number,default:()=>0}},setup(s){const o=s;let c=M(!1),a=M(0),u=M(!0),v=M(!0),_=1;const y=()=>{_++,_==1&&(u.value=!0,v.value=!0),_==2&&(u.value=!1,v.value=!0),_==3&&(u.value=!0,v.value=!1,_=0),console.log(_)};return ie(()=>{te(()=>o.currentTime,(n,p)=>{for(let f=0;f<o.lyric.length;f++)o.currentTime>=o.lyric[f].time&&o.currentTime<=o.lyric[f].next&&(a.value=f)}),te(()=>a.value,(n,p)=>{const f=document.querySelector(".lyricActive"),w=document.querySelector(".right-side");f&&w&&(w.scrollTop=f.offsetHeight*a.value-w.clientHeight/2)})}),(n,p)=>{const f=r("icon-down"),w=r("icon-app-switch"),$=r("el-drawer");return d(),m("div",null,[e("img",{src:s.currentPlayMusic.al.picUrl+"?param=50y50",fit:"cover",onClick:p[0]||(p[0]=i=>U(c)?c.value=!0:c=!0),class:"img"},null,8,Lo),l($,{modelValue:t(c),"onUpdate:modelValue":p[2]||(p[2]=i=>U(c)?c.value=i:c=i),direction:"btt",size:s.size,"with-header":!1},{default:b(()=>[X(n.$slots,"default",{},()=>[e("div",Wo,[z(e("div",Uo,[l(To,{songs:s.currentPlayMusic,currentTime:s.currentTime,duration:s.duration},null,8,["songs","currentTime","duration"])],512),[[D,t(u)==!0]]),z(e("div",No,[s.lyric.length!==0?(d(),m("div",Ho,[(d(!0),m(L,null,W(s.lyric,i=>(d(),m("p",{class:R(["lyric-item",{lyricActive:s.currentTime>=i.time&&s.currentTime<=i.next}])},g(i.lyric),3))),256))])):(d(),m("div",Oo,Bo))],512),[[D,t(v)==!0]]),e("div",{class:"close",onClick:p[1]||(p[1]=i=>U(c)?c.value=!1:c=!1)},[l(f,{theme:"filled",size:"40",class:"downIcon"})]),e("div",{class:"switch",onClick:y},[l(w,{theme:"filled",size:"25",class:"switchIcon"})])])],!0)]),_:3},8,["modelValue","size"])])}}},Ro=V(qo,[["__scopeId","data-v-54024832"]]);const fe=s=>(j("data-v-d531811b"),s=s(),G(),s),Ao={class:"title"},Eo=fe(()=>e("div",{class:"large-title"},"\u64AD\u653E\u5217\u8868",-1)),Ko={class:"small-title"},jo=fe(()=>e("span",null,"\u6E05\u7A7A",-1)),Go=["onDblclick"],Jo={class:"img"},Qo={alt:"\u52A0\u8F7D\u4E2D..."},Xo={class:"detail"},Yo={class:"author"},Zo={class:"delete"},es=["onClick"],ts={class:"duration"},os={__name:"MusicListIcon",props:{size:{type:Number,default:()=>300},iconSize:{type:String,default:()=>"38"}},setup(s){const{currentPlayMusic:o,toPlayList:c}=K(oe()),{delete_toPlayList:a,change_playMusic:u,clear_toPlayList:v}=oe();let _=M(!1);function y(n){let p=Math.floor(n/1e3%60),f=Math.floor(n/1e3/60);return`${f<10?"0"+f:f}:${p<10?"0"+p:p}`}return(n,p)=>{const f=r("icon-music-list"),w=r("el-badge"),$=r("icon-delete"),i=r("el-drawer"),S=we("lazy");return d(),m("div",null,[l(w,{value:t(c).length,hidden:t(c).length==0},{default:b(()=>[l(f,{class:"musicList",theme:"outline",size:s.iconSize,strokeWidth:3,title:"\u6B4C\u66F2\u5217\u8868",onClick:p[0]||(p[0]=k=>U(_)?_.value=!0:_=!0)},null,8,["size"])]),_:1},8,["value","hidden"]),l(i,{modelValue:t(_),"onUpdate:modelValue":p[2]||(p[2]=k=>U(_)?_.value=k:_=k),direction:"rtl",size:s.size,"with-header":!1},{default:b(()=>[X(n.$slots,"header",{},()=>[e("div",Ao,[Eo,e("div",Ko,[e("span",null,"\u5171"+g(t(c).length)+"\u9996\u6B4C\u66F2",1),e("div",{class:"icon",onClick:p[1]||(p[1]=k=>t(v)())},[l($,{theme:"outline",size:"14",strokeWidth:4,title:"\u6E05\u7A7A"}),jo])])])],!0),X(n.$slots,"default",{},()=>[(d(!0),m(L,null,W(t(c),k=>(d(),m("div",{onDblclick:T=>t(u)(k),class:R(["card",t(o).id==k.id?"active":""]),key:k.id},[e("div",Jo,[z(e("img",Qo,null,512),[[S,k.al.picUrl+"?param=40y40"]])]),e("div",Xo,[e("span",null,g(k.name),1),e("div",Yo,[(d(!0),m(L,null,W(k.ar,T=>(d(),m("span",{key:T.id},g(T.name),1))),128))])]),e("div",Zo,[e("a",{class:"deleteIcon",onClick:T=>t(a)(k.id)},"\u79FB\u9664",8,es),e("div",ts,g(y(k.dt)),1)])],42,Go))),128))],!0)]),_:3},8,["modelValue","size"])])}}},re=V(os,[["__scopeId","data-v-d531811b"]]);const ss={class:"palyer"},ls=["src"],ns={class:"group"},is={class:"detail"},as={class:"info"},cs={class:"top"},rs={class:"bottom"},us={class:"button"},ds={class:"list hidden-less-1000"},_s={__name:"footer",setup(s){const{currentPlayMusic:o,toPlayList:c,lyric:a,audioStatus:u,audioCurrentTime:v,audioDuration:_,progressStatus:y,playMode:n,playSpeed:p,volume:f}=K(oe()),{pre_music:w,next_music:$}=oe(),i=M(""),S=M("");function k(){i.value.volume=f.value/100}function T(C){C?i.value.playbackRate=C:(p.value+=.5,p.value>2&&(p.value=.5),i.value.playbackRate=p.value)}function x(){u.value=!0,setTimeout(()=>{i.value.play().then(()=>{console.log("\u64AD\u653E\u6210\u529F"),u.value=!0,p.value!==1&&(i.value.playbackRate=p.value)}).catch(C=>{console.log("\u64AD\u653E\u51FA\u9519",C),u.value=!1,i.value.currentTime=0,_e({showClose:!0,message:"\u6CA1\u6709\u64AD\u653E\u6743\u9650",type:"error"})})},500)}function I(){u.value=!1,i.value.pause()}function F(){w()}function N(){$()}function J(){i.value.currentTime=Number(y.value*i.value.duration/100)}function Q(){i.value.autoplay=!1,i.value.controls=!1,i.value.volume=.5,i.value.playbackRate=1}return H("audioStatus",u),H("playMode",n),H("playSpeed",p),H("volume",f),H("playClick",x),H("pauseClick",I),H("preClick",F),H("nextClick",N),H("playSpeedClick",T),H("volumeSetting",k),ie(()=>{Q(),i.value.ontimeupdate=function(){y.value=Number(i.value.currentTime/i.value.duration*100),v.value=parseInt(i.value.currentTime),_.value=i.value.duration},i.value.onended=function(){u.value=!1,n.value=="playOnce"&&(I(),console.log("\u64AD\u653E\u7ED3\u675F,\u64AD\u5B8C\u6682\u505C")),c.value.length!==0&&n.value=="loopOnce"&&(x(),console.log("\u64AD\u653E\u7ED3\u675F,\u5355\u66F2\u5FAA\u73AF")),c.value.length-1!==0&&n.value=="playCycle"&&($(),console.log("\u64AD\u653E\u7ED3\u675F,\u6B4C\u5355\u5FAA\u73AF"))}}),te(()=>o.value.id,()=>{console.log("\u6B4C\u66F2id\u53D1\u751F\u53D8\u5316",o.value.id),x()}),(C,h)=>{const B=r("el-slider"),ae=r("icon-go-start"),he=r("icon-go-end"),ye=r("icon-text-message");return d(),m("div",ss,[e("audio",{type:"file",ref_key:"audio",ref:i,src:`https://music.163.com/song/media/outer/url?id=${t(o).id}.mp3`,preload:"metadata"},"\u60A8\u7684\u6D4F\u89C8\u5668\u4E0D\u652F\u6301audio\u6807\u7B7E,\u60A8\u8FD8\u662F\u6362\u4E2A\u6D4F\u89C8\u5668\u5427",8,ls),l(B,{ref_key:"progressBar",ref:S,modelValue:t(y),"onUpdate:modelValue":h[0]||(h[0]=A=>U(y)?y.value=A:null),onInput:J,"show-tooltip":!1},null,8,["modelValue"]),e("div",ns,[e("div",is,[l(Ro,{lyric:t(a),currentTime:i.value.currentTime,duration:i.value.duration,currentPlayMusic:t(o)},null,8,["lyric","currentTime","duration","currentPlayMusic"]),e("div",as,[e("p",cs,g(t(o).name),1),e("div",rs,[(d(!0),m(L,null,W(t(o).ar,A=>(d(),m("a",{key:A.name},g(A.name),1))),128))])])]),e("div",us,[l(ro,{class:"hidden-less-1000"}),l(ae,{class:"item hidden-less-1000",theme:"outline",size:"28",strokeWidth:4,title:"\u4E0A\u4E00\u9996",onClick:h[1]||(h[1]=A=>F())}),l(io),l(he,{class:"item hidden-less-1000",theme:"outline",size:"28",strokeWidth:4,title:"\u4E0B\u4E00\u9996",onClick:h[2]||(h[2]=A=>N())}),l(mo,{class:"hidden-less-1000"}),l(re,{class:"hidden-more-1000"})]),e("div",ds,[e("p",null,g(t(se)(t(v)))+" / "+g(t(se)(t(_))),1),l(ye,{theme:"outline",size:"22",strokeWidth:3,title:"\u6B4C\u66F2\u8BC4\u8BBA"}),l(re,{iconSize:"24"})])])])}}},ps=V(_s,[["__scopeId","data-v-49e03c24"]]);const vs={class:"common-layout"},ms={__name:"index",setup(s){return(o,c)=>{const a=r("el-scrollbar"),u=r("el-aside"),v=r("el-header"),_=r("router-view"),y=r("el-main"),n=r("el-backtop"),p=r("el-footer"),f=r("el-container");return d(),m("div",vs,[l(f,null,{default:b(()=>[l(u,{width:"240px"},{default:b(()=>[l(a,null,{default:b(()=>[l(me)]),_:1})]),_:1}),l(f,null,{default:b(()=>[l(v,null,{default:b(()=>[l(so)]),_:1}),l(y,{id:"myMain"},{default:b(()=>[l(_,null,{default:b(({Component:w})=>[l(de,{name:"slide-fade"},{default:b(()=>[(d(),q(ne(w)))]),_:2},1024)]),_:1})]),_:1}),l(n,{target:"#myMain",bottom:90,right:20}),l(p,null,{default:b(()=>[l(ps)]),_:1})]),_:1})]),_:1})])}}},bs=V(ms,[["__scopeId","data-v-1ebdf9c2"]]);export{bs as default};
