import{r as w,a as u,o as r,c as m,b as t,u as a,d as N,e as G,f as o,g as he,h as te,w as y,n as Q,i as L,j as O,k as fe,E as R,p as q,l as K,m as ne,F as T,q as M,t as g,s as j,v as A,x as ye,y as ge,z as ke,A as $e,B as ae,C as we,S as be,D as Se,G as x,H as V,I as Ce,J as oe,K as J,L as ze,M as Ie,N as ee,T as xe,O as De}from"./index.00c0fa83.js";import{_ as W}from"./_plugin-vue_export-helper.cdc0426e.js";import{p as Ve}from"./playCountFilter.21fdfcbf.js";const Pe={__name:"FullScreenButton",props:{iconSize:{type:String,default:()=>"20"}},setup(e){let l=w(!1);const s=()=>{document.fullscreenElement?(document.exitFullscreen(),l.value=!1):(document.documentElement.requestFullscreen(),l.value=!0)};return(d,p)=>{const v=u("icon-off-screen"),_=u("icon-full-screen");return r(),m("div",null,[t("div",{onClick:s,class:"icon-hover"},[a(l)?(r(),N(v,{key:0,theme:"outline",size:e.iconSize,title:"\u9000\u51FA\u5168\u5C4F"},null,8,["size"])):(r(),N(_,{key:1,theme:"outline",size:e.iconSize,title:"\u70B9\u51FB\u5168\u5C4F"},null,8,["size"]))])])}}},Te=W(Pe,[["__scopeId","data-v-640c80d9"]]);const Me={class:"goBack"},Le={__name:"DirectionIcon",setup(e){const l=G();return(s,d)=>{const p=u("icon-left"),v=u("icon-right");return r(),m("div",Me,[o(p,{theme:"outline",size:"26",strokeWidth:2,onClick:d[0]||(d[0]=_=>a(l).back())}),o(v,{theme:"outline",size:"26",strokeWidth:2,onClick:d[1]||(d[1]=_=>a(l).forward())})])}}},We=W(Le,[["__scopeId","data-v-c491a6dc"]]);const Ne=e=>(q("data-v-51391372"),e=e(),K(),e),Ue=Ne(()=>t("a",null,"\u70B9\u51FB\u767B\u5F55",-1)),He=["id"],Fe={class:"login-form"},Be=O("\u767B\u5F55"),Ee={__name:"LoginDialog",setup(e){he(),G();let l=w(!1),s=te({username:"",password:""}),d=w(!1);const p=w(null);let v=te({username:[{required:!0,message:"\u8BF7\u8F93\u5165\u8D26\u53F7",trigger:"blur"},{min:11,max:11,message:"\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u624B\u673A\u53F7\u7801",trigger:"blur"}],password:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801",trigger:"blur"},{min:6,max:16,message:"\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u5BC6\u7801",trigger:"blur"}]});const _=()=>{l.value=!0},n=()=>{p.value.validate(i=>{if(i)d.value=!0,fe(s.username,s.password).then(c=>{console.log("\u83B7\u53D6\u767B\u5F55\u4FE1\u606F",c.data),c.data.code==502?R({showClose:!0,grouping:!0,message:c.data.msg?c.data.msg:"\u767B\u5F55\u5931\u8D25",type:"error"}):(R({showClose:!0,grouping:!0,message:c.data.msg?c.data.msg:"\u767B\u5F55\u6210\u529F",type:"success"}),c.data.token&&localStorage.setItem("token",JSON.stringify(c.data.token)),c.data.cookie&&localStorage.setItem("cookie",JSON.stringify(c.data.cookie)))}).catch(c=>{console.log(c)}).finally(()=>{d.value=!1});else return console.log("\u8868\u5355\u9A8C\u8BC1\u4E0D\u901A\u8FC7"),!1})};return(i,c)=>{const $=u("el-avatar"),k=u("el-input"),S=u("el-form-item"),h=u("el-form"),D=u("el-button"),U=u("el-dialog");return r(),m("div",null,[t("div",{class:"avatar hidden-less-600",onClick:_},[o($,{size:32,src:"https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png"}),Ue]),o(U,{modelValue:a(l),"onUpdate:modelValue":c[2]||(c[2]=P=>L(l)?l.value=P:l=P),title:"Tips",width:"300px"},{header:y(({close:P,titleId:I,titleClass:f})=>[t("h4",{id:I,class:Q(f)},"\u767B\u5F55",10,He)]),footer:y(()=>[o(D,{class:"loginBtn",type:"primary",onClick:n,loading:a(d)},{default:y(()=>[Be]),_:1},8,["loading"])]),default:y(()=>[t("div",Fe,[o(h,{model:a(s),rules:a(v),ref_key:"loginFormRef",ref:p},{default:y(()=>[o(S,{prop:"username"},{default:y(()=>[o(k,{modelValue:a(s).username,"onUpdate:modelValue":c[0]||(c[0]=P=>a(s).username=P),"prefix-icon":"Cellphone",placeholder:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7\u7801"},null,8,["modelValue"])]),_:1}),o(S,{prop:"password"},{default:y(()=>[o(k,{modelValue:a(s).password,"onUpdate:modelValue":c[1]||(c[1]=P=>a(s).password=P),type:"password","prefix-icon":"Lock",placeholder:"\u8BF7\u8F93\u5165\u767B\u5F55\u5BC6\u7801"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])])]),_:1},8,["modelValue"])])}}},Ae=W(Ee,[["__scopeId","data-v-51391372"]]);const qe={class:"group-titlle"},Ke=["onClick"],Oe={__name:"menu",setup(e){const l=G(),s=ne();let d=w(s.path);const p=te([{id:1,groupName:"\u5728\u7EBF\u97F3\u4E50",children:[{name:"\u63A8\u8350",icon:"icon-planet",path:"/discover"},{name:"\u97F3\u4E50\u9986",icon:"icon-music",path:"/music"},{name:"\u89C6\u9891",icon:"icon-video-one",path:"/video"},{name:"\u7535\u53F0",icon:"icon-fm",path:"/dj"}]},{id:2,groupName:"\u6211\u7684\u97F3\u4E50",children:[{name:"\u6211\u559C\u6B22",icon:"icon-like"},{name:"\u672C\u5730\u6B4C\u66F2",icon:"icon-computer"},{name:"\u4E0B\u8F7D\u6B4C\u66F2",icon:"icon-download-three"},{name:"\u6700\u8FD1\u64AD\u653E",icon:"icon-play-two"}]}]),v=_=>{d.value=_.path,console.log(_.path),_.path?l.push(_.path):R.error("\u6682\u65E0\u8BE5\u8DEF\u5F84")};return(_,n)=>(r(),m("div",null,[(r(!0),m(T,null,M(p,i=>(r(),m("div",{class:"group",key:i.id},[t("p",qe,g(i.groupName),1),(r(!0),m(T,null,M(i.children,c=>(r(),m("div",{class:Q(["group-item",a(d)==c.path?"active":""]),key:c.path,onClick:$=>v(c)},[(r(),N(j(c.icon),{theme:"outline",size:"22",strokeWidth:2})),t("span",null,g(c.name),1)],10,Ke))),128))]))),128))]))}},ie=W(Oe,[["__scopeId","data-v-ad62ffaa"]]);const Re=e=>(q("data-v-295b632a"),e=e(),K(),e),je={class:"header"},Je=Re(()=>t("div",{class:"title"},"\u5BFC\u822A\u83DC\u5355",-1)),Ge={class:"content"},Qe={__name:"HamburgerIcon",props:{myData:{type:Array,default:()=>[]},size:{type:String,default:()=>"50%"},iconSize:{type:String,default:()=>"28"}},setup(e){let l=w(!1);return(s,d)=>{const p=u("icon-hamburger-button"),v=u("icon-close"),_=u("el-scrollbar"),n=u("el-drawer");return r(),m("div",null,[o(p,{class:"hamburgerIcon",theme:"outline",size:e.iconSize,strokeWidth:2,onClick:d[0]||(d[0]=i=>L(l)?l.value=!0:l=!0)},null,8,["size"]),o(n,{modelValue:a(l),"onUpdate:modelValue":d[2]||(d[2]=i=>L(l)?l.value=i:l=i),direction:"rtl",size:e.size,"with-header":!1},{default:y(()=>[o(_,null,{default:y(()=>[A(s.$slots,"header",{},()=>[t("div",je,[Je,o(v,{theme:"outline",size:"20",title:"\u5173\u95ED",class:"close",onClick:d[1]||(d[1]=i=>L(l)?l.value=!1:l=!1)})])],!0),A(s.$slots,"default",{},()=>[t("div",Ge,[o(ie)])],!0)]),_:3})]),_:3},8,["modelValue","size"])])}}},Xe=W(Qe,[["__scopeId","data-v-295b632a"]]),le=ye("search",{state:()=>({showSearchView:!1,searchKeyword:"",suggestData:{},searchHot:[],searchData:null}),getters:{showHot:e=>e.searchKeyword=="",showSuggest:e=>{if(JSON.stringify(e.suggestData)==="{}")return!0}},actions:{async get_searchSuggest(){const e=await ge(this.searchKeyword);this.suggestData=e.data.result,console.log("\u83B7\u53D6\u641C\u7D22\u8BE6\u60C5",e.data)},async get_searchHotDetail(){const e=await ke();this.searchHot=e.data.data,console.log("\u83B7\u53D6\u641C\u7D22\u5EFA\u8BAE",e.data)},async get_songDetail(e){const l=await $e(e);return console.log("\u83B7\u53D6\u6B4C\u66F2\u8BE6\u60C5",l.data),l.data.songs[0]}}});function Ye(e,l,s){let d=null;return function(){d&&clearTimeout(d),s==!0&&(e.apply(this,arguments),s=!1),d=setTimeout(()=>{e.apply(this,arguments)},l)}}const Ze=e=>(q("data-v-da78d65d"),e=e(),K(),e),et={style:{height:"400px"}},tt=Ze(()=>t("div",{class:"searchTitle"},"\u70ED\u95E8\u641C\u7D22",-1)),ot=["onClick"],lt={class:"hover"},st={style:{"margin-right":"4px"}},nt={style:{color:"#fdb6b6"}},at={key:0},it={class:"searchTitle"},ct=["onClick"],rt={style:{color:"#34d399"},class:"truncate"},ut={style:{"margin-left":"8px"},class:"truncate"},dt=["onClick"],_t={style:{color:"#34d399"},class:"truncate"},mt={style:{"margin-left":"8px"},class:"truncate"},pt=["onClick"],vt={style:{color:"#34d399","margin-left":"8px"},class:"truncate"},ht=["onClick"],ft={style:{color:"#34d399","margin-left":"8px"},class:"truncate"},yt={__name:"SearchPopover",setup(e){const{Playlist:l}=ae(),s=G(),{showSearchView:d,searchKeyword:p,showHot:v,showSuggest:_,searchHot:n,suggestData:i}=we(le()),{get_searchSuggest:c,get_searchHotDetail:$,get_songDetail:k}=le();$();const S=(I,f)=>{d.value=!1,s.push({name:I,params:{id:f},query:{id:f}})},h=async I=>{const f=await k(I);l.change_playMusic(f),l.push_toPlayList(f)},D=async I=>{p.value=I,await c(),d.value=!0},U=I=>{switch(I){case"songs":return"\u5355\u66F2";case"albums":return"\u4E13\u8F91";case"artists":return"\u6B4C\u624B";case"playlists":return"\u6B4C\u5355";default:return I}},P=Ye(()=>{c()},1e3,!1);return(I,f)=>{const X=u("el-input"),F=u("el-avatar"),Y=u("el-scrollbar"),Z=u("el-popover");return r(),m("div",null,[o(Z,{visible:a(d),"onUpdate:visible":f[4]||(f[4]=C=>L(d)?d.value=C:null),placement:"bottom","popper-style":"max-width:auto;padding:0;",width:"300px"},{reference:y(()=>[o(X,{modelValue:a(p),"onUpdate:modelValue":f[0]||(f[0]=C=>L(p)?p.value=C:null),placeholder:"\u641C\u7D22\u97F3\u4E50\u3001MV\u3001\u6B4C\u5355","prefix-icon":a(be),clearable:!0,onFocus:f[1]||(f[1]=C=>d.value=!0),onFocusout:f[2]||(f[2]=C=>d.value=!1),onInput:a(P),onKeyup:f[3]||(f[3]=Se(C=>S("searchDetail",a(p)),["enter","native"]))},null,8,["modelValue","prefix-icon","onInput"])]),default:y(()=>[t("div",et,[o(Y,null,{default:y(()=>[x(t("div",null,[tt,t("div",null,[(r(!0),m(T,null,M(a(n),(C,b)=>(r(),m("div",{key:C.searchWord,class:"hotItem",onClick:z=>D(C.searchWord)},[t("div",lt,[t("span",st,g(b+1)+".",1),t("span",null,g(C.searchWord),1)]),t("div",nt,g(a(Ve)(C.score)),1)],8,ot))),128))])],512),[[V,a(v)==!0]]),x(t("div",null,[a(i)?(r(),m("div",at,[(r(!0),m(T,null,M(a(i).order,C=>(r(),m("div",null,[t("div",it,g(U(C)),1),(r(!0),m(T,null,M(a(i).songs,b=>{var z;return x((r(),m("div",{key:b.id,class:"searchItem",onClick:H=>h(b.id)},[t("span",rt,g(b.name),1),t("span",ut," - "+g((z=b.artists.at(0))==null?void 0:z.name),1)],8,ct)),[[V,C==="songs"]])}),128)),(r(!0),m(T,null,M(a(i).albums,b=>x((r(),m("div",{key:b.id,class:"searchItem",onClick:z=>S("albumDetail",b.id)},[t("span",_t,g(b.name),1),t("span",mt," - "+g(b.artist.name),1)],8,dt)),[[V,C==="albums"]])),128)),(r(!0),m(T,null,M(a(i).artists,b=>x((r(),m("div",{key:b.id,class:"searchItem",onClick:z=>S("artistDetail",b.id)},[o(F,{size:"small",src:b.img1v1Url,class:"truncate"},null,8,["src"]),t("span",vt,g(b.name),1)],8,pt)),[[V,C==="artists"]])),128)),(r(!0),m(T,null,M(a(i).playlists,b=>x((r(),m("div",{key:b.id,class:"searchItem",onClick:z=>S("playlist",b.id)},[o(F,{size:"small",src:b.coverImgUrl,class:"truncate"},null,8,["src"]),t("div",ft,g(b.name),1)],8,ht)),[[V,C==="playlists"]])),128))]))),256))])):Ce("",!0)],512),[[V,a(v)==!1]])]),_:1})])]),_:1},8,["visible"])])}}},gt=W(yt,[["__scopeId","data-v-da78d65d"]]);const kt={style:{width:"100%"}},$t={class:"header"},wt={class:"left"},bt={class:"right"},St={__name:"header",setup(e){return(l,s)=>(r(),m("div",kt,[t("div",$t,[t("div",wt,[o(We),o(gt)]),t("div",bt,[o(Ae),o(Te,{iconSize:"20"}),o(Xe,{iconSize:"28",class:"hidden-more-800"})])])]))}},Ct=W(St,[["__scopeId","data-v-9d1877c0"]]);const zt={class:"volumeIcon hidden-less-600"},It={class:"hidden"},xt={class:"volume"},Dt={__name:"VolumeIcon",emits:["volumeEmit"],setup(e,{emit:l}){let s=w(50);function d(){l("volumeEmit",s.value)}function p(){s.value=0,l("volumeEmit",0)}return oe(()=>{const v=document.querySelector(".volumeIcon"),_=document.querySelector(".hidden");w(!1);let n=w(null);_.onmouseenter=()=>{clearTimeout(n)},_.onmouseleave=()=>{_.style.display="none"},v.onmouseenter=()=>{clearTimeout(n),_.style.display="block"},v.onmouseleave=()=>{n=setTimeout(()=>{_.style.display="none"},500)}}),(v,_)=>{const n=u("el-slider");return r(),m("div",null,[t("div",zt,[(r(),N(j(a(s)===0?"icon-volume-mute":a(s)==100?"icon-volume-notice":"icon-volume-small"),{theme:"outline",size:"22",strokeWidth:2,title:"\u97F3\u91CF",onDblclick:p},null,32))]),t("div",It,[t("div",xt,[o(n,{modelValue:a(s),"onUpdate:modelValue":_[0]||(_[0]=i=>L(s)?s.value=i:s=i),vertical:"",height:"100px","show-tooltip":!1,onInput:d},null,8,["modelValue"]),t("p",null,g(a(s)),1)])])])}}},Vt=W(Dt,[["__scopeId","data-v-c0f42af7"]]);const Pt={class:"lyricPlayer"},Tt={class:"cover"},Mt={class:"cover-container"},Lt=["src","alt"],Wt={class:"controls"},Nt={class:"top-part"},Ut={class:"track-info"},Ht={class:"title"},Ft={class:"subtitle"},Bt=O(" - "),Et={class:"like-icon"},At={class:"progress-bar"},qt={class:"time"},Kt={class:"time"},Ot={class:"media-controls"},Rt={__name:"LyricPlayer",props:{songs:{type:Object,default:()=>({id:1234,name:"\u6B4C\u66F2\u540D",al:{id:1234,name:"\u4E13\u8F91",picUrl:"\u56FE\u7247\u94FE\u63A5",pic:"\u56FE\u7247id"},ar:[{id:1234,name:"\u6B4C\u624B"}]})},currentTime:{type:Number,default:()=>0},duration:{type:Number,default:()=>0}},emits:["emitPlayer"],setup(e,{emit:l}){const s=e;let d=w(!1);const p=n=>{n=="pause"&&(d.value=!1),n=="play"&&(d.value=!0),n=="pre"&&l("emitPlayer"),n=="next"&&l("emitPlayer"),n=="order"&&l("emitPlayer"),n=="cycle"&&l("emitPlayer")},v=w(0);J(()=>s.currentTime,()=>{isNaN(s.duration)!==!0&&(v.value=parseInt(s.currentTime/s.duration*100))});function _(n){if(n==0||window.isNaN(n))return"00:00";let i=Math.floor(n%60),c=Math.floor(n/60);return`${c<10?"0"+c:c}:${i<10?"0"+i:i}`}return(n,i)=>{const c=u("router-link"),$=u("icon-like"),k=u("el-progress"),S=u("icon-play-once"),h=u("icon-go-start"),D=u("icon-play-one"),U=u("icon-pause"),P=u("icon-go-end"),I=u("icon-play-cycle");return r(),m("div",Pt,[t("div",Tt,[t("div",Mt,[t("img",{src:e.songs.al.picUrl,alt:"\u6B4C\u66F2ID="+e.songs.al.id},null,8,Lt),t("div",{class:"shadow",style:ze({backgroundImage:"url("+e.songs.al.picUrl+")"})},null,4)])]),t("div",Wt,[t("div",Nt,[t("div",Ut,[t("div",Ht,g(e.songs.name),1),t("div",Ft,[(r(!0),m(T,null,M(e.songs.ar,f=>(r(),N(c,{key:f.id,to:{name:"artistDetail",params:{id:f.id}}},{default:y(()=>[O(g(f.name),1)]),_:2},1032,["to"]))),128)),Bt,o(c,{to:{name:"albumDetail",params:{id:e.songs.al.id}}},{default:y(()=>[O(g(e.songs.al.name),1)]),_:1},8,["to"])])]),t("div",Et,[o($,{theme:"outline",size:"20"})])]),t("div",At,[t("span",qt,g(_(e.currentTime)),1),o(k,{percentage:v.value,"text-inside":!0,"show-text":!1,"stroke-width":6,class:"slider"},null,8,["percentage"]),t("span",Kt,g(_(e.duration)),1)]),t("div",Ot,[o(S,{theme:"outline",size:"18",strokeWidth:4,title:"\u987A\u5E8F\u64AD\u653E",onClick:i[0]||(i[0]=f=>p("order")),class:"icon-hover"}),o(h,{theme:"outline",size:"34",strokeWidth:4,title:"\u4E0A\u4E00\u9996",onClick:i[1]||(i[1]=f=>p("pre")),class:"icon-hover"}),x(o(D,{theme:"filled",size:"44",onClick:i[2]||(i[2]=f=>p("play")),strokeWidth:4,title:"\u70B9\u51FB\u64AD\u653E",class:"icon-hover"},null,512),[[V,a(d)===!1]]),x(o(U,{theme:"filled",size:"44",strokeWidth:4,onClick:i[3]||(i[3]=f=>p("pause")),title:"\u70B9\u51FB\u6682\u505C",class:"icon-hover"},null,512),[[V,a(d)===!0]]),o(P,{theme:"outline",size:"34",strokeWidth:4,title:"\u4E0B\u4E00\u9996",onClick:i[4]||(i[4]=f=>p("next")),class:"icon-hover"}),o(I,{theme:"outline",size:"18",strokeWidth:4,title:"\u5FAA\u73AF\u64AD\u653E",onClick:i[5]||(i[5]=f=>p("cycle")),class:"icon-hover"})])])])}}},jt=W(Rt,[["__scopeId","data-v-8fe777b8"]]);const Jt=e=>(q("data-v-da408d66"),e=e(),K(),e),Gt=["src"],Qt={class:"lyricDialog"},Xt={class:"left-side"},Yt={class:"right-side"},Zt={key:0,class:"lyric-container"},eo={key:1,class:"lyric-container"},to=Jt(()=>t("p",{class:"lyric-item lyricActive"},"\u6682\u65E0\u6B4C\u8BCD",-1)),oo=[to],lo={__name:"LyricDialog",props:{currentPlayMusic:{type:Object,default:()=>({id:1,name:"\u6B4C\u66F2\u540D\u52A0\u5907\u6CE8()",ar:[{id:123456,name:"\u6B4C\u624B"}],al:{id:123456,name:"\u6B4C\u66F2",picUrl:"\u56FE\u7247\u94FE\u63A5"},dt:0})},size:{type:String,default:()=>"100%"},lyric:{type:Array,default:()=>[{time:0,lyric:"\u4F5C\u8BCD : ",next:9999}]},currentTime:{type:Number,default:()=>0},duration:{type:Number,default:()=>0}},setup(e){const l=e;let s=w(!1),d=w(0),p=w(!0),v=w(!0),_=1;const n=()=>{_++,_==1&&(p.value=!0,v.value=!0),_==2&&(p.value=!1,v.value=!0),_==3&&(p.value=!0,v.value=!1,_=0),console.log(_)};return oe(()=>{J(()=>l.currentTime,(i,c)=>{for(let $=0;$<l.lyric.length;$++)l.currentTime>=l.lyric[$].time&&l.currentTime<=l.lyric[$].next&&(d.value=$)}),J(()=>d.value,(i,c)=>{const $=document.querySelector(".lyricActive"),k=document.querySelector(".right-side");$&&k&&(k.scrollTop=$.offsetHeight*d.value-k.clientHeight/2)})}),(i,c)=>{const $=u("icon-down"),k=u("icon-app-switch"),S=u("el-drawer");return r(),m("div",null,[t("img",{src:e.currentPlayMusic.al.picUrl+"?param=50y50",fit:"cover",onClick:c[0]||(c[0]=h=>L(s)?s.value=!0:s=!0),class:"img"},null,8,Gt),o(S,{modelValue:a(s),"onUpdate:modelValue":c[2]||(c[2]=h=>L(s)?s.value=h:s=h),direction:"btt",size:e.size,"with-header":!1},{default:y(()=>[A(i.$slots,"default",{},()=>[t("div",Qt,[x(t("div",Xt,[o(jt,{songs:e.currentPlayMusic,currentTime:e.currentTime,duration:e.duration},null,8,["songs","currentTime","duration"])],512),[[V,a(p)==!0]]),x(t("div",Yt,[e.lyric.length!==0?(r(),m("div",Zt,[(r(!0),m(T,null,M(e.lyric,h=>(r(),m("p",{class:Q(["lyric-item",{lyricActive:e.currentTime>=h.time&&e.currentTime<=h.next}])},g(h.lyric),3))),256))])):(r(),m("div",eo,oo))],512),[[V,a(v)==!0]]),t("div",{class:"close",onClick:c[1]||(c[1]=h=>L(s)?s.value=!1:s=!1)},[o($,{theme:"filled",size:"40",class:"downIcon"})]),t("div",{class:"switch",onClick:n},[o(k,{theme:"filled",size:"25",class:"switchIcon"})])])],!0)]),_:3},8,["modelValue","size"])])}}},so=W(lo,[["__scopeId","data-v-da408d66"]]);const ce=e=>(q("data-v-d4906b08"),e=e(),K(),e),no={class:"title"},ao=ce(()=>t("div",{class:"large-title"},"\u64AD\u653E\u5217\u8868",-1)),io={class:"small-title"},co=ce(()=>t("span",null,"\u6E05\u7A7A",-1)),ro=["onDblclick"],uo={class:"img"},_o={alt:"\u52A0\u8F7D\u4E2D..."},mo={class:"detail"},po={class:"author"},vo={class:"duration"},ho={__name:"MusicListIcon",props:{myData:{type:Array,default:()=>[]},size:{type:Number,default:()=>300},iconSize:{type:String,default:()=>"38"},currentPlayMusic:{type:Object,default:()=>{}}},emits:["dblclickChild","clearChild"],setup(e,{emit:l}){let s=w(!1);function d(_){let n=Math.floor(_/1e3%60),i=Math.floor(_/1e3/60);return`${i<10?"0"+i:i}:${n<10?"0"+n:n}`}function p(_){l("dblclickChild",_)}function v(){l("clearChild")}return(_,n)=>{const i=u("icon-music-list"),c=u("el-badge"),$=u("icon-delete"),k=u("el-drawer"),S=Ie("img-lazy");return r(),m("div",null,[o(c,{value:e.myData.length,hidden:e.myData.length==0},{default:y(()=>[o(i,{class:"musicList",theme:"outline",size:e.iconSize,strokeWidth:3,title:"\u6B4C\u66F2\u5217\u8868",onClick:n[0]||(n[0]=h=>L(s)?s.value=!0:s=!0)},null,8,["size"])]),_:1},8,["value","hidden"]),o(k,{modelValue:a(s),"onUpdate:modelValue":n[1]||(n[1]=h=>L(s)?s.value=h:s=h),direction:"rtl",size:e.size,"with-header":!1},{default:y(()=>[A(_.$slots,"header",{},()=>[t("div",no,[ao,t("div",io,[t("span",null,"\u5171"+g(e.myData.length)+"\u9996\u6B4C\u66F2",1),t("div",{class:"icon",onClick:v},[o($,{theme:"outline",size:"14",strokeWidth:4,title:"\u6E05\u7A7A"}),co])])])],!0),A(_.$slots,"default",{},()=>[(r(!0),m(T,null,M(e.myData,h=>(r(),m("div",{onDblclick:D=>p(h),class:Q(["card",e.currentPlayMusic.id==h.id?"active":""]),key:h.id},[t("div",uo,[x(t("img",_o,null,512),[[S,h.al.picUrl+"?param=40y40"]])]),t("div",mo,[t("span",null,g(h.name),1),t("div",po,[(r(!0),m(T,null,M(h.ar,D=>(r(),m("span",{key:D.id},g(D.name),1))),128))])]),t("div",vo,g(d(h.dt)),1)],42,ro))),128))],!0)]),_:3},8,["modelValue","size"])])}}},se=W(ho,[["__scopeId","data-v-d4906b08"]]);const fo={class:"palyer"},yo=["src"],go={class:"group"},ko={class:"detail"},$o={class:"info"},wo={class:"top"},bo={class:"bottom"},So={class:"button"},Co={class:"list hidden-less-1000"},zo={__name:"footer",setup(e){const{Playlist:l}=ae();function s(z){l.change_playMusic(z)}function d(){f(),l.clear_toPlayList()}const p=ee(()=>l.currentPlayMusic.id),v=ee(()=>l.toPlayList),_=ee(()=>l.currentPlayMusic);J(p,()=>{console.log("\u6B4C\u66F2id\u53D1\u751F\u53D8\u5316",p.value),I()});const n=w(""),i=w("");let c=w(0),$=w(0),k=w(!1),S=w(0),h=w(!1),D=w(!0);function U(){D.value=!1,h.value=!0}function P(){D.value=!0,h.value=!1}function I(){k.value=!0,setTimeout(()=>{n.value.play().then(()=>{console.log("\u64AD\u653E\u6210\u529F"),k.value=!0}).catch(z=>{console.log("\u64AD\u653E\u51FA\u9519",z),k.value=!1,n.value.currentTime=0,R({showClose:!0,message:"\u6CA1\u6709\u64AD\u653E\u6743\u9650",type:"error"})})},500)}function f(){k.value=!1,n.value.pause()}function X(){l.pre_music()}function F(){l.next_music()}function Y(z){n.value.volume=z/100}function Z(){n.value.currentTime=Number(S.value*n.value.duration/100)}function C(z){if(z==0||window.isNaN(z))return"00:00";let H=Math.floor(z%60),B=Math.floor(z/60);return`${B<10?"0"+B:B}:${H<10?"0"+H:H}`}function b(){n.value.autoplay=!1,n.value.controls=!1,n.value.volume=.5}return oe(()=>{b(),n.value.ontimeupdate=function(){S.value=Number(n.value.currentTime/n.value.duration*100),c.value=parseInt(n.value.currentTime),$.value=n.value.duration},n.value.onended=function(){k.value=!1,console.log("\u64AD\u653E\u7ED3\u675F"),l.toPlayList.length!==0&&h.value==!0&&I(),l.toPlayList.length-1!==0&&D.value==!0&&F()}}),(z,H)=>{const B=u("el-slider"),re=u("icon-play-once"),ue=u("icon-play-cycle"),de=u("icon-go-start"),_e=u("icon-play"),me=u("icon-pause-one"),pe=u("icon-go-end"),ve=u("icon-text-message");return r(),m("div",fo,[t("audio",{type:"file",ref_key:"audio",ref:n,src:`https://music.163.com/song/media/outer/url?id=${a(p)}.mp3`,preload:"metadata"},"\u60A8\u7684\u6D4F\u89C8\u5668\u4E0D\u652F\u6301audio\u6807\u7B7E,\u60A8\u8FD8\u662F\u6362\u4E2A\u6D4F\u89C8\u5668\u5427",8,yo),o(B,{ref_key:"progressBar",ref:i,modelValue:a(S),"onUpdate:modelValue":H[0]||(H[0]=E=>L(S)?S.value=E:S=E),onInput:Z,"show-tooltip":!1},null,8,["modelValue"]),t("div",go,[t("div",ko,[o(so,{lyric:a(l).lyric,currentTime:n.value.currentTime,duration:n.value.duration,currentPlayMusic:a(l).currentPlayMusic},null,8,["lyric","currentTime","duration","currentPlayMusic"]),t("div",$o,[t("p",wo,g(a(l).currentPlayMusic.name),1),t("div",bo,[(r(!0),m(T,null,M(a(l).currentPlayMusic.ar,E=>(r(),m("a",{key:E.name},g(E.name),1))),128))])])]),t("div",So,[x(o(re,{class:"hidden-less-600",theme:"outline",size:"22",strokeWidth:2,title:"\u987A\u5E8F\u64AD\u653E",onClick:U},null,512),[[V,a(D)===!0]]),x(o(ue,{class:"hidden-less-600",theme:"outline",size:"22",strokeWidth:2,title:"\u5FAA\u73AF\u64AD\u653E",onClick:P},null,512),[[V,a(h)===!0]]),o(de,{class:"hidden-less-600",theme:"outline",size:"28",strokeWidth:4,title:"\u4E0A\u4E00\u9996",onClick:X}),x(o(_e,{style:{color:"#34d399"},theme:"filled",size:"38",strokeWidth:2,title:"\u70B9\u51FB\u64AD\u653E",onClick:I},null,512),[[V,a(k)===!1]]),x(o(me,{style:{color:"#34d399"},theme:"filled",size:"38",strokeWidth:2,title:"\u70B9\u51FB\u6682\u505C",onClick:f},null,512),[[V,a(k)===!0]]),o(pe,{class:"hidden-less-600",theme:"outline",size:"28",strokeWidth:4,title:"\u4E0B\u4E00\u9996",onClick:F}),o(Vt,{onVolumeEmit:Y}),o(se,{myData:a(v),currentPlayMusic:a(_),onDblclickChild:s,onClearChild:d,class:"hidden-more-600"},null,8,["myData","currentPlayMusic"])]),t("div",Co,[t("p",null,g(C(a(c)))+" / "+g(C(a($))),1),o(ve,{theme:"outline",size:"22",strokeWidth:3,title:"\u6B4C\u66F2\u8BC4\u8BBA"}),o(se,{myData:a(v),currentPlayMusic:a(_),onDblclickChild:s,onClearChild:d,iconSize:"24"},null,8,["myData","currentPlayMusic"])])])])}}},Io=W(zo,[["__scopeId","data-v-66fa66d2"]]);const xo={class:"common-layout"},Do={__name:"index",setup(e){const l=ne();return(s,d)=>{const p=u("el-scrollbar"),v=u("el-aside"),_=u("el-header"),n=u("router-view"),i=u("el-main"),c=u("el-footer"),$=u("el-container");return r(),m("div",xo,[o($,null,{default:y(()=>[o(v,{width:"240px"},{default:y(()=>[o(p,null,{default:y(()=>[o(ie)]),_:1})]),_:1}),o($,null,{default:y(()=>[o(_,null,{default:y(()=>[o(Ct)]),_:1}),o(i,null,{default:y(()=>[o(xe,{name:"slide-fade"},{default:y(()=>[a(l).meta.keepAlive?(r(),N(De,{key:0},[o(p,null,{default:y(()=>[o(n,null,{default:y(({Component:k})=>[(r(),N(j(k)))]),_:1})]),_:1})],1024)):(r(),N(p,{key:1},{default:y(()=>[o(n,null,{default:y(({Component:k})=>[(r(),N(j(k)))]),_:1})]),_:1}))]),_:1})]),_:1}),o(c,null,{default:y(()=>[o(Io)]),_:1})]),_:1})]),_:1})])}}},Mo=W(Do,[["__scopeId","data-v-653978fd"]]);export{Mo as default};
