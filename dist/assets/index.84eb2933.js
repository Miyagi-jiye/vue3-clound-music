import{_ as M,r as S,a as i,o as c,c as _,b as t,u as s,d as E,e as Y,f as o,s as Z,g as ie,w as x,v as I,h as k,n as X,i as P,j as J,p as j,k as O,l as ye,F as V,m as T,t as g,q as ee,E as ce,x as K,y as ge,S as $e,z as ke,A as be,B as te,C as Q,D as we,G as Se,H as Ce,T as ze}from"./index.27a5e7b1.js";import{u as le,a as xe,b as Ie,c as De}from"./login.0ae22fc4.js";import{p as Ve}from"./playCountFilter.21fdfcbf.js";import{u as Te}from"./index.34a87f65.js";import{u as se}from"./playlist.f0e95a22.js";import"./vue.73cea66e.js";const Pe={__name:"FullScreenButton",props:{iconSize:{type:String,default:()=>"20"}},setup(e){let n=S(!1);const l=()=>{document.fullscreenElement?(document.exitFullscreen(),n.value=!1):(document.documentElement.requestFullscreen(),n.value=!0)};return(r,d)=>{const h=i("icon-off-screen"),u=i("icon-full-screen");return c(),_("div",null,[t("div",{onClick:l,class:"icon-hover"},[s(n)?(c(),E(h,{key:0,theme:"outline",size:e.iconSize,title:"\u9000\u51FA\u5168\u5C4F"},null,8,["size"])):(c(),E(u,{key:1,theme:"outline",size:e.iconSize,title:"\u70B9\u51FB\u5168\u5C4F"},null,8,["size"]))])])}}},Me=M(Pe,[["__scopeId","data-v-640c80d9"]]);const We={class:"goBack"},Le={__name:"DirectionIcon",setup(e){const n=Y();return(l,r)=>{const d=i("icon-left"),h=i("icon-right");return c(),_("div",We,[o(d,{theme:"outline",size:"26",strokeWidth:2,onClick:r[0]||(r[0]=u=>s(n).back())}),o(h,{theme:"outline",size:"26",strokeWidth:2,onClick:r[1]||(r[1]=u=>s(n).forward())})])}}},Ue=M(Le,[["__scopeId","data-v-c491a6dc"]]);const He=e=>(j("data-v-cd3a1572"),e=e(),O(),e),Ne={class:"loginDialog"},Fe=He(()=>t("a",null,"\u70B9\u51FB\u767B\u5F55",-1)),Be=["id"],Ee={class:"login-form"},qe=J("\u767B\u5F55"),Ae={__name:"LoginDialog",setup(e){const{get_login:n}=le(),{loginParams:l,isLogin:r}=Z(le());let d=S(!1),h=S(!1);const u=S(null);let m=ie({phone:[{required:!0,message:"\u8BF7\u8F93\u5165\u8D26\u53F7",trigger:"blur"},{min:11,max:11,message:"\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u624B\u673A\u53F7\u7801",trigger:"blur"}],password:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801",trigger:"blur"},{min:6,max:16,message:"\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u5BC6\u7801",trigger:"blur"}]});const a=()=>{d.value=!0},v=()=>{u.value.validate($=>{if($)h.value=!0,n().finally(()=>h.value=!1);else return console.log("\u8868\u5355\u9A8C\u8BC1\u4E0D\u901A\u8FC7"),!1})};return($,b)=>{const f=i("el-avatar"),y=i("el-input"),D=i("el-form-item"),N=i("el-form"),W=i("el-button"),z=i("el-dialog");return x((c(),_("div",Ne,[t("div",{class:"avatar hidden-less-800",onClick:a},[o(f,{size:32,src:"https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png"}),Fe]),o(z,{modelValue:s(d),"onUpdate:modelValue":b[2]||(b[2]=p=>P(d)?d.value=p:d=p),title:"Tips",width:"300px"},{header:k(({close:p,titleId:q,titleClass:B})=>[t("h4",{id:q,class:X(B)},"\u767B\u5F55",10,Be)]),footer:k(()=>[o(W,{class:"loginBtn",type:"primary",onClick:v,loading:s(h)},{default:k(()=>[qe]),_:1},8,["loading"])]),default:k(()=>[t("div",Ee,[o(N,{model:s(l),rules:s(m),ref_key:"loginFormRef",ref:u},{default:k(()=>[o(D,{prop:"phone"},{default:k(()=>[o(y,{modelValue:s(l).phone,"onUpdate:modelValue":b[0]||(b[0]=p=>s(l).phone=p),"prefix-icon":"Cellphone",placeholder:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7\u7801"},null,8,["modelValue"])]),_:1}),o(D,{prop:"password"},{default:k(()=>[o(y,{modelValue:s(l).password,"onUpdate:modelValue":b[1]||(b[1]=p=>s(l).password=p),type:"password","prefix-icon":"Lock",placeholder:"\u8BF7\u8F93\u5165\u767B\u5F55\u5BC6\u7801"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])])]),_:1},8,["modelValue"])],512)),[[I,s(r)==!1]])}}},Re=M(Ae,[["__scopeId","data-v-cd3a1572"]]);const Ke={class:"group-titlle"},je=["onClick"],Oe={__name:"menu",setup(e){const n=Y(),l=ye();let r=S(l.path);const d=ie([{id:1,groupName:"\u5728\u7EBF\u97F3\u4E50",children:[{name:"\u63A8\u8350",icon:"icon-planet",path:"/discover"},{name:"\u97F3\u4E50\u9986",icon:"icon-music",path:"/music"},{name:"\u89C6\u9891",icon:"icon-video-one",path:"/video"},{name:"\u7535\u53F0",icon:"icon-fm",path:"/dj"}]},{id:2,groupName:"\u6211\u7684\u97F3\u4E50",children:[{name:"\u6211\u559C\u6B22",icon:"icon-like"},{name:"\u672C\u5730\u6B4C\u66F2",icon:"icon-computer"},{name:"\u4E0B\u8F7D\u6B4C\u66F2",icon:"icon-download-three"},{name:"\u6700\u8FD1\u64AD\u653E",icon:"icon-play-two"}]}]),h=u=>{r.value=u.path,console.log(u.path),u.path?n.push(u.path):ce.error("\u6682\u65E0\u8BE5\u8DEF\u5F84")};return(u,m)=>(c(),_("div",null,[(c(!0),_(V,null,T(d,a=>(c(),_("div",{class:"group",key:a.id},[t("p",Ke,g(a.groupName),1),(c(!0),_(V,null,T(a.children,v=>(c(),_("div",{class:X(["group-item",s(r)==v.path?"active":""]),key:v.path,onClick:$=>h(v)},[(c(),E(ee(v.icon),{theme:"outline",size:"22",strokeWidth:2})),t("span",null,g(v.name),1)],10,je))),128))]))),128))]))}},re=M(Oe,[["__scopeId","data-v-ad62ffaa"]]);const Ge=e=>(j("data-v-295b632a"),e=e(),O(),e),Je={class:"header"},Qe=Ge(()=>t("div",{class:"title"},"\u5BFC\u822A\u83DC\u5355",-1)),Xe={class:"content"},Ye={__name:"HamburgerIcon",props:{myData:{type:Array,default:()=>[]},size:{type:String,default:()=>"50%"},iconSize:{type:String,default:()=>"28"}},setup(e){let n=S(!1);return(l,r)=>{const d=i("icon-hamburger-button"),h=i("icon-close"),u=i("el-scrollbar"),m=i("el-drawer");return c(),_("div",null,[o(d,{class:"hamburgerIcon",theme:"outline",size:e.iconSize,strokeWidth:2,onClick:r[0]||(r[0]=a=>P(n)?n.value=!0:n=!0)},null,8,["size"]),o(m,{modelValue:s(n),"onUpdate:modelValue":r[2]||(r[2]=a=>P(n)?n.value=a:n=a),direction:"rtl",size:e.size,"with-header":!1},{default:k(()=>[o(u,null,{default:k(()=>[K(l.$slots,"header",{},()=>[t("div",Je,[Qe,o(h,{theme:"outline",size:"20",title:"\u5173\u95ED",class:"close",onClick:r[1]||(r[1]=a=>P(n)?n.value=!1:n=!1)})])],!0),K(l.$slots,"default",{},()=>[t("div",Xe,[o(re)])],!0)]),_:3})]),_:3},8,["modelValue","size"])])}}},Ze=M(Ye,[["__scopeId","data-v-295b632a"]]),ne=ge("search",{state:()=>({showSearchView:!1,searchKeyword:"",suggestData:{},searchHot:[],searchData:null}),getters:{showHot:e=>e.searchKeyword=="",showSuggest:e=>{if(JSON.stringify(e.suggestData)==="{}")return!0}},actions:{async get_searchSuggest(){const e=await xe(this.searchKeyword);this.suggestData=e.data.result,console.log("\u83B7\u53D6\u641C\u7D22\u8BE6\u60C5",e.data)},async get_searchHotDetail(){const e=await Ie();this.searchHot=e.data.data,console.log("\u83B7\u53D6\u641C\u7D22\u5EFA\u8BAE",e.data)},async get_songDetail(e){const n=await De(e);return console.log("\u83B7\u53D6\u6B4C\u66F2\u8BE6\u60C5",n.data),n.data.songs[0]}}});function et(e,n,l){let r=null;return function(){r&&clearTimeout(r),l==!0&&(e.apply(this,arguments),l=!1),r=setTimeout(()=>{e.apply(this,arguments)},n)}}const tt=e=>(j("data-v-da78d65d"),e=e(),O(),e),ot={style:{height:"400px"}},lt=tt(()=>t("div",{class:"searchTitle"},"\u70ED\u95E8\u641C\u7D22",-1)),st=["onClick"],nt={class:"hover"},at={style:{"margin-right":"4px"}},it={style:{color:"#fdb6b6"}},ct={key:0},rt={class:"searchTitle"},ut=["onClick"],dt={style:{color:"#34d399"},class:"truncate"},_t={style:{"margin-left":"8px"},class:"truncate"},mt=["onClick"],pt={style:{color:"#34d399"},class:"truncate"},vt={style:{"margin-left":"8px"},class:"truncate"},ht=["onClick"],ft={style:{color:"#34d399","margin-left":"8px"},class:"truncate"},yt=["onClick"],gt={style:{color:"#34d399","margin-left":"8px"},class:"truncate"},$t={__name:"SearchPopover",setup(e){const{Playlist:n}=Te(),l=Y(),{showSearchView:r,searchKeyword:d,showHot:h,showSuggest:u,searchHot:m,suggestData:a}=Z(ne()),{get_searchSuggest:v,get_searchHotDetail:$,get_songDetail:b}=ne();$();const f=(z,p)=>{r.value=!1,l.push({name:z,params:{id:p},query:{id:p}})},y=async z=>{const p=await b(z);n.change_playMusic(p),n.push_toPlayList(p)},D=async z=>{d.value=z,await v(),r.value=!0},N=z=>{switch(z){case"songs":return"\u5355\u66F2";case"albums":return"\u4E13\u8F91";case"artists":return"\u6B4C\u624B";case"playlists":return"\u6B4C\u5355";default:return z}},W=et(()=>{v()},1e3,!1);return(z,p)=>{const q=i("el-input"),B=i("el-avatar"),A=i("el-scrollbar"),G=i("el-popover");return c(),_("div",null,[o(G,{visible:s(r),"onUpdate:visible":p[4]||(p[4]=C=>P(r)?r.value=C:null),placement:"bottom","popper-style":"max-width:auto;padding:0;",width:"300px"},{reference:k(()=>[o(q,{modelValue:s(d),"onUpdate:modelValue":p[0]||(p[0]=C=>P(d)?d.value=C:null),placeholder:"\u641C\u7D22\u97F3\u4E50\u3001MV\u3001\u6B4C\u5355","prefix-icon":s($e),clearable:!0,onFocus:p[1]||(p[1]=C=>r.value=!0),onFocusout:p[2]||(p[2]=C=>r.value=!1),onInput:s(W),onKeyup:p[3]||(p[3]=ke(C=>f("searchDetail",s(d)),["enter","native"]))},null,8,["modelValue","prefix-icon","onInput"])]),default:k(()=>[t("div",ot,[o(A,null,{default:k(()=>[x(t("div",null,[lt,t("div",null,[(c(!0),_(V,null,T(s(m),(C,w)=>(c(),_("div",{key:C.searchWord,class:"hotItem",onClick:H=>D(C.searchWord)},[t("div",nt,[t("span",at,g(w+1)+".",1),t("span",null,g(C.searchWord),1)]),t("div",it,g(s(Ve)(C.score)),1)],8,st))),128))])],512),[[I,s(h)==!0]]),x(t("div",null,[s(a)?(c(),_("div",ct,[(c(!0),_(V,null,T(s(a).order,C=>(c(),_("div",null,[t("div",rt,g(N(C)),1),(c(!0),_(V,null,T(s(a).songs,w=>{var H;return x((c(),_("div",{key:w.id,class:"searchItem",onClick:oe=>y(w.id)},[t("span",dt,g(w.name),1),t("span",_t," - "+g((H=w.artists.at(0))==null?void 0:H.name),1)],8,ut)),[[I,C==="songs"]])}),128)),(c(!0),_(V,null,T(s(a).albums,w=>x((c(),_("div",{key:w.id,class:"searchItem",onClick:H=>f("albumDetail",w.id)},[t("span",pt,g(w.name),1),t("span",vt," - "+g(w.artist.name),1)],8,mt)),[[I,C==="albums"]])),128)),(c(!0),_(V,null,T(s(a).artists,w=>x((c(),_("div",{key:w.id,class:"searchItem",onClick:H=>f("artistDetail",w.id)},[o(B,{size:"small",src:w.img1v1Url,class:"truncate"},null,8,["src"]),t("span",ft,g(w.name),1)],8,ht)),[[I,C==="artists"]])),128)),(c(!0),_(V,null,T(s(a).playlists,w=>x((c(),_("div",{key:w.id,class:"searchItem",onClick:H=>f("playlist",w.id)},[o(B,{size:"small",src:w.coverImgUrl,class:"truncate"},null,8,["src"]),t("div",gt,g(w.name),1)],8,yt)),[[I,C==="playlists"]])),128))]))),256))])):be("",!0)],512),[[I,s(h)==!1]])]),_:1})])]),_:1},8,["visible"])])}}},kt=M($t,[["__scopeId","data-v-da78d65d"]]);const bt={style:{width:"100%"}},wt={class:"header"},St={class:"left"},Ct={class:"right"},zt={__name:"header",setup(e){return(n,l)=>(c(),_("div",bt,[t("div",wt,[t("div",St,[o(Ue),o(kt)]),t("div",Ct,[o(Re),o(Me,{iconSize:"20"}),o(Ze,{iconSize:"28",class:"hidden-more-800"})])])]))}},xt=M(zt,[["__scopeId","data-v-9d1877c0"]]);const It={class:"volumeIcon hidden-less-600"},Dt={class:"hidden"},Vt={class:"volume"},Tt={__name:"VolumeIcon",emits:["volumeEmit"],setup(e,{emit:n}){let l=S(50);function r(){n("volumeEmit",l.value)}function d(){l.value=0,n("volumeEmit",0)}return te(()=>{const h=document.querySelector(".volumeIcon"),u=document.querySelector(".hidden");S(!1);let m=S(null);u.onmouseenter=()=>{clearTimeout(m)},u.onmouseleave=()=>{u.style.display="none"},h.onmouseenter=()=>{clearTimeout(m),u.style.display="block"},h.onmouseleave=()=>{m=setTimeout(()=>{u.style.display="none"},500)}}),(h,u)=>{const m=i("el-slider");return c(),_("div",null,[t("div",It,[(c(),E(ee(s(l)===0?"icon-volume-mute":s(l)==100?"icon-volume-notice":"icon-volume-small"),{theme:"outline",size:"22",strokeWidth:2,title:"\u97F3\u91CF",onDblclick:d},null,32))]),t("div",Dt,[t("div",Vt,[o(m,{modelValue:s(l),"onUpdate:modelValue":u[0]||(u[0]=a=>P(l)?l.value=a:l=a),vertical:"",height:"100px","show-tooltip":!1,onInput:r},null,8,["modelValue"]),t("p",null,g(s(l)),1)])])])}}},Pt=M(Tt,[["__scopeId","data-v-c0f42af7"]]);const Mt={class:"lyricPlayer"},Wt={class:"cover"},Lt={class:"cover-container"},Ut=["src","alt"],Ht={class:"controls"},Nt={class:"top-part"},Ft={class:"track-info"},Bt={class:"title"},Et={class:"subtitle"},qt=J(" - "),At={class:"like-icon"},Rt={class:"progress-bar"},Kt={class:"time"},jt={class:"time"},Ot={class:"media-controls"},Gt={__name:"LyricPlayer",props:{songs:{type:Object,default:()=>({id:1234,name:"\u6B4C\u66F2\u540D",al:{id:1234,name:"\u4E13\u8F91",picUrl:"\u56FE\u7247\u94FE\u63A5",pic:"\u56FE\u7247id"},ar:[{id:1234,name:"\u6B4C\u624B"}]})},currentTime:{type:Number,default:()=>0},duration:{type:Number,default:()=>0}},emits:["emitPlayer"],setup(e,{emit:n}){const l=e;let r=S(!1);const d=m=>{m=="pause"&&(r.value=!1),m=="play"&&(r.value=!0),m=="pre"&&n("emitPlayer"),m=="next"&&n("emitPlayer"),m=="order"&&n("emitPlayer"),m=="cycle"&&n("emitPlayer")},h=S(0);Q(()=>l.currentTime,()=>{isNaN(l.duration)!==!0&&(h.value=parseInt(l.currentTime/l.duration*100))});function u(m){if(m==0||window.isNaN(m))return"00:00";let a=Math.floor(m%60),v=Math.floor(m/60);return`${v<10?"0"+v:v}:${a<10?"0"+a:a}`}return(m,a)=>{const v=i("router-link"),$=i("icon-like"),b=i("el-progress"),f=i("icon-play-once"),y=i("icon-go-start"),D=i("icon-play-one"),N=i("icon-pause"),W=i("icon-go-end"),z=i("icon-play-cycle");return c(),_("div",Mt,[t("div",Wt,[t("div",Lt,[t("img",{src:e.songs.al.picUrl,alt:"\u6B4C\u66F2ID="+e.songs.al.id},null,8,Ut),t("div",{class:"shadow",style:we({backgroundImage:"url("+e.songs.al.picUrl+")"})},null,4)])]),t("div",Ht,[t("div",Nt,[t("div",Ft,[t("div",Bt,g(e.songs.name),1),t("div",Et,[(c(!0),_(V,null,T(e.songs.ar,p=>(c(),E(v,{key:p.id,to:{name:"artistDetail",params:{id:p.id}},class:"ar"},{default:k(()=>[J(g(p.name),1)]),_:2},1032,["to"]))),128)),qt,o(v,{to:{name:"albumDetail",params:{id:e.songs.al.id}},class:"al"},{default:k(()=>[J(g(e.songs.al.name),1)]),_:1},8,["to"])])]),t("div",At,[o($,{theme:"outline",size:"20"})])]),t("div",Rt,[t("span",Kt,g(u(e.currentTime)),1),o(b,{percentage:h.value,"text-inside":!0,"show-text":!1,"stroke-width":6,class:"slider"},null,8,["percentage"]),t("span",jt,g(u(e.duration)),1)]),t("div",Ot,[o(f,{theme:"outline",size:"18",strokeWidth:4,title:"\u987A\u5E8F\u64AD\u653E",onClick:a[0]||(a[0]=p=>d("order")),class:"icon-hover"}),o(y,{theme:"outline",size:"34",strokeWidth:4,title:"\u4E0A\u4E00\u9996",onClick:a[1]||(a[1]=p=>d("pre")),class:"icon-hover"}),x(o(D,{theme:"filled",size:"44",onClick:a[2]||(a[2]=p=>d("play")),strokeWidth:4,title:"\u70B9\u51FB\u64AD\u653E",class:"icon-hover"},null,512),[[I,s(r)===!1]]),x(o(N,{theme:"filled",size:"44",strokeWidth:4,onClick:a[3]||(a[3]=p=>d("pause")),title:"\u70B9\u51FB\u6682\u505C",class:"icon-hover"},null,512),[[I,s(r)===!0]]),o(W,{theme:"outline",size:"34",strokeWidth:4,title:"\u4E0B\u4E00\u9996",onClick:a[4]||(a[4]=p=>d("next")),class:"icon-hover"}),o(z,{theme:"outline",size:"18",strokeWidth:4,title:"\u5FAA\u73AF\u64AD\u653E",onClick:a[5]||(a[5]=p=>d("cycle")),class:"icon-hover"})])])])}}},Jt=M(Gt,[["__scopeId","data-v-3aec61b0"]]);const Qt=e=>(j("data-v-da408d66"),e=e(),O(),e),Xt=["src"],Yt={class:"lyricDialog"},Zt={class:"left-side"},eo={class:"right-side"},to={key:0,class:"lyric-container"},oo={key:1,class:"lyric-container"},lo=Qt(()=>t("p",{class:"lyric-item lyricActive"},"\u6682\u65E0\u6B4C\u8BCD",-1)),so=[lo],no={__name:"LyricDialog",props:{currentPlayMusic:{type:Object,default:()=>({id:1,name:"\u6B4C\u66F2\u540D\u52A0\u5907\u6CE8()",ar:[{id:123456,name:"\u6B4C\u624B"}],al:{id:123456,name:"\u6B4C\u66F2",picUrl:"\u56FE\u7247\u94FE\u63A5"},dt:0})},size:{type:String,default:()=>"100%"},lyric:{type:Array,default:()=>[{time:0,lyric:"\u4F5C\u8BCD : ",next:9999}]},currentTime:{type:Number,default:()=>0},duration:{type:Number,default:()=>0}},setup(e){const n=e;let l=S(!1),r=S(0),d=S(!0),h=S(!0),u=1;const m=()=>{u++,u==1&&(d.value=!0,h.value=!0),u==2&&(d.value=!1,h.value=!0),u==3&&(d.value=!0,h.value=!1,u=0),console.log(u)};return te(()=>{Q(()=>n.currentTime,(a,v)=>{for(let $=0;$<n.lyric.length;$++)n.currentTime>=n.lyric[$].time&&n.currentTime<=n.lyric[$].next&&(r.value=$)}),Q(()=>r.value,(a,v)=>{const $=document.querySelector(".lyricActive"),b=document.querySelector(".right-side");$&&b&&(b.scrollTop=$.offsetHeight*r.value-b.clientHeight/2)})}),(a,v)=>{const $=i("icon-down"),b=i("icon-app-switch"),f=i("el-drawer");return c(),_("div",null,[t("img",{src:e.currentPlayMusic.al.picUrl+"?param=50y50",fit:"cover",onClick:v[0]||(v[0]=y=>P(l)?l.value=!0:l=!0),class:"img"},null,8,Xt),o(f,{modelValue:s(l),"onUpdate:modelValue":v[2]||(v[2]=y=>P(l)?l.value=y:l=y),direction:"btt",size:e.size,"with-header":!1},{default:k(()=>[K(a.$slots,"default",{},()=>[t("div",Yt,[x(t("div",Zt,[o(Jt,{songs:e.currentPlayMusic,currentTime:e.currentTime,duration:e.duration},null,8,["songs","currentTime","duration"])],512),[[I,s(d)==!0]]),x(t("div",eo,[e.lyric.length!==0?(c(),_("div",to,[(c(!0),_(V,null,T(e.lyric,y=>(c(),_("p",{class:X(["lyric-item",{lyricActive:e.currentTime>=y.time&&e.currentTime<=y.next}])},g(y.lyric),3))),256))])):(c(),_("div",oo,so))],512),[[I,s(h)==!0]]),t("div",{class:"close",onClick:v[1]||(v[1]=y=>P(l)?l.value=!1:l=!1)},[o($,{theme:"filled",size:"40",class:"downIcon"})]),t("div",{class:"switch",onClick:m},[o(b,{theme:"filled",size:"25",class:"switchIcon"})])])],!0)]),_:3},8,["modelValue","size"])])}}},ao=M(no,[["__scopeId","data-v-da408d66"]]);const ue=e=>(j("data-v-d4906b08"),e=e(),O(),e),io={class:"title"},co=ue(()=>t("div",{class:"large-title"},"\u64AD\u653E\u5217\u8868",-1)),ro={class:"small-title"},uo=ue(()=>t("span",null,"\u6E05\u7A7A",-1)),_o=["onDblclick"],mo={class:"img"},po={alt:"\u52A0\u8F7D\u4E2D..."},vo={class:"detail"},ho={class:"author"},fo={class:"duration"},yo={__name:"MusicListIcon",props:{myData:{type:Array,default:()=>[]},size:{type:Number,default:()=>300},iconSize:{type:String,default:()=>"38"},currentPlayMusic:{type:Object,default:()=>{}}},emits:["dblclickChild","clearChild"],setup(e,{emit:n}){let l=S(!1);function r(u){let m=Math.floor(u/1e3%60),a=Math.floor(u/1e3/60);return`${a<10?"0"+a:a}:${m<10?"0"+m:m}`}function d(u){n("dblclickChild",u)}function h(){n("clearChild")}return(u,m)=>{const a=i("icon-music-list"),v=i("el-badge"),$=i("icon-delete"),b=i("el-drawer"),f=Se("img-lazy");return c(),_("div",null,[o(v,{value:e.myData.length,hidden:e.myData.length==0},{default:k(()=>[o(a,{class:"musicList",theme:"outline",size:e.iconSize,strokeWidth:3,title:"\u6B4C\u66F2\u5217\u8868",onClick:m[0]||(m[0]=y=>P(l)?l.value=!0:l=!0)},null,8,["size"])]),_:1},8,["value","hidden"]),o(b,{modelValue:s(l),"onUpdate:modelValue":m[1]||(m[1]=y=>P(l)?l.value=y:l=y),direction:"rtl",size:e.size,"with-header":!1},{default:k(()=>[K(u.$slots,"header",{},()=>[t("div",io,[co,t("div",ro,[t("span",null,"\u5171"+g(e.myData.length)+"\u9996\u6B4C\u66F2",1),t("div",{class:"icon",onClick:h},[o($,{theme:"outline",size:"14",strokeWidth:4,title:"\u6E05\u7A7A"}),uo])])])],!0),K(u.$slots,"default",{},()=>[(c(!0),_(V,null,T(e.myData,y=>(c(),_("div",{onDblclick:D=>d(y),class:X(["card",e.currentPlayMusic.id==y.id?"active":""]),key:y.id},[t("div",mo,[x(t("img",po,null,512),[[f,y.al.picUrl+"?param=40y40"]])]),t("div",vo,[t("span",null,g(y.name),1),t("div",ho,[(c(!0),_(V,null,T(y.ar,D=>(c(),_("span",{key:D.id},g(D.name),1))),128))])]),t("div",fo,g(r(y.dt)),1)],42,_o))),128))],!0)]),_:3},8,["modelValue","size"])])}}},ae=M(yo,[["__scopeId","data-v-d4906b08"]]);const go={class:"palyer"},$o=["src"],ko={class:"group"},bo={class:"detail"},wo={class:"info"},So={class:"top"},Co={class:"bottom"},zo={class:"button"},xo={class:"list hidden-less-1000"},Io={__name:"footer",setup(e){const{currentPlayMusic:n,toPlayList:l,lyric:r,audioStatus:d}=Z(se()),{change_playMusic:h,clear_toPlayList:u,pre_music:m,next_music:a}=se();function v(L){h(L)}function $(){G(),u()}const b=Ce(()=>n.value.id);Q(b,()=>{console.log("\u6B4C\u66F2id\u53D1\u751F\u53D8\u5316",b.value),A()});const f=S(""),y=S("");let D=S(0),N=S(0),W=S(0),z=S(!1),p=S(!0);function q(){p.value=!1,z.value=!0}function B(){p.value=!0,z.value=!1}function A(){d.value=!0,setTimeout(()=>{f.value.play().then(()=>{console.log("\u64AD\u653E\u6210\u529F"),d.value=!0}).catch(L=>{console.log("\u64AD\u653E\u51FA\u9519",L),d.value=!1,f.value.currentTime=0,ce({showClose:!0,message:"\u6CA1\u6709\u64AD\u653E\u6743\u9650",type:"error"})})},500)}function G(){d.value=!1,f.value.pause()}function C(L){f.value.volume=L/100}function w(){f.value.currentTime=Number(W.value*f.value.duration/100)}function H(L){if(L==0||window.isNaN(L))return"00:00";let U=Math.floor(L%60),R=Math.floor(L/60);return`${R<10?"0"+R:R}:${U<10?"0"+U:U}`}function oe(){f.value.autoplay=!1,f.value.controls=!1,f.value.volume=.5}return te(()=>{oe(),f.value.ontimeupdate=function(){W.value=Number(f.value.currentTime/f.value.duration*100),D.value=parseInt(f.value.currentTime),N.value=f.value.duration},f.value.onended=function(){d.value=!1,console.log("\u64AD\u653E\u7ED3\u675F"),l.value.length!==0&&z.value==!0&&A(),l.value.length-1!==0&&p.value==!0&&a()}}),(L,U)=>{const R=i("el-slider"),de=i("icon-play-once"),_e=i("icon-play-cycle"),me=i("icon-go-start"),pe=i("icon-play"),ve=i("icon-pause-one"),he=i("icon-go-end"),fe=i("icon-text-message");return c(),_("div",go,[t("audio",{type:"file",ref_key:"audio",ref:f,src:`https://music.163.com/song/media/outer/url?id=${s(b)}.mp3`,preload:"metadata"},"\u60A8\u7684\u6D4F\u89C8\u5668\u4E0D\u652F\u6301audio\u6807\u7B7E,\u60A8\u8FD8\u662F\u6362\u4E2A\u6D4F\u89C8\u5668\u5427",8,$o),o(R,{ref_key:"progressBar",ref:y,modelValue:s(W),"onUpdate:modelValue":U[0]||(U[0]=F=>P(W)?W.value=F:W=F),onInput:w,"show-tooltip":!1},null,8,["modelValue"]),t("div",ko,[t("div",bo,[o(ao,{lyric:s(r),currentTime:f.value.currentTime,duration:f.value.duration,currentPlayMusic:s(n)},null,8,["lyric","currentTime","duration","currentPlayMusic"]),t("div",wo,[t("p",So,g(s(n).name),1),t("div",Co,[(c(!0),_(V,null,T(s(n).ar,F=>(c(),_("a",{key:F.name},g(F.name),1))),128))])])]),t("div",zo,[x(o(de,{class:"hidden-less-600",theme:"outline",size:"22",strokeWidth:2,title:"\u987A\u5E8F\u64AD\u653E",onClick:q},null,512),[[I,s(p)===!0]]),x(o(_e,{class:"hidden-less-600",theme:"outline",size:"22",strokeWidth:2,title:"\u5FAA\u73AF\u64AD\u653E",onClick:B},null,512),[[I,s(z)===!0]]),o(me,{class:"hidden-less-600",theme:"outline",size:"28",strokeWidth:4,title:"\u4E0A\u4E00\u9996",onClick:U[1]||(U[1]=F=>s(m)())}),x(o(pe,{style:{color:"#34d399"},theme:"filled",size:"38",strokeWidth:2,title:"\u70B9\u51FB\u64AD\u653E",onClick:A},null,512),[[I,s(d)===!1]]),x(o(ve,{style:{color:"#34d399"},theme:"filled",size:"38",strokeWidth:2,title:"\u70B9\u51FB\u6682\u505C",onClick:G},null,512),[[I,s(d)===!0]]),o(he,{class:"hidden-less-600",theme:"outline",size:"28",strokeWidth:4,title:"\u4E0B\u4E00\u9996",onClick:U[2]||(U[2]=F=>s(a)())}),o(Pt,{onVolumeEmit:C}),o(ae,{myData:s(l),currentPlayMusic:s(n),onDblclickChild:v,onClearChild:$,class:"hidden-more-600"},null,8,["myData","currentPlayMusic"])]),t("div",xo,[t("p",null,g(H(s(D)))+" / "+g(H(s(N))),1),o(fe,{theme:"outline",size:"22",strokeWidth:3,title:"\u6B4C\u66F2\u8BC4\u8BBA"}),o(ae,{myData:s(l),currentPlayMusic:s(n),onDblclickChild:v,onClearChild:$,iconSize:"24"},null,8,["myData","currentPlayMusic"])])])])}}},Do=M(Io,[["__scopeId","data-v-62059c1d"]]);const Vo={class:"common-layout"},To={__name:"index",setup(e){return(n,l)=>{const r=i("el-scrollbar"),d=i("el-aside"),h=i("el-header"),u=i("router-view"),m=i("el-main"),a=i("el-backtop"),v=i("el-footer"),$=i("el-container");return c(),_("div",Vo,[o($,null,{default:k(()=>[o(d,{width:"240px"},{default:k(()=>[o(r,null,{default:k(()=>[o(re)]),_:1})]),_:1}),o($,null,{default:k(()=>[o(h,null,{default:k(()=>[o(xt)]),_:1}),o(m,{id:"myMain"},{default:k(()=>[o(u,null,{default:k(({Component:b})=>[o(ze,{name:"slide-fade"},{default:k(()=>[(c(),E(ee(b)))]),_:2},1024)]),_:1})]),_:1}),o(a,{bottom:100,target:"#myMain"}),o(v,null,{default:k(()=>[o(Do)]),_:1})]),_:1})]),_:1})])}}},No=M(To,[["__scopeId","data-v-d65401a6"]]);export{No as default};
