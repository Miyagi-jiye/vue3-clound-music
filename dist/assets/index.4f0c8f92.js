import{r as w,a as c,o as i,c as m,b as t,u as a,d as N,e as J,f as s,g as te,w as y,n as G,i as M,h as oe,j as he,E as R,p as q,k as K,l as ne,F as P,m as V,t as k,q as O,s as A,v as fe,x as ye,y as ge,z as ke,A as ae,B as $e,C as Q,S as we,D as be,G as T,H as W,I as Ce,J as j,K as Se,L as ze,M as ee,T as Ie,N as xe}from"./index.5ccd2579.js";import{_ as L}from"./_plugin-vue_export-helper.cdc0426e.js";import{p as De}from"./playCountFilter.21fdfcbf.js";const Pe={__name:"FullScreenButton",props:{iconSize:{type:String,default:()=>"20"}},setup(e){let o=w(!1);const n=()=>{document.fullscreenElement?(document.exitFullscreen(),o.value=!1):(document.documentElement.requestFullscreen(),o.value=!0)};return(r,p)=>{const h=c("icon-off-screen"),_=c("icon-full-screen");return i(),m("div",null,[t("div",{onClick:n,class:"icon-hover"},[a(o)?(i(),N(h,{key:0,theme:"outline",size:e.iconSize,title:"\u9000\u51FA\u5168\u5C4F"},null,8,["size"])):(i(),N(_,{key:1,theme:"outline",size:e.iconSize,title:"\u70B9\u51FB\u5168\u5C4F"},null,8,["size"]))])])}}},Ve=L(Pe,[["__scopeId","data-v-640c80d9"]]);const Te={class:"goBack"},Me={__name:"DirectionIcon",setup(e){const o=J();return(n,r)=>{const p=c("icon-left"),h=c("icon-right");return i(),m("div",Te,[s(p,{theme:"outline",size:"26",strokeWidth:2,onClick:r[0]||(r[0]=_=>a(o).back())}),s(h,{theme:"outline",size:"26",strokeWidth:2,onClick:r[1]||(r[1]=_=>a(o).forward())})])}}},Le=L(Me,[["__scopeId","data-v-c491a6dc"]]);const We=e=>(q("data-v-2d95a48f"),e=e(),K(),e),Ne=We(()=>t("a",null,"\u70B9\u51FB\u767B\u5F55",-1)),Ue=["id"],He={class:"login-form"},Fe=oe("\u767B\u5F55"),Be={__name:"LoginDialog",setup(e){J();let o=w(!1),n=te({username:"",password:""}),r=w(!1);const p=w(null);let h=te({username:[{required:!0,message:"\u8BF7\u8F93\u5165\u8D26\u53F7",trigger:"blur"},{min:11,max:11,message:"\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u624B\u673A\u53F7\u7801",trigger:"blur"}],password:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801",trigger:"blur"},{min:6,max:16,message:"\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u5BC6\u7801",trigger:"blur"}]});const _=()=>{o.value=!0},l=()=>{p.value.validate(u=>{if(u)r.value=!0,he(n.username,n.password).then(d=>{console.log("\u83B7\u53D6\u767B\u5F55\u4FE1\u606F",d.data),d.data.code==502?R({showClose:!0,grouping:!0,message:d.data.msg||"\u767B\u5F55\u5931\u8D25",type:"error"}):(R({showClose:!0,grouping:!0,message:d.data.msg||"\u767B\u5F55\u6210\u529F",type:"success"}),d.data.token&&localStorage.setItem("token",JSON.stringify(d.data.token)),d.data.cookie&&localStorage.setItem("cookie",JSON.stringify(d.data.cookie)))}).catch(d=>{console.log(d)}).finally(()=>{r.value=!1});else return console.log("\u8868\u5355\u9A8C\u8BC1\u4E0D\u901A\u8FC7"),!1})};return(u,d)=>{const $=c("el-avatar"),g=c("el-input"),I=c("el-form-item"),v=c("el-form"),x=c("el-button"),U=c("el-dialog");return i(),m("div",null,[t("div",{class:"avatar hidden-less-600",onClick:_},[s($,{size:32,src:"https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png"}),Ne]),s(U,{modelValue:a(o),"onUpdate:modelValue":d[2]||(d[2]=D=>M(o)?o.value=D:o=D),title:"Tips",width:"300px"},{header:y(({close:D,titleId:C,titleClass:f})=>[t("h4",{id:C,class:G(f)},"\u767B\u5F55",10,Ue)]),footer:y(()=>[s(x,{class:"loginBtn",type:"primary",onClick:l,loading:a(r)},{default:y(()=>[Fe]),_:1},8,["loading"])]),default:y(()=>[t("div",He,[s(v,{model:a(n),rules:a(h),ref_key:"loginFormRef",ref:p},{default:y(()=>[s(I,{prop:"username"},{default:y(()=>[s(g,{modelValue:a(n).username,"onUpdate:modelValue":d[0]||(d[0]=D=>a(n).username=D),"prefix-icon":"Cellphone",placeholder:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7\u7801"},null,8,["modelValue"])]),_:1}),s(I,{prop:"password"},{default:y(()=>[s(g,{modelValue:a(n).password,"onUpdate:modelValue":d[1]||(d[1]=D=>a(n).password=D),type:"password","prefix-icon":"Lock",placeholder:"\u8BF7\u8F93\u5165\u767B\u5F55\u5BC6\u7801"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])])]),_:1},8,["modelValue"])])}}},Ee=L(Be,[["__scopeId","data-v-2d95a48f"]]);const Ae={class:"group-titlle"},qe=["onClick"],Ke={__name:"menu",setup(e){const o=J(),n=ne();let r=w(n.path);const p=te([{id:1,groupName:"\u5728\u7EBF\u97F3\u4E50",children:[{name:"\u63A8\u8350",icon:"icon-planet",path:"/discover"},{name:"\u97F3\u4E50\u9986",icon:"icon-music",path:"/music"},{name:"\u89C6\u9891",icon:"icon-video-one",path:"/video"},{name:"\u7535\u53F0",icon:"icon-fm",path:"/dj"}]},{id:2,groupName:"\u6211\u7684\u97F3\u4E50",children:[{name:"\u6211\u559C\u6B22",icon:"icon-like"},{name:"\u672C\u5730\u6B4C\u66F2",icon:"icon-computer"},{name:"\u4E0B\u8F7D\u6B4C\u66F2",icon:"icon-download-three"},{name:"\u6700\u8FD1\u64AD\u653E",icon:"icon-play-two"}]}]),h=_=>{r.value=_.path,console.log(_.path),_.path?o.push(_.path):R.error("\u6682\u65E0\u8BE5\u8DEF\u5F84")};return(_,l)=>(i(),m("div",null,[(i(!0),m(P,null,V(p,u=>(i(),m("div",{class:"group",key:u.id},[t("p",Ae,k(u.groupName),1),(i(!0),m(P,null,V(u.children,d=>(i(),m("div",{class:G(["group-item",a(r)==d.path?"active":""]),key:d.path,onClick:$=>h(d)},[(i(),N(O(d.icon),{theme:"outline",size:"22",strokeWidth:2})),t("span",null,k(d.name),1)],10,qe))),128))]))),128))]))}},ie=L(Ke,[["__scopeId","data-v-ad62ffaa"]]);const Re=e=>(q("data-v-295b632a"),e=e(),K(),e),Oe={class:"header"},je=Re(()=>t("div",{class:"title"},"\u5BFC\u822A\u83DC\u5355",-1)),Je={class:"content"},Ge={__name:"HamburgerIcon",props:{myData:{type:Array,default:()=>[]},size:{type:String,default:()=>"50%"},iconSize:{type:String,default:()=>"28"}},setup(e){let o=w(!1);return(n,r)=>{const p=c("icon-hamburger-button"),h=c("icon-close"),_=c("el-scrollbar"),l=c("el-drawer");return i(),m("div",null,[s(p,{class:"hamburgerIcon",theme:"outline",size:e.iconSize,strokeWidth:2,onClick:r[0]||(r[0]=u=>M(o)?o.value=!0:o=!0)},null,8,["size"]),s(l,{modelValue:a(o),"onUpdate:modelValue":r[2]||(r[2]=u=>M(o)?o.value=u:o=u),direction:"rtl",size:e.size,"with-header":!1},{default:y(()=>[s(_,null,{default:y(()=>[A(n.$slots,"header",{},()=>[t("div",Oe,[je,s(h,{theme:"outline",size:"20",title:"\u5173\u95ED",class:"close",onClick:r[1]||(r[1]=u=>M(o)?o.value=!1:o=!1)})])],!0),A(n.$slots,"default",{},()=>[t("div",Je,[s(ie)])],!0)]),_:3})]),_:3},8,["modelValue","size"])])}}},Qe=L(Ge,[["__scopeId","data-v-295b632a"]]),se=fe("search",{state:()=>({showSearchView:!1,searchKeyword:"",suggestData:{},searchHot:[],searchData:null}),getters:{showHot:e=>e.searchKeyword==""},actions:{async get_searchSuggest(){const e=await ye(this.searchKeyword);this.suggestData=e.data.result,console.log("\u83B7\u53D6\u70ED\u95E8\u641C\u7D22-\u5EFA\u8BAE",e.data)},async get_searchHotDetail(){const e=await ge();this.searchHot=e.data.data,console.log("\u83B7\u53D6\u70ED\u95E8\u641C\u7D22-\u8BE6\u60C5",e.data)},async get_songDetail(e){const o=await ke(e);return console.log("\u83B7\u53D6\u6B4C\u66F2\u8BE6\u60C5",o.data),o.data.songs[0]}}});function Xe(e,o,n){let r=null;return function(){r&&clearTimeout(r),n==!0&&(e.apply(this,arguments),n=!1),r=setTimeout(()=>{e.apply(this,arguments)},o)}}const Ye=e=>(q("data-v-a967972d"),e=e(),K(),e),Ze={style:{height:"300px"}},et={key:0},tt=Ye(()=>t("div",{class:"searchTitle"},"\u70ED\u95E8\u641C\u7D22",-1)),ot=["onClick"],st={class:"hover"},lt={style:{"margin-right":"4px"}},nt={style:{color:"#fdb6b6"}},at={key:1},it={key:0},ct={class:"searchTitle"},rt=["onClick"],ut={style:{color:"#34d399"},class:"truncate"},dt={style:{"margin-left":"8px"},class:"truncate"},_t=["onClick"],mt={style:{color:"#34d399"},class:"truncate"},pt={style:{"margin-left":"8px"},class:"truncate"},vt=["onClick"],ht={style:{color:"#34d399","margin-left":"8px"},class:"truncate"},ft=["onClick"],yt={style:{color:"#34d399","margin-left":"8px"},class:"truncate"},gt={__name:"SearchPopover",setup(e){const{Playlist:o}=ae(),n=J(),{showSearchView:r,searchKeyword:p,showHot:h,searchHot:_,suggestData:l}=$e(se()),{get_searchSuggest:u,get_searchHotDetail:d,get_songDetail:$}=se(),g=(C,f)=>{n.push({name:C,params:{id:f}})},I=async C=>{await o.get_songlistDetail(C),await o.get_songlistComment(C),n.push({name:"playlist"}),r.value=!1},v=async C=>{const f=await $(C);o.change_playMusic(f),o.push_toPlayList(f)},x=async C=>{p.value=C,await u(),r.value=!0},U=C=>{switch(C){case"songs":return"\u5355\u66F2";case"albums":return"\u4E13\u8F91";case"artists":return"\u6B4C\u624B";case"playlists":return"\u6B4C\u5355";default:return C}},D=Xe(()=>{u()},1e3);return Q(async()=>{await d()}),(C,f)=>{const X=c("el-input"),F=c("el-avatar"),Y=c("el-scrollbar"),Z=c("el-popover");return i(),m("div",null,[s(Z,{visible:a(r),"onUpdate:visible":f[4]||(f[4]=S=>M(r)?r.value=S:null),placement:"bottom","popper-style":"max-width:auto;padding:0;",width:200},{reference:y(()=>[s(X,{modelValue:a(p),"onUpdate:modelValue":f[0]||(f[0]=S=>M(p)?p.value=S:null),placeholder:"\u641C\u7D22\u97F3\u4E50\u3001MV\u3001\u6B4C\u5355","prefix-icon":a(we),clearable:!0,onFocus:f[1]||(f[1]=S=>r.value=!0),onFocusout:f[2]||(f[2]=S=>r.value=!1),onInput:a(D),onKeyup:f[3]||(f[3]=be(S=>g("searchDetail",a(p)),["enter","native"]))},null,8,["modelValue","prefix-icon","onInput"])]),default:y(()=>[t("div",Ze,[s(Y,null,{default:y(()=>[a(h)?(i(),m("div",et,[tt,t("div",null,[(i(!0),m(P,null,V(a(_),(S,b)=>(i(),m("div",{key:S.searchWord,class:"hotItem",onClick:z=>x(S.searchWord)},[t("div",st,[t("span",lt,k(b+1)+".",1),t("span",null,k(S.searchWord),1)]),t("div",nt,k(a(De)(S.score)),1)],8,ot))),128))])])):(i(),m("div",at,[a(l)?(i(),m("div",it,[(i(!0),m(P,null,V(a(l).order,S=>(i(),m("div",null,[t("div",ct,k(U(S)),1),(i(!0),m(P,null,V(a(l).songs,b=>{var z;return T((i(),m("div",{key:b.id,class:"searchItem",onClick:H=>v(b.id)},[t("span",ut,k(b.name),1),t("span",dt," - "+k((z=b.artists.at(0))==null?void 0:z.name),1)],8,rt)),[[W,S==="songs"]])}),128)),(i(!0),m(P,null,V(a(l).albums,b=>T((i(),m("div",{key:b.id,class:"searchItem",onClick:z=>g("albumDetail",b.id)},[t("span",mt,k(b.name),1),t("span",pt," - "+k(b.artist.name),1)],8,_t)),[[W,S==="albums"]])),128)),(i(!0),m(P,null,V(a(l).artists,b=>T((i(),m("div",{key:b.id,class:"searchItem",onClick:z=>g("artistDetail",b.id)},[s(F,{size:"small",src:b.img1v1Url,class:"truncate"},null,8,["src"]),t("span",ht,k(b.name),1)],8,vt)),[[W,S==="artists"]])),128)),(i(!0),m(P,null,V(a(l).playlists,b=>T((i(),m("div",{key:b.id,class:"searchItem",onClick:z=>I(b.id)},[s(F,{size:"small",src:b.coverImgUrl,class:"truncate"},null,8,["src"]),t("div",yt,k(b.name),1)],8,ft)),[[W,S==="playlists"]])),128))]))),256))])):Ce("",!0)]))]),_:1})])]),_:1},8,["visible"])])}}},kt=L(gt,[["__scopeId","data-v-a967972d"]]);const $t={style:{width:"100%"}},wt={class:"header"},bt={class:"left"},Ct={class:"right"},St={__name:"header",setup(e){return(o,n)=>(i(),m("div",$t,[t("div",wt,[t("div",bt,[s(Le),s(kt)]),t("div",Ct,[s(Ee),s(Ve,{iconSize:"20"}),s(Qe,{iconSize:"28",class:"hidden-more-800"})])])]))}},zt=L(St,[["__scopeId","data-v-9d1877c0"]]);const It={class:"volumeIcon hidden-less-600"},xt={class:"hidden"},Dt={class:"volume"},Pt={__name:"VolumeIcon",emits:["volumeEmit"],setup(e,{emit:o}){let n=w(50);function r(){o("volumeEmit",n.value)}function p(){n.value=0,o("volumeEmit",0)}return Q(()=>{const h=document.querySelector(".volumeIcon"),_=document.querySelector(".hidden");w(!1);let l=w(null);_.onmouseenter=()=>{clearTimeout(l)},_.onmouseleave=()=>{_.style.display="none"},h.onmouseenter=()=>{clearTimeout(l),_.style.display="block"},h.onmouseleave=()=>{l=setTimeout(()=>{_.style.display="none"},500)}}),(h,_)=>{const l=c("el-slider");return i(),m("div",null,[t("div",It,[(i(),N(O(a(n)===0?"icon-volume-mute":a(n)==100?"icon-volume-notice":"icon-volume-small"),{theme:"outline",size:"22",strokeWidth:2,title:"\u97F3\u91CF",onDblclick:p},null,32))]),t("div",xt,[t("div",Dt,[s(l,{modelValue:a(n),"onUpdate:modelValue":_[0]||(_[0]=u=>M(n)?n.value=u:n=u),vertical:"",height:"100px","show-tooltip":!1,onInput:r},null,8,["modelValue"]),t("p",null,k(a(n)),1)])])])}}},Vt=L(Pt,[["__scopeId","data-v-c0f42af7"]]);const Tt={class:"lyricPlayer"},Mt={class:"cover"},Lt={class:"cover-container"},Wt=["src","alt"],Nt={class:"controls"},Ut={class:"top-part"},Ht={class:"track-info"},Ft={class:"title"},Bt={class:"subtitle"},Et={class:"like-icon"},At={class:"progress-bar"},qt={class:"time"},Kt={class:"time"},Rt={class:"media-controls"},Ot={__name:"LyricPlayer",props:{songs:{type:Object,default:()=>({al:{id:1234,name:"\u6B4C\u66F2",picUrl:"\u56FE\u7247\u94FE\u63A5",pic:"\u56FE\u7247id"},ar:[{id:1234,name:"\u6B4C\u624B"}]})},currentTime:{type:Number,default:()=>0},duration:{type:Number,default:()=>0}},emits:["emitPlayer"],setup(e,{emit:o}){const n=e;let r=w(!1);const p=l=>{l=="pause"&&(r.value=!1),l=="play"&&(r.value=!0),l=="pre"&&o("emitPlayer"),l=="next"&&o("emitPlayer"),l=="order"&&o("emitPlayer"),l=="cycle"&&o("emitPlayer")},h=w(0);j(()=>n.currentTime,()=>{isNaN(n.duration)!==!0&&(h.value=parseInt(n.currentTime/n.duration*100))});function _(l){if(l==0||window.isNaN(l))return"00:00";let u=Math.floor(l%60),d=Math.floor(l/60);return`${d<10?"0"+d:d}:${u<10?"0"+u:u}`}return(l,u)=>{const d=c("router-link"),$=c("icon-like"),g=c("el-progress"),I=c("icon-play-once"),v=c("icon-go-start"),x=c("icon-play-one"),U=c("icon-pause"),D=c("icon-go-end"),C=c("icon-play-cycle");return i(),m("div",Tt,[t("div",Mt,[t("div",Lt,[t("img",{src:e.songs.al.picUrl,alt:"\u6B4C\u66F2ID="+e.songs.al.id},null,8,Wt),t("div",{class:"shadow",style:Se({backgroundImage:"url("+e.songs.al.picUrl+")"})},null,4)])]),t("div",Nt,[t("div",Ut,[t("div",Ht,[t("div",Ft,[s(d,{to:{name:"albumDetail",params:{id:e.songs.al.id}}},{default:y(()=>[oe(k(e.songs.al.name),1)]),_:1},8,["to"])]),t("div",Bt,[(i(!0),m(P,null,V(e.songs.ar,f=>(i(),N(d,{key:f.id,to:{name:"artistDetail",params:{id:f.id}}},{default:y(()=>[oe(k(f.name),1)]),_:2},1032,["to"]))),128))])]),t("div",Et,[s($,{theme:"outline",size:"20"})])]),t("div",At,[t("span",qt,k(_(e.currentTime)),1),s(g,{percentage:h.value,"text-inside":!0,"show-text":!1,"stroke-width":6,class:"slider"},null,8,["percentage"]),t("span",Kt,k(_(e.duration)),1)]),t("div",Rt,[s(I,{theme:"outline",size:"16",strokeWidth:4,title:"\u987A\u5E8F\u64AD\u653E",onClick:u[0]||(u[0]=f=>p("order")),class:"icon-hover"}),s(v,{theme:"outline",size:"28",strokeWidth:4,title:"\u4E0A\u4E00\u9996",onClick:u[1]||(u[1]=f=>p("pre")),class:"icon-hover"}),T(s(x,{theme:"filled",size:"38",onClick:u[2]||(u[2]=f=>p("play")),strokeWidth:4,title:"\u70B9\u51FB\u64AD\u653E",class:"icon-hover"},null,512),[[W,a(r)===!1]]),T(s(U,{theme:"filled",size:"38",strokeWidth:4,onClick:u[3]||(u[3]=f=>p("pause")),title:"\u70B9\u51FB\u6682\u505C",class:"icon-hover"},null,512),[[W,a(r)===!0]]),s(D,{theme:"outline",size:"28",strokeWidth:4,title:"\u4E0B\u4E00\u9996",onClick:u[4]||(u[4]=f=>p("next")),class:"icon-hover"}),s(C,{theme:"outline",size:"16",strokeWidth:4,title:"\u5FAA\u73AF\u64AD\u653E",onClick:u[5]||(u[5]=f=>p("cycle")),class:"icon-hover"})])])])}}},jt=L(Ot,[["__scopeId","data-v-3caa4d29"]]);const Jt=e=>(q("data-v-22acf3f6"),e=e(),K(),e),Gt=["src"],Qt={class:"lyricDialog"},Xt={class:"left-side"},Yt={class:"right-side"},Zt={key:0,class:"lyric-container"},eo={key:1,class:"lyric-container"},to=Jt(()=>t("p",{class:"lyric-item lyricActive"},"\u6682\u65E0\u6B4C\u8BCD",-1)),oo=[to],so={class:"close"},lo={class:"switch"},no={__name:"LyricDialog",props:{currentPlayMusic:{type:Object,default:()=>({id:1,name:"\u6B4C\u66F2\u540D\u52A0\u5907\u6CE8()",ar:[{id:123456,name:"\u6B4C\u624B"}],al:{id:123456,name:"\u6B4C\u66F2",picUrl:"\u56FE\u7247\u94FE\u63A5"},dt:0})},size:{type:String,default:()=>"100%"},lyric:{type:Array,default:()=>[{time:0,lyric:"\u4F5C\u8BCD : ",next:9999}]},currentTime:{type:Number,default:()=>0},duration:{type:Number,default:()=>0}},setup(e){const o=e;let n=w(!1),r=w(0),p=w(!0),h=w(!0),_=0;const l=()=>{_++,_==1&&(p.value=!0,h.value=!0),_==2&&(p.value=!1,h.value=!0),_==3&&(p.value=!0,h.value=!1,_=0)};return Q(()=>{j(()=>o.currentTime,(u,d)=>{for(let $=0;$<o.lyric.length;$++)o.currentTime>=o.lyric[$].time&&o.currentTime<=o.lyric[$].next&&(r.value=$)}),j(()=>r.value,(u,d)=>{const $=document.querySelector(".lyricActive"),g=document.querySelector(".right-side");$&&g&&(g.scrollTop=$.offsetHeight*r.value-g.clientHeight/2)})}),(u,d)=>{const $=c("icon-down"),g=c("icon-app-switch"),I=c("el-drawer");return i(),m("div",null,[t("img",{src:e.currentPlayMusic.al.picUrl+"?param=50y50",fit:"cover",onClick:d[0]||(d[0]=v=>M(n)?n.value=!0:n=!0),class:"img"},null,8,Gt),s(I,{modelValue:a(n),"onUpdate:modelValue":d[2]||(d[2]=v=>M(n)?n.value=v:n=v),direction:"btt",size:e.size,"with-header":!1},{default:y(()=>[A(u.$slots,"default",{},()=>[t("div",Qt,[T(t("div",Xt,[s(jt,{songs:e.currentPlayMusic,currentTime:e.currentTime,duration:e.duration},null,8,["songs","currentTime","duration"])],512),[[W,a(p)==!0]]),T(t("div",Yt,[e.lyric.length!==0?(i(),m("div",Zt,[(i(!0),m(P,null,V(e.lyric,v=>(i(),m("p",{class:G(["lyric-item",{lyricActive:e.currentTime>=v.time&&e.currentTime<=v.next}])},k(v.lyric),3))),256))])):(i(),m("div",eo,oo))],512),[[W,a(h)==!0]]),t("div",so,[s($,{theme:"filled",size:"40",onClick:d[1]||(d[1]=v=>M(n)?n.value=!1:n=!1),class:"downIcon"})]),t("div",lo,[s(g,{theme:"filled",size:"25",onClick:l,class:"switchIcon"})])])],!0)]),_:3},8,["modelValue","size"])])}}},ao=L(no,[["__scopeId","data-v-22acf3f6"]]);const ce=e=>(q("data-v-d4906b08"),e=e(),K(),e),io={class:"title"},co=ce(()=>t("div",{class:"large-title"},"\u64AD\u653E\u5217\u8868",-1)),ro={class:"small-title"},uo=ce(()=>t("span",null,"\u6E05\u7A7A",-1)),_o=["onDblclick"],mo={class:"img"},po={alt:"\u52A0\u8F7D\u4E2D..."},vo={class:"detail"},ho={class:"author"},fo={class:"duration"},yo={__name:"MusicListIcon",props:{myData:{type:Array,default:()=>[]},size:{type:Number,default:()=>300},iconSize:{type:String,default:()=>"38"},currentPlayMusic:{type:Object,default:()=>{}}},emits:["dblclickChild","clearChild"],setup(e,{emit:o}){let n=w(!1);function r(_){let l=Math.floor(_/1e3%60),u=Math.floor(_/1e3/60);return`${u<10?"0"+u:u}:${l<10?"0"+l:l}`}function p(_){o("dblclickChild",_)}function h(){o("clearChild")}return(_,l)=>{const u=c("icon-music-list"),d=c("el-badge"),$=c("icon-delete"),g=c("el-drawer"),I=ze("img-lazy");return i(),m("div",null,[s(d,{value:e.myData.length,hidden:e.myData.length==0},{default:y(()=>[s(u,{class:"musicList",theme:"outline",size:e.iconSize,strokeWidth:3,title:"\u6B4C\u66F2\u5217\u8868",onClick:l[0]||(l[0]=v=>M(n)?n.value=!0:n=!0)},null,8,["size"])]),_:1},8,["value","hidden"]),s(g,{modelValue:a(n),"onUpdate:modelValue":l[1]||(l[1]=v=>M(n)?n.value=v:n=v),direction:"rtl",size:e.size,"with-header":!1},{default:y(()=>[A(_.$slots,"header",{},()=>[t("div",io,[co,t("div",ro,[t("span",null,"\u5171"+k(e.myData.length)+"\u9996\u6B4C\u66F2",1),t("div",{class:"icon",onClick:h},[s($,{theme:"outline",size:"14",strokeWidth:4,title:"\u6E05\u7A7A"}),uo])])])],!0),A(_.$slots,"default",{},()=>[(i(!0),m(P,null,V(e.myData,v=>(i(),m("div",{onDblclick:x=>p(v),class:G(["card",e.currentPlayMusic.id==v.id?"active":""]),key:v.id},[t("div",mo,[T(t("img",po,null,512),[[I,v.al.picUrl+"?param=40y40"]])]),t("div",vo,[t("span",null,k(v.name),1),t("div",ho,[(i(!0),m(P,null,V(v.ar,x=>(i(),m("span",{key:x.id},k(x.name),1))),128))])]),t("div",fo,k(r(v.dt)),1)],42,_o))),128))],!0)]),_:3},8,["modelValue","size"])])}}},le=L(yo,[["__scopeId","data-v-d4906b08"]]);const go={class:"palyer"},ko=["src"],$o={class:"group"},wo={class:"detail"},bo={class:"info"},Co={class:"top"},So={class:"bottom"},zo={class:"button"},Io={class:"list hidden-less-1000"},xo={__name:"footer",setup(e){const{Playlist:o}=ae();function n(z){o.change_playMusic(z)}function r(){f(),o.clear_toPlayList()}const p=ee(()=>o.currentPlayMusic.id),h=ee(()=>o.toPlayList),_=ee(()=>o.currentPlayMusic);j(p,()=>{console.log("\u6B4C\u66F2id\u53D1\u751F\u53D8\u5316",p.value),C()});const l=w(""),u=w("");let d=w(0),$=w(0),g=w(!1),I=w(0),v=w(!1),x=w(!0);function U(){x.value=!1,v.value=!0}function D(){x.value=!0,v.value=!1}function C(){g.value=!0,setTimeout(()=>{l.value.play().then(()=>{console.log("\u64AD\u653E\u6210\u529F"),g.value=!0}).catch(z=>{console.log("\u64AD\u653E\u51FA\u9519",z),g.value=!1,l.value.currentTime=0,R({showClose:!0,message:"\u6CA1\u6709\u64AD\u653E\u6743\u9650",type:"error"})})},500)}function f(){g.value=!1,l.value.pause()}function X(){o.pre_music()}function F(){o.next_music()}function Y(z){l.value.volume=z/100}function Z(){l.value.currentTime=Number(I.value*l.value.duration/100)}function S(z){if(z==0||window.isNaN(z))return"00:00";let H=Math.floor(z%60),B=Math.floor(z/60);return`${B<10?"0"+B:B}:${H<10?"0"+H:H}`}function b(){l.value.autoplay=!1,l.value.controls=!1,l.value.volume=.5}return Q(()=>{b(),l.value.ontimeupdate=function(){I.value=Number(l.value.currentTime/l.value.duration*100),d.value=parseInt(l.value.currentTime),$.value=l.value.duration},l.value.onended=function(){g.value=!1,console.log("\u64AD\u653E\u7ED3\u675F"),o.toPlayList.length!==0&&v.value==!0&&C(),o.toPlayList.length-1!==0&&x.value==!0&&F()}}),(z,H)=>{const B=c("el-slider"),re=c("icon-play-once"),ue=c("icon-play-cycle"),de=c("icon-go-start"),_e=c("icon-play"),me=c("icon-pause-one"),pe=c("icon-go-end"),ve=c("icon-text-message");return i(),m("div",go,[t("audio",{type:"file",ref_key:"audio",ref:l,src:`https://music.163.com/song/media/outer/url?id=${a(p)}.mp3`,preload:"metadata"},"\u60A8\u7684\u6D4F\u89C8\u5668\u4E0D\u652F\u6301audio\u6807\u7B7E,\u60A8\u8FD8\u662F\u6362\u4E2A\u6D4F\u89C8\u5668\u5427",8,ko),s(B,{ref_key:"progressBar",ref:u,modelValue:a(I),"onUpdate:modelValue":H[0]||(H[0]=E=>M(I)?I.value=E:I=E),onInput:Z,"show-tooltip":!1},null,8,["modelValue"]),t("div",$o,[t("div",wo,[s(ao,{lyric:a(o).lyric,currentTime:l.value.currentTime,duration:l.value.duration,currentPlayMusic:a(o).currentPlayMusic},null,8,["lyric","currentTime","duration","currentPlayMusic"]),t("div",bo,[t("p",Co,k(a(o).currentPlayMusic.al.name),1),t("div",So,[(i(!0),m(P,null,V(a(o).currentPlayMusic.ar,E=>(i(),m("a",{key:E.name},k(E.name),1))),128))])])]),t("div",zo,[T(s(re,{class:"hidden-less-600",theme:"outline",size:"22",strokeWidth:2,title:"\u987A\u5E8F\u64AD\u653E",onClick:U},null,512),[[W,a(x)===!0]]),T(s(ue,{class:"hidden-less-600",theme:"outline",size:"22",strokeWidth:2,title:"\u5FAA\u73AF\u64AD\u653E",onClick:D},null,512),[[W,a(v)===!0]]),s(de,{class:"hidden-less-600",theme:"outline",size:"28",strokeWidth:4,title:"\u4E0A\u4E00\u9996",onClick:X}),T(s(_e,{style:{color:"#34d399"},theme:"filled",size:"38",strokeWidth:2,title:"\u70B9\u51FB\u64AD\u653E",onClick:C},null,512),[[W,a(g)===!1]]),T(s(me,{style:{color:"#34d399"},theme:"filled",size:"38",strokeWidth:2,title:"\u70B9\u51FB\u6682\u505C",onClick:f},null,512),[[W,a(g)===!0]]),s(pe,{class:"hidden-less-600",theme:"outline",size:"28",strokeWidth:4,title:"\u4E0B\u4E00\u9996",onClick:F}),s(Vt,{onVolumeEmit:Y}),s(le,{myData:a(h),currentPlayMusic:a(_),onDblclickChild:n,onClearChild:r,class:"hidden-more-600"},null,8,["myData","currentPlayMusic"])]),t("div",Io,[t("p",null,k(S(a(d)))+" / "+k(S(a($))),1),s(ve,{theme:"outline",size:"22",strokeWidth:3,title:"\u6B4C\u66F2\u8BC4\u8BBA"}),s(le,{myData:a(h),currentPlayMusic:a(_),onDblclickChild:n,onClearChild:r,iconSize:"24"},null,8,["myData","currentPlayMusic"])])])])}}},Do=L(xo,[["__scopeId","data-v-3a8514a9"]]);const Po={class:"common-layout"},Vo={__name:"index",setup(e){const o=ne();return(n,r)=>{const p=c("el-scrollbar"),h=c("el-aside"),_=c("el-header"),l=c("router-view"),u=c("el-main"),d=c("el-footer"),$=c("el-container");return i(),m("div",Po,[s($,null,{default:y(()=>[s(h,{width:"240px"},{default:y(()=>[s(p,null,{default:y(()=>[s(ie)]),_:1})]),_:1}),s($,null,{default:y(()=>[s(_,null,{default:y(()=>[s(zt)]),_:1}),s(u,null,{default:y(()=>[s(Ie,{name:"slide-fade"},{default:y(()=>[a(o).meta.keepAlive?(i(),N(xe,{key:0},[s(p,null,{default:y(()=>[s(l,null,{default:y(({Component:g})=>[(i(),N(O(g)))]),_:1})]),_:1})],1024)):(i(),N(p,{key:1},{default:y(()=>[s(l,null,{default:y(({Component:g})=>[(i(),N(O(g)))]),_:1})]),_:1}))]),_:1})]),_:1}),s(d,null,{default:y(()=>[s(Do)]),_:1})]),_:1})]),_:1})])}}},Wo=L(Vo,[["__scopeId","data-v-653978fd"]]);export{Wo as default};
