import{M as D}from"./MoreText.0d3f945e.js";import{_ as y}from"./_plugin-vue_export-helper.cdc0426e.js";import{o as r,b as d,e as o,t as i,F as S,q as k,f as C,J as v,x as M,a2 as T,a3 as A,r as w,g as V,m as B,C as R,K as F,a as f,u as n,d as c,w as _,i as H}from"./index.cae8d7ff.js";import{S as I}from"./songComments.f02c70a4.js";import{S as L}from"./songList.b81b643b.js";const N={class:"info"},U={class:"flex"},$={class:"left"},z=["src"],Y={class:"right"},j={class:"title"},q={class:"alias"},E={class:"box"},J={class:"description"},K={__name:"info",props:{album:{type:Object,default:()=>({name:"\u4E13\u8F91\u540D",picUrl:"",subType:"\u97F3\u6E90",company:"\u7248\u6743",artists:[{name:"\u6B4C\u624B"}],publishTime:123456})}},setup(t){function s(a){a=a||null;let e=new Date(a),l=e.getFullYear()+"-",u=(e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+"-",m=(e.getDate()<10?"0"+e.getDate():e.getDate())+" ";return(e.getHours()<10?"0"+e.getHours():e.getHours())+"",(e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes())+"",e.getSeconds()<10?""+e.getSeconds():e.getSeconds(),l+u+m}return(a,e)=>(r(),d("div",N,[o("div",U,[o("div",$,[o("img",{src:t.album.picUrl+"?param=180y180",alt:"\u5C01\u9762"},null,8,z)]),o("div",Y,[o("p",j,i(t.album.name),1),o("div",q,[(r(!0),d(S,null,k(t.album.artists,l=>(r(),d("p",null,i(l.name),1))),256))]),o("div",E,[o("p",null,"\u53D1\u5E03\u65F6\u95F4\uFF1A"+i(s(t.album.publishTime)),1),o("p",null,"\u97F3\u6E90\uFF1A"+i(t.album.subType),1),o("p",null,"\u7248\u6743\uFF1A"+i(t.album.company),1)]),o("div",J,[t.album.description?(r(),C(D,{key:0,text:t.album.description,end:90},null,8,["text"])):v("",!0)])])])]))}},O=y(K,[["__scopeId","data-v-8ea1592c"]]),h=M("albumDetail",{state:()=>({commentAlbum:{},album:{}}),getters:{},actions:{async get_commentAlbum(t){const s=await T(t);this.commentAlbum=s.data,console.log("\u83B7\u53D6\u4E13\u8F91\u8BC4\u8BBA",s.data)},async get_album(t){const s=await A(t);this.album=s.data,console.log("\u83B7\u53D6\u4E13\u8F91\u8BE6\u60C5",s.data)}}});const G={key:0,class:"albumDetail"},P={__name:"index",setup(t){let s=w("tracks");V();const a=B(),{get_album:e,get_commentAlbum:l}=h(),{commentAlbum:u,album:m}=R(h());return e(a.params.id),l(a.params.id),F(()=>a.params.id,()=>{a.name=="albumDetail"&&(e(a.params.id),l(a.params.id))}),(Q,b)=>{const g=f("el-tab-pane"),x=f("el-tabs");return n(m).songs?(r(),d("div",G,[c(O,{album:n(m).album,class:"info"},null,8,["album"]),c(x,{modelValue:n(s),"onUpdate:modelValue":b[0]||(b[0]=p=>H(s)?s.value=p:s=p),class:"tab"},{default:_(()=>[c(g,{lazy:"",label:`\u6B4C\u66F2 ${n(m).songs.length}`,name:"tracks"},{default:_(()=>[c(L,{tracks:n(m).songs,options:1,class:"songList"},null,8,["tracks"])]),_:1},8,["label"]),c(g,{lazy:"",label:`\u8BC4\u8BBA ${n(u).total}`,name:"comments"},{default:_(()=>[c(I,{comments:n(u).comments,hotComments:n(u).hotComments,class:"comment"},null,8,["comments","hotComments"])]),_:1},8,["label"])]),_:1},8,["modelValue"])])):v("",!0)}}},se=y(P,[["__scopeId","data-v-853e1fe5"]]);export{se as default};
