import{P as L}from"./pagination.655b8d3e.js";import{_ as G,i as M,r as V,o as n,c as v,k as c,F as T,A as h,B as g,j as r,p as k,t as C,n as R,I as N,e as O,s as U,a as d,b as f}from"./index.73b18d4c.js";import{M as E}from"./mv.5a545d00.js";import{_ as F,$ as I,a0 as S,a1 as w,a2 as j}from"./index.35df902d.js";import"./playCountFilter.21fdfcbf.js";const q={class:"filter"},H={class:"top"},J={class:"area"},K={class:"type"},Q={class:"order"},W={__name:"filter",emits:["clickEmit"],setup(a,{emit:e}){const o=M({type:"\u5168\u90E8",area:"\u5168\u90E8",order:"\u4E0A\u5347\u6700\u5FEB"}),l=M({type:[{name:"\u5168\u90E8"},{name:"\u5B98\u65B9\u7248"},{name:"\u539F\u58F0"},{name:"\u73B0\u573A\u7248"},{name:"\u7F51\u6613\u51FA\u54C1"}],area:[{name:"\u5168\u90E8"},{name:"\u5185\u5730"},{name:"\u6E2F\u53F0"},{name:"\u6B27\u7F8E"},{name:"\u65E5\u672C"},{name:"\u97E9\u56FD"}],order:[{name:"\u4E0A\u5347\u6700\u5FEB"},{name:"\u6700\u70ED"},{name:"\u6700\u65B0"}]});function _(s){o.type=s,e("clickEmit",o)}function y(s){o.area=s,e("clickEmit",o)}function i(s){o.order=s,e("clickEmit",o)}return(s,A)=>{const m=V("el-button");return n(),v("div",q,[c("div",H,[c("div",J,[(n(!0),v(T,null,h(l.area,t=>(n(),g(m,{round:"",size:"small",class:R(["type-item",{active:o.area==t.name}]),onClick:u=>y(t.name)},{default:r(()=>[k(C(t.name),1)]),_:2},1032,["class","onClick"]))),256))]),c("div",K,[(n(!0),v(T,null,h(l.type,t=>(n(),g(m,{round:"",size:"small",class:R(["type-item",{active:o.type==t.name}]),onClick:u=>_(t.name)},{default:r(()=>[k(C(t.name),1)]),_:2},1032,["class","onClick"]))),256))]),c("div",Q,[(n(!0),v(T,null,h(l.order,t=>(n(),g(m,{round:"",size:"small",class:R(["type-item",{active:o.order==t.name}]),onClick:u=>i(t.name)},{default:r(()=>[k(C(t.name),1)]),_:2},1032,["class","onClick"]))),256))])])])}}},X=G(W,[["__scopeId","data-v-e2254137"]]),D=N("video",{state:()=>({videoTimelineRecommend:[],videoTimelineRecommendOffset:0,mvAll:[],mvTotal:100,mvAllParams:{type:"\u5168\u90E8",area:"\u5168\u90E8",order:"\u4E0A\u5347\u6700\u5FEB",limit:20,offset:1}}),getters:{},actions:{async get_videoGroupList(){const a=await F();this.videoGroupList=a.data.data,console.log("\u83B7\u53D6\u89C6\u9891\u6807\u7B7E\u5217\u8868",a.data)},async get_videoGroup(a){const e=await I(a);this.videoGroup=e.data,console.log("\u83B7\u53D6\u89C6\u9891\u6807\u7B7E/\u5206\u7C7B\u4E0B\u7684\u89C6\u9891",e.data)},async get_videoTimelineAll(){const a=await S();this.videoTimelineAll=a.data,console.log("\u83B7\u53D6\u5168\u90E8\u89C6\u9891\u5217\u8868",a.data)},async get_videoTimelineRecommend(){if(this.videoTimelineRecommendOffset==0){const a=await w(this.videoTimelineRecommendOffset);this.videoTimelineRecommend=a.data.datas,this.videoTimelineRecommend.forEach(e=>{e.artistName=e.data.creator?e.data.creator.nickname:"\u52A0\u8F7D\u5931\u8D25",e.vid=e.data.vid,e.name=e.data.title,e.picUrl=e.data.coverUrl,e.playCount=e.data.playTime,e.duration=e.data.durationms}),console.log("\u83B7\u53D6\u63A8\u8350\u89C6\u9891",a.data,this.videoTimelineRecommend)}else{const a=await w(this.videoTimelineRecommendOffset);a.data.datas.forEach(e=>{e.artistName=e.data.creator?e.data.creator.nickname:"\u52A0\u8F7D\u5931\u8D25",e.vid=e.data.vid,e.name=e.data.title,e.picUrl=e.data.coverUrl,e.playCount=e.data.playTime,e.duration=e.data.durationms}),this.videoTimelineRecommend=[...this.videoTimelineRecommend,...a.data.datas],console.log("\u83B7\u53D6\u63A8\u8350\u89C6\u9891",a.data,this.videoTimelineRecommend)}},async get_mvAll(){const a=await j(this.mvAllParams);this.mvAll=a.data.data,a.data.count&&(this.mvTotal=a.data.count),console.log("\u83B7\u53D6\u5168\u90E8MV\u89C6\u9891",a.data)}}});const Y={class:"video"},Z={__name:"index",setup(a){const e=O("mv"),{get_videoGroupList:o,get_mvAll:l,get_videoTimelineRecommend:_}=D(),{mvAll:y,mvAllParams:i,mvTotal:s,videoTimelineRecommend:A,videoTimelineRecommendOffset:m}=U(D());(()=>{o(),l(),_()})();const u=p=>{i.value.type=p.type,i.value.area=p.area,i.value.order=p.order,i.value.offset=1,l()},z=()=>{l()},P=()=>{m.value++,_()};return(p,b)=>{const x=V("el-tab-pane"),$=V("el-tabs");return n(),v("div",Y,[d($,{class:"tab",modelValue:e.value,"onUpdate:modelValue":b[0]||(b[0]=B=>e.value=B)},{default:r(()=>[d(x,{lazy:"",label:"MV",name:"mv"},{default:r(()=>[d(X,{onClickEmit:u}),d(E,{myData:f(y),class:"MV"},null,8,["myData"]),d(L,{myData:f(i),mvTotal:f(s),onEmitClick:z,class:"pagination"},null,8,["myData","mvTotal"])]),_:1}),d(x,{lazy:"",label:"\u89C6\u9891",name:"video"},{default:r(()=>[d(E,{myData:f(A),class:"MV"},null,8,["myData"]),c("div",{class:"loadMore"},[c("p",{onClick:P},"\u52A0\u8F7D\u66F4\u591A")])]),_:1})]),_:1},8,["modelValue"])])}}},ne=G(Z,[["__scopeId","data-v-a981b30f"]]);export{ne as default};
