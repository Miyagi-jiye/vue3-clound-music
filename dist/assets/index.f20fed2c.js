import{_ as V,r as M,a as c,o as d,c as m,b as e,u as t,d as q,e as Y,f as l,s as K,g as ue,w as b,n as R,i as U,h as O,j as z,v as D,t as g,T as de,k as ee,p as j,l as G,m as ge,F as L,q as W,x as ne,E as _e,y as pe,z as $e,A as X,B as ke,S as be,C as Ce,D as P,G as ie,H as te,I as we,J as H}from"./index.fef9ee66.js";import{u as E,a as Ie,b as Se,c as xe}from"./login.d66f7d5f.js";import{p as ze}from"./playCountFilter.21fdfcbf.js";import{u as De}from"./index.d3b662b9.js";import{u as oe}from"./playlist.abce730b.js";import"./vue.73cea66e.js";const Ve={__name:"FullScreenButton",props:{iconSize:{type:String,default:()=>"20"}},setup(s){let o=M(!1);const i=()=>{document.fullscreenElement?(document.exitFullscreen(),o.value=!1):(document.documentElement.requestFullscreen(),o.value=!0)};return(n,u)=>{const v=c("icon-off-screen"),p=c("icon-full-screen");return d(),m("div",null,[e("div",{onClick:i,class:"icon-hover"},[t(o)?(d(),q(v,{key:0,theme:"outline",size:s.iconSize,title:"\u9000\u51FA\u5168\u5C4F"},null,8,["size"])):(d(),q(p,{key:1,theme:"outline",size:s.iconSize,title:"\u70B9\u51FB\u5168\u5C4F"},null,8,["size"]))])])}}},Me=V(Ve,[["__scopeId","data-v-640c80d9"]]);const Te={class:"goBack"},Pe={__name:"DirectionIcon",setup(s){const o=Y();return(i,n)=>{const u=c("icon-left"),v=c("icon-right");return d(),m("div",Te,[l(u,{theme:"outline",size:"26",strokeWidth:2,onClick:n[0]||(n[0]=p=>t(o).back())}),l(v,{theme:"outline",size:"26",strokeWidth:2,onClick:n[1]||(n[1]=p=>t(o).forward())})])}}},Le=V(Pe,[["__scopeId","data-v-c491a6dc"]]);const We=["id"],Ue={class:"login-form"},Ne=O("\u767B\u5F55"),He={__name:"Dialog",setup(s){const{get_login:o}=E(),{loginParams:i,dialogVisible:n}=K(E());let u=M(!1);const v=M(null);let p=ue({phone:[{required:!0,message:"\u8BF7\u8F93\u5165\u8D26\u53F7",trigger:"blur"},{min:11,max:11,message:"\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u624B\u673A\u53F7\u7801",trigger:"blur"}],password:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801",trigger:"blur"},{min:6,max:16,message:"\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u5BC6\u7801",trigger:"blur"}]});const f=()=>{v.value.validate(r=>{if(r)u.value=!0,o().finally(()=>u.value=!1);else return console.log("\u8868\u5355\u9A8C\u8BC1\u4E0D\u901A\u8FC7"),!1})};return(r,_)=>{const h=c("el-input"),w=c("el-form-item"),$=c("el-form"),a=c("el-button"),S=c("el-dialog");return d(),m("div",null,[l(S,{modelValue:t(n),"onUpdate:modelValue":_[2]||(_[2]=k=>U(n)?n.value=k:null),title:"Tips",width:"300px"},{header:b(({close:k,titleId:T,titleClass:x})=>[e("h4",{id:T,class:R(x)},"\u767B\u5F55",10,We)]),footer:b(()=>[l(a,{class:"loginBtn",type:"primary",onClick:f,loading:t(u)},{default:b(()=>[Ne]),_:1},8,["loading"])]),default:b(()=>[e("div",Ue,[l($,{model:t(i),rules:t(p),ref_key:"loginFormRef",ref:v},{default:b(()=>[l(w,{prop:"phone"},{default:b(()=>[l(h,{modelValue:t(i).phone,"onUpdate:modelValue":_[0]||(_[0]=k=>t(i).phone=k),"prefix-icon":"Cellphone",placeholder:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7\u7801"},null,8,["modelValue"])]),_:1}),l(w,{prop:"password"},{default:b(()=>[l(h,{modelValue:t(i).password,"onUpdate:modelValue":_[1]||(_[1]=k=>t(i).password=k),type:"password","prefix-icon":"Lock",placeholder:"\u8BF7\u8F93\u5165\u767B\u5F55\u5BC6\u7801"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])])]),_:1},8,["modelValue"])])}}},ve=V(He,[["__scopeId","data-v-5cf12b01"]]);const Z=s=>(j("data-v-858fa302"),s=s(),G(),s),Oe={key:0,class:"loginDialog hidden-less-800"},Fe=Z(()=>e("a",null,"\u70B9\u51FB\u767B\u5F55",-1)),Be={key:1,class:"loginDialog hidden-less-800"},qe={class:"avatar"},Re={class:"nickname"},Ae={class:"followGroup"},Ee=Z(()=>e("p",null,"\u52A8\u6001",-1)),Ke={class:"item"},je=Z(()=>e("p",null,"\u5173\u6CE8",-1)),Ge={class:"item"},Je=Z(()=>e("p",null,"\u7C89\u4E1D",-1)),Qe=O(" \u4E2A\u4EBA\u4E2D\u5FC3 "),Xe={class:"menu-item"},Ye=O(" \u6211\u7684\u6D88\u606F "),Ze=Z(()=>e("div",{class:"split-line"},null,-1)),et=O(" \u9000\u51FA\u767B\u5F55 "),tt=["src","alt"],ot={__name:"LoginDialog",setup(s){const o=Y(),{get_logout:i}=E(),{isLogin:n,loginData:u,dialogVisible:v}=K(E()),p=(a,S,k)=>{o.push({name:a,query:{id:S,activeTab:k}})};let f=M(!1),r;const _=()=>{r&&clearTimeout(r),f.value=!0,console.log("1",f.value)},h=()=>{r=setTimeout(()=>{f.value=!1},300),console.log("2",f.value)},w=()=>{r&&clearTimeout(r),f.value=!0,console.log("3",f.value)},$=()=>{f.value=!1,console.log("4",f.value)};return(a,S)=>{const k=c("el-avatar"),T=c("icon-user"),x=c("icon-right"),I=c("icon-mail"),F=c("icon-logout");return t(n)==!1?(d(),m("div",Oe,[e("div",{class:"avatar",onClick:S[0]||(S[0]=N=>v.value=!0)},[l(k,{size:30,src:"https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png"}),Fe]),l(ve)])):t(n)==!0?(d(),m("div",Be,[e("div",qe,[l(de,null,{default:b(()=>[z(e("div",{class:"card",onMouseenter:w,onMouseleave:$},[e("p",Re,g(t(u).profile.nickname),1),e("div",Ae,[e("div",{class:"item",onClick:S[1]||(S[1]=N=>p("userDetail",t(u).profile.userId,"dynamic"))},[e("span",null,g(t(u).profile.eventCount),1),Ee]),e("div",Ke,[e("span",null,g(t(u).profile.follows),1),je]),e("div",Ge,[e("span",null,g(t(u).profile.followeds),1),Je])]),e("div",{class:"menu-item",onClick:S[2]||(S[2]=N=>p("userDetail",t(u).profile.userId))},[l(T,{theme:"outline",size:"18"}),Qe,l(x,{theme:"outline",size:"18"})]),e("div",Xe,[l(I,{theme:"outline",size:"18"}),Ye,l(x,{theme:"outline",size:"18"})]),Ze,e("div",{class:"menu-item",onClick:S[3]||(S[3]=N=>t(i)())},[l(F,{theme:"outline",size:"18"}),et,l(x,{theme:"outline",size:"18"})])],544),[[D,t(f)==!0]])]),_:1}),e("img",{src:t(u).profile.avatarUrl+"?param=100y100",alt:"\u7528\u6237ID="+t(u).profile.userId,class:"img",onMouseenter:_,onMouseleave:h},null,40,tt)])])):ee("",!0)}}},st=V(ot,[["__scopeId","data-v-858fa302"]]);const lt={class:"group-titlle"},nt=["onClick"],it={__name:"menu",setup(s){const o=Y(),i=ge();let n=M(i.path);const u=ue([{id:1,groupName:"\u5728\u7EBF\u97F3\u4E50",children:[{name:"\u63A8\u8350",icon:"icon-planet",path:"/discover"},{name:"\u97F3\u4E50\u9986",icon:"icon-music",path:"/music"},{name:"\u89C6\u9891",icon:"icon-video-one",path:"/video"},{name:"\u7535\u53F0",icon:"icon-fm",path:"/dj"}]},{id:2,groupName:"\u6211\u7684\u97F3\u4E50",children:[{name:"\u6211\u559C\u6B22",icon:"icon-like"},{name:"\u672C\u5730\u6B4C\u66F2",icon:"icon-computer"},{name:"\u4E0B\u8F7D\u6B4C\u66F2",icon:"icon-download-three"},{name:"\u6700\u8FD1\u64AD\u653E",icon:"icon-play-two"}]}]),v=p=>{n.value=p.path,console.log(p.path),p.path?o.push(p.path):_e.error("\u6682\u65E0\u8BE5\u8DEF\u5F84")};return(p,f)=>(d(),m("div",null,[(d(!0),m(L,null,W(u,r=>(d(),m("div",{class:"group",key:r.id},[e("p",lt,g(r.groupName),1),(d(!0),m(L,null,W(r.children,_=>(d(),m("div",{class:R(["group-item",t(n)==_.path?"active":""]),key:_.path,onClick:h=>v(_)},[(d(),q(ne(_.icon),{theme:"outline",size:"22",strokeWidth:2})),e("span",null,g(_.name),1)],10,nt))),128))]))),128))]))}},me=V(it,[["__scopeId","data-v-ad62ffaa"]]);const le=s=>(j("data-v-fad52bb9"),s=s(),G(),s),at={class:"box"},ct=["src","alt"],rt={class:"center"},ut={class:"nickname"},dt={class:"signature"},_t=O(" \u6CE8\u9500 "),pt={class:"followGroup"},vt=le(()=>e("p",null,"\u52A8\u6001",-1)),mt={class:"item"},ft=le(()=>e("p",null,"\u5173\u6CE8",-1)),ht={class:"item"},yt=le(()=>e("p",null,"\u7C89\u4E1D",-1)),gt={key:1,class:"userInfo",style:{"background-color":"dimgray"}},$t={class:"box"},kt=$e('<div class="left" data-v-fad52bb9><img src="https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png" alt="\u6E38\u5BA2\u5934\u50CF" data-v-fad52bb9></div><div class="center" data-v-fad52bb9><div class="nickname" data-v-fad52bb9>\u6E38\u5BA2</div><div class="signature" data-v-fad52bb9>\u66F4\u591A\u529F\u80FD\u8BF7\u767B\u5F55\u4F53\u9A8C</div></div>',2),bt=O(" \u767B\u5F55 "),Ct=le(()=>e("div",{class:"followGroup"},[e("div",{class:"item"},[e("span",null,"-"),e("p",null,"\u52A8\u6001")]),e("div",{class:"item"},[e("span",null,"-"),e("p",null,"\u5173\u6CE8")]),e("div",{class:"item"},[e("span",null,"-"),e("p",null,"\u7C89\u4E1D")])],-1)),wt={__name:"UserInfo",setup(s){const{loginData:o,isLogin:i,dialogVisible:n}=K(E()),{get_logout:u}=E(),v=Y(),p=(f,r,_)=>{v.push({name:f,query:{id:r,activeTab:_}})};return(f,r)=>{const _=c("icon-male"),h=c("icon-female"),w=c("icon-vip-one"),$=c("icon-right");return t(i)==!0?(d(),m("div",{key:0,class:"userInfo",style:pe({backgroundImage:"url("+t(o).profile.backgroundUrl+"?param=400y400)"})},[e("div",at,[e("div",{class:"left",onClick:r[0]||(r[0]=a=>p("userDetail",t(o).profile.userId))},[e("img",{src:t(o).profile.avatarUrl+"?param=100y100",alt:"\u7528\u6237ID="+t(o).profile.userId},null,8,ct)]),e("div",rt,[e("div",ut,[O(g(t(o).profile.nickname)+" ",1),t(o).profile.gender==1?(d(),q(_,{key:0,theme:"outline",size:"20",fill:"#002bff",class:"icon"})):t(o).profile.gender==2?(d(),q(h,{key:1,theme:"outline",size:"20",fill:"#ff00f7",class:"icon"})):ee("",!0),z(l(w,{theme:"outline",size:"20",fill:"#34d399",class:"icon"},null,512),[[D,t(o).profile.vipType!==0]])]),e("div",dt,g(t(o).profile.signature),1)]),e("div",{class:"right",onClick:r[1]||(r[1]=a=>t(u)())},[_t,l($,{theme:"outline",size:"14"})])]),e("div",pt,[e("div",{class:"item",onClick:r[2]||(r[2]=a=>p("userDetail",t(o).profile.userId,"dynamic"))},[e("span",null,g(t(o).profile.eventCount),1),vt]),e("div",mt,[e("span",null,g(t(o).profile.follows),1),ft]),e("div",ht,[e("span",null,g(t(o).profile.followeds),1),yt])])],4)):t(i)==!1?(d(),m("div",gt,[e("div",$t,[kt,e("div",{class:"right",onClick:r[3]||(r[3]=a=>n.value=!0)},[bt,l($,{theme:"outline",size:"14"})])]),Ct,l(ve)])):ee("",!0)}}},It=V(wt,[["__scopeId","data-v-fad52bb9"]]);const St=s=>(j("data-v-be4db7f3"),s=s(),G(),s),xt={class:"header"},zt=St(()=>e("div",{class:"title"},"\u5BFC\u822A\u83DC\u5355",-1)),Dt={class:"content"},Vt={__name:"HamburgerIcon",props:{myData:{type:Array,default:()=>[]},size:{type:String,default:()=>"350px"},iconSize:{type:String,default:()=>"28"}},setup(s){let o=M(!1);return(i,n)=>{const u=c("icon-hamburger-button"),v=c("icon-close"),p=c("el-scrollbar"),f=c("el-drawer");return d(),m("div",null,[l(u,{class:"hamburgerIcon",theme:"outline",size:s.iconSize,strokeWidth:2,onClick:n[0]||(n[0]=r=>U(o)?o.value=!0:o=!0)},null,8,["size"]),l(f,{modelValue:t(o),"onUpdate:modelValue":n[2]||(n[2]=r=>U(o)?o.value=r:o=r),direction:"rtl",size:s.size,"with-header":!1},{default:b(()=>[l(p,null,{default:b(()=>[X(i.$slots,"header",{},()=>[e("div",xt,[zt,l(v,{theme:"outline",size:"20",title:"\u5173\u95ED",class:"close",onClick:n[1]||(n[1]=r=>U(o)?o.value=!1:o=!1)})])],!0),X(i.$slots,"default",{},()=>[e("div",Dt,[l(It),l(me)])],!0)]),_:3})]),_:3},8,["modelValue","size"])])}}},Mt=V(Vt,[["__scopeId","data-v-be4db7f3"]]),ce=ke("search",{state:()=>({showSearchView:!1,searchKeyword:"",suggestData:{},searchHot:[],searchData:null}),getters:{showHot:s=>s.searchKeyword=="",showSuggest:s=>{if(JSON.stringify(s.suggestData)==="{}")return!0}},actions:{async get_searchSuggest(){const s=await Ie(this.searchKeyword);this.suggestData=s.data.result,console.log("\u83B7\u53D6\u641C\u7D22\u8BE6\u60C5",s.data)},async get_searchHotDetail(){const s=await Se();this.searchHot=s.data.data,console.log("\u83B7\u53D6\u641C\u7D22\u5EFA\u8BAE",s.data)},async get_songDetail(s){const o=await xe(s);return console.log("\u83B7\u53D6\u6B4C\u66F2\u8BE6\u60C5",o.data),o.data.songs[0]}}});function Tt(s,o,i){let n=null;return function(){n&&clearTimeout(n),i==!0&&(s.apply(this,arguments),i=!1),n=setTimeout(()=>{s.apply(this,arguments)},o)}}const Pt=s=>(j("data-v-da78d65d"),s=s(),G(),s),Lt={style:{height:"400px"}},Wt=Pt(()=>e("div",{class:"searchTitle"},"\u70ED\u95E8\u641C\u7D22",-1)),Ut=["onClick"],Nt={class:"hover"},Ht={style:{"margin-right":"4px"}},Ot={style:{color:"#fdb6b6"}},Ft={key:0},Bt={class:"searchTitle"},qt=["onClick"],Rt={style:{color:"#34d399"},class:"truncate"},At={style:{"margin-left":"8px"},class:"truncate"},Et=["onClick"],Kt={style:{color:"#34d399"},class:"truncate"},jt={style:{"margin-left":"8px"},class:"truncate"},Gt=["onClick"],Jt={style:{color:"#34d399","margin-left":"8px"},class:"truncate"},Qt=["onClick"],Xt={style:{color:"#34d399","margin-left":"8px"},class:"truncate"},Yt={__name:"SearchPopover",setup(s){const{Playlist:o}=De(),i=Y(),{showSearchView:n,searchKeyword:u,showHot:v,showSuggest:p,searchHot:f,suggestData:r}=K(ce()),{get_searchSuggest:_,get_searchHotDetail:h,get_songDetail:w}=ce();h();const $=(x,I)=>{n.value=!1,i.push({name:x,params:{id:I},query:{id:I}})},a=async x=>{const I=await w(x);o.change_playMusic(I),o.push_toPlayList(I)},S=async x=>{u.value=x,await _(),n.value=!0},k=x=>{switch(x){case"songs":return"\u5355\u66F2";case"albums":return"\u4E13\u8F91";case"artists":return"\u6B4C\u624B";case"playlists":return"\u6B4C\u5355";default:return x}},T=Tt(()=>{_()},1e3,!1);return(x,I)=>{const F=c("el-input"),N=c("el-avatar"),J=c("el-scrollbar"),Q=c("el-popover");return d(),m("div",null,[l(Q,{visible:t(n),"onUpdate:visible":I[4]||(I[4]=C=>U(n)?n.value=C:null),placement:"bottom","popper-style":"max-width:auto;padding:0;",width:"300px"},{reference:b(()=>[l(F,{modelValue:t(u),"onUpdate:modelValue":I[0]||(I[0]=C=>U(u)?u.value=C:null),placeholder:"\u641C\u7D22\u97F3\u4E50\u3001MV\u3001\u6B4C\u5355","prefix-icon":t(be),clearable:!0,onFocus:I[1]||(I[1]=C=>n.value=!0),onFocusout:I[2]||(I[2]=C=>n.value=!1),onInput:t(T),onKeyup:I[3]||(I[3]=Ce(C=>$("searchDetail",t(u)),["enter","native"]))},null,8,["modelValue","prefix-icon","onInput"])]),default:b(()=>[e("div",Lt,[l(J,null,{default:b(()=>[z(e("div",null,[Wt,e("div",null,[(d(!0),m(L,null,W(t(f),(C,y)=>(d(),m("div",{key:C.searchWord,class:"hotItem",onClick:B=>S(C.searchWord)},[e("div",Nt,[e("span",Ht,g(y+1)+".",1),e("span",null,g(C.searchWord),1)]),e("div",Ot,g(t(ze)(C.score)),1)],8,Ut))),128))])],512),[[D,t(v)==!0]]),z(e("div",null,[t(r)?(d(),m("div",Ft,[(d(!0),m(L,null,W(t(r).order,C=>(d(),m("div",null,[e("div",Bt,g(k(C)),1),(d(!0),m(L,null,W(t(r).songs,y=>{var B;return z((d(),m("div",{key:y.id,class:"searchItem",onClick:ae=>a(y.id)},[e("span",Rt,g(y.name),1),e("span",At," - "+g((B=y.artists.at(0))==null?void 0:B.name),1)],8,qt)),[[D,C==="songs"]])}),128)),(d(!0),m(L,null,W(t(r).albums,y=>z((d(),m("div",{key:y.id,class:"searchItem",onClick:B=>$("albumDetail",y.id)},[e("span",Kt,g(y.name),1),e("span",jt," - "+g(y.artist.name),1)],8,Et)),[[D,C==="albums"]])),128)),(d(!0),m(L,null,W(t(r).artists,y=>z((d(),m("div",{key:y.id,class:"searchItem",onClick:B=>$("artistDetail",y.id)},[l(N,{size:"small",src:y.img1v1Url,class:"truncate"},null,8,["src"]),e("span",Jt,g(y.name),1)],8,Gt)),[[D,C==="artists"]])),128)),(d(!0),m(L,null,W(t(r).playlists,y=>z((d(),m("div",{key:y.id,class:"searchItem",onClick:B=>$("playlist",y.id)},[l(N,{size:"small",src:y.coverImgUrl,class:"truncate"},null,8,["src"]),e("div",Xt,g(y.name),1)],8,Qt)),[[D,C==="playlists"]])),128))]))),256))])):ee("",!0)],512),[[D,t(v)==!1]])]),_:1})])]),_:1},8,["visible"])])}}},Zt=V(Yt,[["__scopeId","data-v-da78d65d"]]);const eo={style:{width:"100%"}},to={class:"header"},oo={class:"left"},so={class:"right"},lo={__name:"header",setup(s){return(o,i)=>(d(),m("div",eo,[e("div",to,[e("div",oo,[l(Le),l(Zt)]),e("div",so,[l(st),l(Me,{iconSize:"20"}),l(Mt,{iconSize:"28",class:"hidden-more-800"})])])]))}},no=V(lo,[["__scopeId","data-v-937c95c3"]]);const io={class:"playIcon"},ao={__name:"PlayIcon",setup(s){let o=P("audioStatus");const i=P("playClick"),n=P("pauseClick");return(u,v)=>{const p=c("icon-play"),f=c("icon-pause-one");return d(),m("div",io,[z(l(p,{fill:"#34d399",theme:"filled",size:"38",strokeWidth:2,title:"\u70B9\u51FB\u64AD\u653E",onClick:v[0]||(v[0]=r=>t(i)())},null,512),[[D,t(o)===!1]]),z(l(f,{fill:"#34d399",theme:"filled",size:"38",strokeWidth:2,title:"\u70B9\u51FB\u6682\u505C",onClick:v[1]||(v[1]=r=>t(n)())},null,512),[[D,t(o)===!0]])])}}},co=V(ao,[["__scopeId","data-v-14239679"]]);const ro={class:"playModeIcon"},uo={__name:"PlayModeIcon",setup(s){let o=P("playMode");function i(n){o.value=n}return(n,u)=>{const v=c("icon-play-once"),p=c("icon-loop-once"),f=c("icon-play-cycle");return d(),m("div",ro,[z(l(v,{theme:"outline",size:"22",strokeWidth:2,title:"\u64AD\u5B8C\u6682\u505C",onClick:u[0]||(u[0]=r=>i("loopOnce"))},null,512),[[D,t(o)==="playOnce"]]),z(l(p,{theme:"outline",size:"22",strokeWidth:2,title:"\u5355\u66F2\u5FAA\u73AF",onClick:u[1]||(u[1]=r=>i("playCycle"))},null,512),[[D,t(o)==="loopOnce"]]),z(l(f,{theme:"outline",size:"22",strokeWidth:2,title:"\u6B4C\u5355\u5FAA\u73AF",onClick:u[2]||(u[2]=r=>i("playOnce"))},null,512),[[D,t(o)==="playCycle"]])])}}},_o=V(uo,[["__scopeId","data-v-f72e9609"]]);const po={class:"volumeIcon"},vo={class:"hidden"},mo={class:"volume"},fo={__name:"VolumeIcon",setup(s){let o=P("volume");const i=P("volumeSetting");function n(){o.value==0?(o.value=50,i()):(o.value=0,i())}return ie(()=>{const u=document.querySelector(".volumeIcon"),v=document.querySelector(".hidden");let p=M(null);v.onmouseenter=()=>{clearTimeout(p)},v.onmouseleave=()=>{v.style.display="none"},u.onmouseenter=()=>{clearTimeout(p),v.style.display="block"},u.onmouseleave=()=>{p=setTimeout(()=>{v.style.display="none"},500)}}),(u,v)=>{const p=c("el-slider");return d(),m("div",null,[e("div",po,[(d(),q(ne(t(o)===0?"icon-volume-mute":t(o)==100?"icon-volume-notice":"icon-volume-small"),{theme:"outline",size:"22",strokeWidth:2,title:"\u97F3\u91CF",onClick:n}))]),e("div",vo,[e("div",mo,[l(p,{modelValue:t(o),"onUpdate:modelValue":v[0]||(v[0]=f=>U(o)?o.value=f:o=f),vertical:"",height:"100px","show-tooltip":!1,onInput:v[1]||(v[1]=f=>t(i)())},null,8,["modelValue"]),e("p",null,g(t(o)),1)])])])}}},ho=V(fo,[["__scopeId","data-v-5babe41f"]]);function se(s){if(s==0||window.isNaN(s))return"00:00";let o=Math.floor(s%60),i=Math.floor(s/60);return`${i<10?"0"+i:i}:${o<10?"0"+o:o}`}const yo={class:"lyricPlayer"},go={class:"cover"},$o={class:"cover-container"},ko=["src","alt"],bo={class:"controls"},Co={class:"top-part"},wo={class:"track-info"},Io={class:"title"},So={class:"subtitle"},xo=O(" - "),zo={class:"like-icon"},Do={class:"progress-bar"},Vo={class:"time"},Mo={class:"time"},To={class:"media-controls"},Po={__name:"LyricPlayer",props:{songs:{type:Object,default:()=>({id:1234,name:"\u6B4C\u66F2\u540D",al:{id:1234,name:"\u4E13\u8F91",picUrl:"\u56FE\u7247\u94FE\u63A5",pic:"\u56FE\u7247id"},ar:[{id:1234,name:"\u6B4C\u624B"}]})},currentTime:{type:Number,default:()=>0},duration:{type:Number,default:()=>0}},setup(s){const o=s;let i=P("audioStatus"),n=P("playMode"),u=P("playSpeed");const v=P("playClick"),p=P("pauseClick"),f=P("preClick"),r=P("nextClick"),_=P("playSpeedClick"),h=$=>{$=="pause"&&p(),$=="play"&&v(),$=="pre"&&f(),$=="next"&&r(),$=="playOnce"&&(n.value=$,console.log("\u64AD\u5B8C\u6682\u505C")),$=="loopOnce"&&(n.value=$,console.log("\u5355\u66F2\u5FAA\u73AF")),$=="playCycle"&&(n.value=$,console.log("\u6B4C\u5355\u5FAA\u73AF")),$=="speed"&&_()};let w=M(0);return te(()=>o.currentTime,()=>{isNaN(o.duration)!==!0&&(w.value=parseInt(o.currentTime/o.duration*100))}),($,a)=>{const S=c("router-link"),k=c("icon-like"),T=c("el-progress"),x=c("icon-go-start"),I=c("icon-play-one"),F=c("icon-pause"),N=c("icon-go-end"),J=c("icon-play-once"),Q=c("icon-loop-once"),C=c("icon-play-cycle");return d(),m("div",yo,[e("div",go,[e("div",$o,[e("img",{src:s.songs.al.picUrl,alt:"\u6B4C\u66F2ID="+s.songs.al.id},null,8,ko),e("div",{class:"shadow",style:pe({backgroundImage:"url("+s.songs.al.picUrl+")"})},null,4)])]),e("div",bo,[e("div",Co,[e("div",wo,[e("div",Io,g(s.songs.name),1),e("div",So,[(d(!0),m(L,null,W(s.songs.ar,y=>(d(),q(S,{key:y.id,to:{name:"artistDetail",params:{id:y.id}},class:"ar"},{default:b(()=>[O(g(y.name),1)]),_:2},1032,["to"]))),128)),xo,l(S,{to:{name:"albumDetail",params:{id:s.songs.al.id}},class:"al"},{default:b(()=>[O(g(s.songs.al.name),1)]),_:1},8,["to"])])]),e("div",zo,[l(k,{theme:"outline",size:"20"})])]),e("div",Do,[e("span",Vo,g(t(se)(s.currentTime)),1),l(T,{percentage:t(w),"text-inside":!0,"show-text":!1,"stroke-width":6,class:"slider"},null,8,["percentage"]),e("span",Mo,g(t(se)(s.duration)),1)]),e("div",To,[e("div",{title:"\u64AD\u653E\u901F\u5EA6",onClick:a[0]||(a[0]=y=>h("speed")),class:R(["icon-hover play-speed",{activeMode:t(u)!==1}])},g(t(u))+"x",3),l(x,{theme:"outline",size:"34",strokeWidth:5,title:"\u4E0A\u4E00\u9996",onClick:a[1]||(a[1]=y=>h("pre")),class:"icon-hover"}),z(l(I,{theme:"filled",size:"44",onClick:a[2]||(a[2]=y=>h("play")),strokeWidth:5,title:"\u70B9\u51FB\u64AD\u653E",class:"icon-hover"},null,512),[[D,t(i)===!1]]),z(l(F,{theme:"filled",size:"44",strokeWidth:5,onClick:a[3]||(a[3]=y=>h("pause")),title:"\u70B9\u51FB\u6682\u505C",class:"icon-hover"},null,512),[[D,t(i)===!0]]),l(N,{theme:"outline",size:"34",strokeWidth:5,title:"\u4E0B\u4E00\u9996",onClick:a[4]||(a[4]=y=>h("next")),class:"icon-hover"}),z(l(J,{theme:"outline",size:"18",strokeWidth:5,title:"\u64AD\u5B8C\u6682\u505C",class:"icon-hover",onClick:a[5]||(a[5]=y=>h("playCycle"))},null,512),[[D,t(n)=="playOnce"]]),z(l(Q,{theme:"outline",size:"18",strokeWidth:5,title:"\u5355\u66F2\u5FAA\u73AF",class:R(["icon-hover",{activeMode:t(n)=="loopOnce"}]),onClick:a[6]||(a[6]=y=>h("playOnce"))},null,8,["class"]),[[D,t(n)=="loopOnce"]]),z(l(C,{theme:"outline",size:"18",strokeWidth:5,title:"\u6B4C\u5355\u5FAA\u73AF",class:R(["icon-hover",{activeMode:t(n)=="playCycle"}]),onClick:a[7]||(a[7]=y=>h("loopOnce"))},null,8,["class"]),[[D,t(n)=="playCycle"]])])])])}}},Lo=V(Po,[["__scopeId","data-v-d9638165"]]);const Wo=s=>(j("data-v-54024832"),s=s(),G(),s),Uo=["src"],No={class:"lyricDialog"},Ho={class:"left-side"},Oo={class:"right-side"},Fo={key:0,class:"lyric-container"},Bo={key:1,class:"lyric-container"},qo=Wo(()=>e("p",{class:"lyric-item lyricActive"},"\u6682\u65E0\u6B4C\u8BCD",-1)),Ro=[qo],Ao={__name:"LyricDialog",props:{currentPlayMusic:{type:Object,default:()=>({id:1,name:"\u6B4C\u66F2\u540D\u52A0\u5907\u6CE8()",ar:[{id:123456,name:"\u6B4C\u624B"}],al:{id:123456,name:"\u6B4C\u66F2",picUrl:"\u56FE\u7247\u94FE\u63A5"},dt:0})},size:{type:String,default:()=>"100%"},lyric:{type:Array,default:()=>[{time:0,lyric:"\u4F5C\u8BCD : ",next:9999}]},currentTime:{type:Number,default:()=>0},duration:{type:Number,default:()=>0}},setup(s){const o=s;let i=M(!1),n=M(0),u=M(!0),v=M(!0),p=1;const f=()=>{p++,p==1&&(u.value=!0,v.value=!0),p==2&&(u.value=!1,v.value=!0),p==3&&(u.value=!0,v.value=!1,p=0),console.log(p)};return ie(()=>{te(()=>o.currentTime,(r,_)=>{for(let h=0;h<o.lyric.length;h++)o.currentTime>=o.lyric[h].time&&o.currentTime<=o.lyric[h].next&&(n.value=h)}),te(()=>n.value,(r,_)=>{const h=document.querySelector(".lyricActive"),w=document.querySelector(".right-side");h&&w&&(w.scrollTop=h.offsetHeight*n.value-w.clientHeight/2)})}),(r,_)=>{const h=c("icon-down"),w=c("icon-app-switch"),$=c("el-drawer");return d(),m("div",null,[e("img",{src:s.currentPlayMusic.al.picUrl+"?param=50y50",fit:"cover",onClick:_[0]||(_[0]=a=>U(i)?i.value=!0:i=!0),class:"img"},null,8,Uo),l($,{modelValue:t(i),"onUpdate:modelValue":_[2]||(_[2]=a=>U(i)?i.value=a:i=a),direction:"btt",size:s.size,"with-header":!1},{default:b(()=>[X(r.$slots,"default",{},()=>[e("div",No,[z(e("div",Ho,[l(Lo,{songs:s.currentPlayMusic,currentTime:s.currentTime,duration:s.duration},null,8,["songs","currentTime","duration"])],512),[[D,t(u)==!0]]),z(e("div",Oo,[s.lyric.length!==0?(d(),m("div",Fo,[(d(!0),m(L,null,W(s.lyric,a=>(d(),m("p",{class:R(["lyric-item",{lyricActive:s.currentTime>=a.time&&s.currentTime<=a.next}])},g(a.lyric),3))),256))])):(d(),m("div",Bo,Ro))],512),[[D,t(v)==!0]]),e("div",{class:"close",onClick:_[1]||(_[1]=a=>U(i)?i.value=!1:i=!1)},[l(h,{theme:"filled",size:"40",class:"downIcon"})]),e("div",{class:"switch",onClick:f},[l(w,{theme:"filled",size:"25",class:"switchIcon"})])])],!0)]),_:3},8,["modelValue","size"])])}}},Eo=V(Ao,[["__scopeId","data-v-54024832"]]);const fe=s=>(j("data-v-d531811b"),s=s(),G(),s),Ko={class:"title"},jo=fe(()=>e("div",{class:"large-title"},"\u64AD\u653E\u5217\u8868",-1)),Go={class:"small-title"},Jo=fe(()=>e("span",null,"\u6E05\u7A7A",-1)),Qo=["onDblclick"],Xo={class:"img"},Yo={alt:"\u52A0\u8F7D\u4E2D..."},Zo={class:"detail"},es={class:"author"},ts={class:"delete"},os=["onClick"],ss={class:"duration"},ls={__name:"MusicListIcon",props:{size:{type:Number,default:()=>300},iconSize:{type:String,default:()=>"38"}},setup(s){const{currentPlayMusic:o,toPlayList:i}=K(oe()),{delete_toPlayList:n,change_playMusic:u,clear_toPlayList:v}=oe();let p=M(!1);function f(r){let _=Math.floor(r/1e3%60),h=Math.floor(r/1e3/60);return`${h<10?"0"+h:h}:${_<10?"0"+_:_}`}return(r,_)=>{const h=c("icon-music-list"),w=c("el-badge"),$=c("icon-delete"),a=c("el-drawer"),S=we("lazy");return d(),m("div",null,[l(w,{value:t(i).length,hidden:t(i).length==0},{default:b(()=>[l(h,{class:"musicList",theme:"outline",size:s.iconSize,strokeWidth:3,title:"\u6B4C\u66F2\u5217\u8868",onClick:_[0]||(_[0]=k=>U(p)?p.value=!0:p=!0)},null,8,["size"])]),_:1},8,["value","hidden"]),l(a,{modelValue:t(p),"onUpdate:modelValue":_[2]||(_[2]=k=>U(p)?p.value=k:p=k),direction:"rtl",size:s.size,"with-header":!1},{default:b(()=>[X(r.$slots,"header",{},()=>[e("div",Ko,[jo,e("div",Go,[e("span",null,"\u5171"+g(t(i).length)+"\u9996\u6B4C\u66F2",1),e("div",{class:"icon",onClick:_[1]||(_[1]=k=>t(v)())},[l($,{theme:"outline",size:"14",strokeWidth:4,title:"\u6E05\u7A7A"}),Jo])])])],!0),X(r.$slots,"default",{},()=>[(d(!0),m(L,null,W(t(i),k=>(d(),m("div",{onDblclick:T=>t(u)(k),class:R(["card",t(o).id==k.id?"active":""]),key:k.id},[e("div",Xo,[z(e("img",Yo,null,512),[[S,k.al.picUrl+"?param=40y40"]])]),e("div",Zo,[e("span",null,g(k.name),1),e("div",es,[(d(!0),m(L,null,W(k.ar,T=>(d(),m("span",{key:T.id},g(T.name),1))),128))])]),e("div",ts,[e("a",{class:"deleteIcon",onClick:T=>t(n)(k.id)},"\u79FB\u9664",8,os),e("div",ss,g(f(k.dt)),1)])],42,Qo))),128))],!0)]),_:3},8,["modelValue","size"])])}}},re=V(ls,[["__scopeId","data-v-d531811b"]]);const ns={class:"palyer"},is=["src"],as={class:"group"},cs={class:"detail"},rs={class:"info"},us={class:"top"},ds={class:"bottom"},_s={class:"button"},ps={class:"list hidden-less-1000"},vs={__name:"footer",setup(s){const{currentPlayMusic:o,toPlayList:i,lyric:n,audioStatus:u,audioCurrentTime:v,audioDuration:p,progressStatus:f,playMode:r,playSpeed:_,volume:h}=K(oe()),{pre_music:w,next_music:$}=oe(),a=M(""),S=M("");function k(){a.value.volume=h.value/100}function T(C){C?a.value.playbackRate=C:(_.value+=.5,_.value>2&&(_.value=.5),a.value.playbackRate=_.value)}function x(){u.value=!0,setTimeout(()=>{a.value.play().then(()=>{console.log("\u64AD\u653E\u6210\u529F"),u.value=!0,_.value!==1&&(a.value.playbackRate=_.value)}).catch(C=>{console.log("\u64AD\u653E\u51FA\u9519",C),u.value=!1,a.value.currentTime=0,_e({showClose:!0,message:"\u6CA1\u6709\u64AD\u653E\u6743\u9650",type:"error"})})},500)}function I(){u.value=!1,a.value.pause()}function F(){w()}function N(){$()}function J(){a.value.currentTime=Number(f.value*a.value.duration/100)}function Q(){a.value.autoplay=!1,a.value.controls=!1,a.value.volume=.5,a.value.playbackRate=1}return H("audioStatus",u),H("playMode",r),H("playSpeed",_),H("volume",h),H("playClick",x),H("pauseClick",I),H("preClick",F),H("nextClick",N),H("playSpeedClick",T),H("volumeSetting",k),ie(()=>{Q(),a.value.ontimeupdate=function(){f.value=Number(a.value.currentTime/a.value.duration*100),v.value=parseInt(a.value.currentTime),p.value=a.value.duration},a.value.onended=function(){u.value=!1,r.value=="playOnce"&&(I(),console.log("\u64AD\u653E\u7ED3\u675F,\u64AD\u5B8C\u6682\u505C")),i.value.length!==0&&r.value=="loopOnce"&&(x(),console.log("\u64AD\u653E\u7ED3\u675F,\u5355\u66F2\u5FAA\u73AF")),i.value.length-1!==0&&r.value=="playCycle"&&($(),console.log("\u64AD\u653E\u7ED3\u675F,\u6B4C\u5355\u5FAA\u73AF"))}}),te(()=>o.value.id,()=>{console.log("\u6B4C\u66F2id\u53D1\u751F\u53D8\u5316",o.value.id),x()}),(C,y)=>{const B=c("el-slider"),ae=c("icon-go-start"),he=c("icon-go-end"),ye=c("icon-text-message");return d(),m("div",ns,[e("audio",{type:"file",ref_key:"audio",ref:a,src:`https://music.163.com/song/media/outer/url?id=${t(o).id}.mp3`,preload:"metadata"},"\u60A8\u7684\u6D4F\u89C8\u5668\u4E0D\u652F\u6301audio\u6807\u7B7E,\u60A8\u8FD8\u662F\u6362\u4E2A\u6D4F\u89C8\u5668\u5427",8,is),l(B,{ref_key:"progressBar",ref:S,modelValue:t(f),"onUpdate:modelValue":y[0]||(y[0]=A=>U(f)?f.value=A:null),onInput:J,"show-tooltip":!1},null,8,["modelValue"]),e("div",as,[e("div",cs,[l(Eo,{lyric:t(n),currentTime:a.value.currentTime,duration:a.value.duration,currentPlayMusic:t(o)},null,8,["lyric","currentTime","duration","currentPlayMusic"]),e("div",rs,[e("p",us,g(t(o).name),1),e("div",ds,[(d(!0),m(L,null,W(t(o).ar,A=>(d(),m("a",{key:A.name},g(A.name),1))),128))])])]),e("div",_s,[l(_o,{class:"hidden-less-1000"}),l(ae,{class:"item hidden-less-1000",theme:"outline",size:"28",strokeWidth:4,title:"\u4E0A\u4E00\u9996",onClick:y[1]||(y[1]=A=>F())}),l(co),l(he,{class:"item hidden-less-1000",theme:"outline",size:"28",strokeWidth:4,title:"\u4E0B\u4E00\u9996",onClick:y[2]||(y[2]=A=>N())}),l(ho,{class:"hidden-less-1000"}),l(re,{class:"hidden-more-1000"})]),e("div",ps,[e("p",null,g(t(se)(t(v)))+" / "+g(t(se)(t(p))),1),l(ye,{theme:"outline",size:"22",strokeWidth:3,title:"\u6B4C\u66F2\u8BC4\u8BBA"}),l(re,{iconSize:"24"})])])])}}},ms=V(vs,[["__scopeId","data-v-49e03c24"]]);const fs={class:"common-layout"},hs={__name:"index",setup(s){return(o,i)=>{const n=c("el-scrollbar"),u=c("el-aside"),v=c("el-header"),p=c("router-view"),f=c("el-main"),r=c("el-backtop"),_=c("el-footer"),h=c("el-container");return d(),m("div",fs,[l(h,null,{default:b(()=>[l(u,{width:"240px"},{default:b(()=>[l(n,null,{default:b(()=>[l(me)]),_:1})]),_:1}),l(h,null,{default:b(()=>[l(v,null,{default:b(()=>[l(no)]),_:1}),l(f,{id:"myMain"},{default:b(()=>[l(p,null,{default:b(({Component:w})=>[l(de,{name:"slide-fade"},{default:b(()=>[(d(),q(ne(w)))]),_:2},1024)]),_:1})]),_:1}),l(r,{bottom:100,target:"#myMain"}),l(_,null,{default:b(()=>[l(ms)]),_:1})]),_:1})]),_:1})])}}},ws=V(hs,[["__scopeId","data-v-d65401a6"]]);export{ws as default};
